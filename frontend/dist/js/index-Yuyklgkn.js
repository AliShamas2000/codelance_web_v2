const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/CodelanceProcessHeader-iYTjF_sM.js","js/react-vendor-_d0HjO0I.js","js/vendor-BHHAzz3X.js","assets/react-vendor-DpsRipQV.css","js/axios-vendor-dCcInDfG.js","js/CodelanceProcessTimeline-Pcr5hpRv.js","js/CodelanceProcessCTA-D6ath9vh.js","js/CodelancePortfolioHeader-D5GY_fm2.js","js/CodelancePortfolioFilters-C661zDLt.js","js/CodelancePortfolioGrid-rGbqa_l2.js","js/CodelancePortfolioCTA-uT-PQaMU.js","js/CodelanceTeamShowcase-DTJ749RX.js","js/CodelanceReviewsHeader-BJz88vlX.js","js/CodelanceReviewsCarousel-DfkXgL3-.js","js/CodelancePricingHeader-D3WUC6B0.js","js/CodelancePricingGrid-CdFD-A0e.js","js/CodelancePricingCTA-BJi4ULcQ.js","js/CodelanceContactSection-DBmAUsI_.js","js/SuccessModal-CDi1N_fe.js","js/CodelanceFooter-w6YcP3Eb.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,r=Object.defineProperties,t=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(r,t,a)=>t in r?e(r,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[t]=a,n=(e,r)=>{for(var t in r||(r={}))s.call(r,t)&&i(e,t,r[t]);if(a)for(var t of a(r))l.call(r,t)&&i(e,t,r[t]);return e},o=(e,a)=>r(e,t(a)),d=(e,r,t)=>new Promise((a,s)=>{var l=e=>{try{n(t.next(e))}catch(r){s(r)}},i=e=>{try{n(t.throw(e))}catch(r){s(r)}},n=e=>e.done?a(e.value):Promise.resolve(e.value).then(l,i);n((t=t.apply(e,r)).next())});import{u as c,r as m,j as g,R as u,P as x,a as p,L as h,O as b,N as y,B as f,b as v,c as j,d as k}from"./react-vendor-_d0HjO0I.js";import{a as N}from"./axios-vendor-dCcInDfG.js";import"./vendor-BHHAzz3X.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&r(e)}).observe(document,{childList:!0,subtree:!0})}function r(e){if(e.ep)return;e.ep=!0;const r=function(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?r.credentials="include":"anonymous"===e.crossOrigin?r.credentials="omit":r.credentials="same-origin",r}(e);fetch(e.href,r)}}();const w={},_=function(e,r,t){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),t=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));a=Promise.allSettled(r.map(e=>{if((e=function(e){return"/"+e}(e))in w)return;w[e]=!0;const r=e.endsWith(".css"),a=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const s=document.createElement("link");return s.rel=r?"stylesheet":"modulepreload",r||(s.as="script"),s.crossOrigin="",s.href=e,t&&s.setAttribute("nonce",t),document.head.appendChild(s),r?new Promise((r,t)=>{s.addEventListener("load",r),s.addEventListener("error",()=>t(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function s(e){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=e,window.dispatchEvent(r),!r.defaultPrevented)throw e}return a.then(r=>{for(const e of r||[])"rejected"===e.status&&s(e.reason);return e().catch(s)})},P=({logoUrl:e=null,brandName:r="CODELANCE",navigationItems:t=[{label:"Services",href:"#services"},{label:"Portfolio",href:"#portfolio"},{label:"About",href:"#about"},{label:"Contact",href:"#contact"}],userAvatar:a=null,onGetStartedClick:s=null,showGetStarted:l=!0})=>{const i=c(),[n,o]=m.useState(!1),d=()=>{o(!n)},u=()=>{if(s)s();else{const e=document.getElementById("contact");e?e.scrollIntoView({behavior:"smooth"}):i("/contact")}};return g.jsxs(g.Fragment,{children:[n&&g.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-40 transition-opacity duration-300 md:hidden",onClick:d,"aria-hidden":"true"}),g.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50 glass-header border-b border-navy-deep/5 dark:border-white/5",children:[g.jsxs("div",{className:"max-w-[1400px] mx-auto px-6 lg:px-12 flex h-20 items-center justify-between bg-white",children:[g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("img",{src:e||"/logo.png",alt:r,className:"size-9 object-contain"}),g.jsx("h2",{className:"text-xl font-extrabold tracking-tighter text-navy-deep dark:text-white",children:r})]}),g.jsx("nav",{className:"hidden md:flex items-center gap-10",children:t.map((e,r)=>g.jsx("a",{className:"text-sm font-semibold hover:text-primary transition-colors",href:e.href,onClick:r=>{var t;if(null==(t=e.href)?void 0:t.startsWith("#")){r.preventDefault();const t=document.querySelector(e.href);t&&t.scrollIntoView({behavior:"smooth"})}},children:e.label},r))}),g.jsxs("div",{className:"flex items-center gap-4",children:[l&&g.jsxs("button",{onClick:u,className:"group relative hidden sm:flex bg-primary text-white text-sm font-bold px-6 py-2.5 rounded-xl overflow-hidden transition-all shadow-xl shadow-primary/30 active:scale-[0.98]",children:[g.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:["Get Started",g.jsx("span",{className:"material-symbols-outlined text-base transition-transform group-hover:translate-x-1",children:"arrow_forward"})]}),g.jsx("div",{className:"absolute inset-0 bg-white/20 -translate-x-full group-hover:translate-x-full transition-transform duration-700 ease-in-out"})]}),g.jsx("button",{onClick:d,className:"md:hidden p-2 text-navy-deep dark:text-white hover:text-primary transition-colors","aria-label":"Toggle mobile menu","aria-expanded":n,children:g.jsx("span",{className:"material-symbols-outlined text-3xl",children:n?"close":"menu"})})]})]}),g.jsx("div",{className:"md:hidden border-t border-navy-deep/5 dark:border-white/5 bg-white dark:bg-background-dark overflow-hidden transition-all duration-300 ease-in-out "+(n?"max-h-[600px] opacity-100":"max-h-0 opacity-0"),children:g.jsxs("nav",{className:"px-6 py-4 space-y-2 transition-all duration-300 "+(n?"translate-y-0":"-translate-y-4"),children:[t.map((e,r)=>{var t;const a=null==(t=e.href)?void 0:t.startsWith("#");return g.jsx("a",{href:e.href,className:"block px-4 py-3 text-sm font-semibold text-navy-deep dark:text-white hover:text-primary dark:hover:text-primary transition-colors rounded-lg hover:bg-navy-deep/5 dark:hover:bg-white/5",onClick:r=>{a?(r.preventDefault(),(e=>{if(o(!1),null==e?void 0:e.startsWith("#")){const r=document.querySelector(e);r&&r.scrollIntoView({behavior:"smooth"})}})(e.href)):o(!1)},children:e.label},r)}),l&&g.jsxs("button",{onClick:()=>{u(),o(!1)},className:"group relative w-full mt-4 bg-primary text-white text-sm font-bold px-6 py-3 rounded-xl overflow-hidden transition-all shadow-xl shadow-primary/30 active:scale-[0.98]",children:[g.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-2",children:["Get Started",g.jsx("span",{className:"material-symbols-outlined text-base transition-transform group-hover:translate-x-1",children:"arrow_forward"})]}),g.jsx("div",{className:"absolute inset-0 bg-white/20 -translate-x-full group-hover:translate-x-full transition-transform duration-700 ease-in-out"})]})]})})]})]})},S=({threshold:e=.2,rootMargin:r="0px 0px -100px 0px",once:t=!0}={})=>{const[a,s]=m.useState(!1),l=m.useRef(null);return m.useEffect(()=>{const a=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting?(s(!0),t&&a.disconnect()):t||s(!1)})},{threshold:e,rootMargin:r});return l.current&&a.observe(l.current),()=>{a.disconnect()}},[e,r,t]),[a,l]},C=({badge:e="Innovating the Digital Future",title:r="We Build Digital Experiences",titleHighlight:t="Digital",description:a="Websites, Mobile Apps, POS Systems, AI Solutions, and everything your business needs to scale in the modern era.",primaryButtonText:s="Start a Project",primaryButtonAction:l=null,secondaryButtonText:i="See Our Work",secondaryButtonAction:n=null,showIllustrations:o=!0})=>{const d=c(),[m,x]=S({threshold:.1});return g.jsxs("main",{id:"home",ref:x,className:"relative min-h-[110vh] md:min-h-screen flex items-center pt-16 md:pt-20 bg-mesh overflow-hidden transition-all duration-1000 ease-out "+(m?"opacity-100 translate-y-0":"opacity-0 translate-y-8"),children:[g.jsxs("div",{className:"absolute inset-0 pointer-events-none opacity-40",children:[g.jsx("div",{className:"absolute top-[20%] left-[10%] size-64 border border-primary/20 rounded-full"}),g.jsx("div",{className:"absolute bottom-[10%] right-[15%] size-96 border border-navy-deep/10 rounded-full"}),g.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full h-full",children:g.jsxs("svg",{className:"stroke-primary/10",height:"100%",width:"100%",children:[g.jsx("pattern",{height:"80",id:"grid",patternUnits:"userSpaceOnUse",width:"80",children:g.jsx("path",{d:"M 80 0 L 0 0 0 80",fill:"none",strokeWidth:"0.5"})}),g.jsx("rect",{fill:"url(#grid)",height:"100%",width:"100%"})]})})]}),g.jsxs("div",{className:"max-w-[1400px] mx-auto px-6 lg:px-12 w-full grid lg:grid-cols-2 gap-8 lg:gap-16 items-center relative z-10",children:[o&&g.jsxs("div",{className:"relative block h-[430px] lg:h-[600px] w-full floating mt-0 lg:mt-0 order-1 lg:order-2",children:[g.jsxs("div",{className:"absolute top-[10%] right-0 w-[70%] lg:w-[80%] h-[250px] lg:h-[350px] glass-card rounded-2xl shadow-2xl p-4 lg:p-6 transform translate-x-4 lg:translate-x-10 rotate-3 z-0",children:[g.jsxs("div",{className:"flex justify-between items-center mb-3 lg:mb-6",children:[g.jsx("div",{className:"h-4 lg:h-6 w-20 lg:w-32 bg-primary/20 rounded-full"}),g.jsx("div",{className:"size-5 lg:size-8 rounded-full bg-navy-deep/10"})]}),g.jsxs("div",{className:"grid grid-cols-3 gap-2 lg:gap-4",children:[g.jsx("div",{className:"h-20 lg:h-32 bg-white/40 dark:bg-white/5 rounded-lg border border-white/30"}),g.jsx("div",{className:"h-20 lg:h-32 bg-white/40 dark:bg-white/5 rounded-lg border border-white/30"}),g.jsx("div",{className:"h-20 lg:h-32 bg-white/40 dark:bg-white/5 rounded-lg border border-white/30"}),g.jsx("div",{className:"col-span-3 h-16 lg:h-24 bg-primary/5 rounded-lg border border-primary/20 flex items-center px-2 lg:px-4",children:g.jsx("div",{className:"h-1.5 lg:h-2 w-24 lg:w-40 bg-primary/30 rounded-full"})})]})]}),g.jsxs("div",{className:"absolute top-[25%] left-0 w-[75%] lg:w-[85%] h-[280px] lg:h-[400px] glass-card rounded-2xl shadow-2xl p-4 lg:p-8 transform -rotate-2 z-10 border-white/50",children:[g.jsxs("div",{className:"flex gap-1.5 lg:gap-2 mb-4 lg:mb-8",children:[g.jsx("div",{className:"size-2 lg:size-3 rounded-full bg-red-400/60"}),g.jsx("div",{className:"size-2 lg:size-3 rounded-full bg-yellow-400/60"}),g.jsx("div",{className:"size-2 lg:size-3 rounded-full bg-green-400/60"})]}),g.jsxs("div",{className:"flex gap-4 lg:gap-10 h-full",children:[g.jsxs("div",{className:"w-1/3 space-y-2 lg:space-y-4",children:[g.jsx("div",{className:"h-5 lg:h-8 w-full bg-navy-deep/10 rounded-lg"}),g.jsx("div",{className:"h-3 lg:h-4 w-[80%] bg-navy-deep/5 rounded-lg"}),g.jsx("div",{className:"h-3 lg:h-4 w-[60%] bg-navy-deep/5 rounded-lg"}),g.jsx("div",{className:"h-7 lg:h-10 w-20 lg:w-32 bg-primary rounded-lg mt-4 lg:mt-10"})]}),g.jsx("div",{className:"flex-1 rounded-xl bg-gradient-to-br from-primary/10 to-primary/30 border border-primary/10 flex items-center justify-center",children:g.jsx("div",{className:"size-10 lg:size-16 rounded-full bg-white/80 shadow-lg flex items-center justify-center text-primary",children:g.jsx("span",{className:"material-symbols-outlined !text-2xl lg:!text-4xl",children:"play_arrow"})})})]})]}),g.jsxs("div",{className:"absolute bottom-[5%] right-4 lg:right-10 w-[160px] lg:w-[240px] h-[320px] lg:h-[480px] bg-navy-deep rounded-[30px] lg:rounded-[40px] border-4 lg:border-8 border-navy-deep/20 shadow-2xl z-20 overflow-hidden transform translate-x-2 lg:translate-x-4 -rotate-6",children:[g.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 h-4 lg:h-6 w-20 lg:w-32 bg-navy-deep rounded-b-xl lg:rounded-b-2xl"}),g.jsxs("div",{className:"p-3 lg:p-6 h-full flex flex-col bg-white dark:bg-[#1a2c33]",children:[g.jsxs("div",{className:"mt-4 lg:mt-8 space-y-3 lg:space-y-6",children:[g.jsx("div",{className:"h-20 lg:h-32 w-full bg-primary/10 rounded-xl lg:rounded-2xl flex items-center justify-center",children:g.jsx("span",{className:"material-symbols-outlined text-primary !text-3xl lg:!text-5xl",children:"cloud_queue"})}),g.jsx("div",{className:"h-4 lg:h-6 w-full bg-navy-deep/10 rounded-lg"}),g.jsx("div",{className:"h-3 lg:h-4 w-[80%] bg-navy-deep/5 rounded-lg"}),g.jsxs("div",{className:"space-y-2 lg:space-y-3 mt-2 lg:mt-4",children:[g.jsxs("div",{className:"flex justify-between items-center p-2 lg:p-3 bg-primary/5 rounded-lg lg:rounded-xl",children:[g.jsx("div",{className:"size-5 lg:size-8 rounded-lg bg-primary/20"}),g.jsx("div",{className:"flex-1 px-2 lg:px-3 h-2 lg:h-3 bg-primary/10 rounded-full"})]}),g.jsxs("div",{className:"flex justify-between items-center p-2 lg:p-3 bg-navy-deep/5 rounded-lg lg:rounded-xl",children:[g.jsx("div",{className:"size-5 lg:size-8 rounded-lg bg-navy-deep/10"}),g.jsx("div",{className:"flex-1 px-2 lg:px-3 h-2 lg:h-3 bg-navy-deep/5 rounded-full"})]})]})]}),g.jsx("div",{className:"mt-auto h-8 lg:h-12 w-full bg-primary rounded-lg lg:rounded-xl flex items-center justify-center",children:g.jsx("div",{className:"h-1.5 lg:h-2 w-8 lg:w-12 bg-white/40 rounded-full"})})]})]})]}),g.jsxs("div",{className:"flex flex-col space-y-6 lg:space-y-8 max-w-2xl order-2 lg:order-1",children:[g.jsxs("div",{className:"space-y-4",children:[e&&g.jsx("span",{className:"inline-block px-4 py-1.5 bg-primary/10 text-primary text-xs font-bold uppercase tracking-widest rounded-full",children:e}),g.jsx("h1",{className:"text-5xl md:text-6xl xl:text-7xl font-extrabold leading-[1.1] text-navy-deep dark:text-white",children:r.split(t).map((e,r,a)=>g.jsxs(u.Fragment,{children:[e,r<a.length-1&&g.jsx("span",{className:"text-primary",children:t})]},r))}),a&&g.jsx("p",{className:"text-lg md:text-xl text-navy-deep/70 dark:text-white/70 leading-relaxed font-medium",children:a})]}),g.jsxs("div",{className:"flex flex-col md:flex-row gap-3 md:gap-4 pb-8 md:pb-0",children:[s&&g.jsxs("button",{onClick:()=>{l?l():d("/contact")},className:"group relative bg-primary text-white text-sm md:text-base font-bold px-4 md:px-10 py-3 md:py-4 rounded-xl overflow-hidden transition-all shadow-xl shadow-primary/30 active:scale-[0.98] flex items-center justify-center gap-1 md:gap-2 w-full md:w-auto",children:[g.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[s,g.jsx("span",{className:"material-symbols-outlined transition-transform group-hover:translate-x-1",children:"arrow_forward"})]}),g.jsx("div",{className:"absolute inset-0 bg-white/20 -translate-x-full group-hover:translate-x-full transition-transform duration-700 ease-in-out"})]}),i&&g.jsx("button",{onClick:()=>{n?n():d("/portfolio")},className:"border-2 border-navy-deep dark:border-white/20 text-navy-deep dark:text-white text-sm md:text-base font-bold px-4 md:px-10 py-3 md:py-4 rounded-xl hover:bg-navy-deep hover:text-white dark:hover:bg-white dark:hover:text-navy-deep transition-all active:scale-95 w-full md:w-auto",children:i})]})]})]}),g.jsxs("div",{className:"hidden md:flex absolute bottom-10 left-1/2 -translate-x-1/2 flex-col items-center gap-2 opacity-50",children:[g.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Scroll to Explore"}),g.jsx("div",{className:"w-6 h-10 border-2 border-navy-deep dark:border-white rounded-full flex justify-center p-1.5",children:g.jsx("div",{className:"w-1 h-2 bg-navy-deep dark:bg-white rounded-full animate-bounce"})})]})]})},A=({title:e="Who We Are",description:r="CODELANCE is a premier technology agency dedicated to sculpting the digital landscape of tomorrow. We bridge the gap between complex engineering and human-centric design, delivering high-performance solutions that empower enterprises to thrive in an ever-evolving market.",stats:t=[{value:"150+",label:"Projects Delivered"},{value:"8+",label:"Years Experience"},{value:"< 2hr",label:"Support Response"}],primaryButtonText:a="Our Mission",primaryButtonAction:s=null,secondaryButtonText:l="View Team",secondaryButtonAction:i=null,showIllustrations:n=!0,codeSnippet:o={mission:"Excellence",stack:["AI","Cloud"],deliver:!0}})=>{c();const[d,u]=S({threshold:.2}),x=(null==t?void 0:t.length)||0,[p,h]=m.useState(()=>Array(x).fill(!1));return m.useEffect(()=>{h(Array(x).fill(!1))},[x]),m.useEffect(()=>{d&&t&&t.length>0&&t.forEach((e,r)=>{setTimeout(()=>{h(e=>{const t=[...e];return t[r]=!0,t})},150*r)})},[d,t]),g.jsx("section",{ref:u,className:"min-h-screen lg:py-32 py-16 flex items-center bg-background-light dark:bg-background-dark overflow-hidden",id:"about",children:g.jsxs("div",{className:"max-w-[1400px] mx-auto px-6 lg:px-12 w-full grid lg:grid-cols-2 gap-16 items-center",children:[n&&g.jsx("div",{className:"relative h-[600px] flex items-center justify-center lg:order-1 order-1 transition-all duration-1000 ease-out "+(d?"opacity-100 translate-x-0":"opacity-0 -translate-x-8"),children:g.jsxs("div",{className:"relative w-full h-full max-w-lg",children:[g.jsxs("div",{className:"absolute top-0 left-0 w-3/4 glass-card rounded-2xl shadow-xl p-6 transform -rotate-3 z-10 floating h-64",children:[g.jsxs("div",{className:"flex gap-2 mb-6",children:[g.jsx("div",{className:"w-2 h-2 rounded-full bg-primary/30"}),g.jsx("div",{className:"w-2 h-2 rounded-full bg-primary/30"}),g.jsx("div",{className:"w-2 h-2 rounded-full bg-primary/30"})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{className:"h-4 w-1/2 bg-navy-deep/5 dark:bg-white/5 rounded"}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsx("div",{className:"h-20 bg-primary/5 rounded-xl border border-primary/10"}),g.jsx("div",{className:"h-20 bg-primary/5 rounded-xl border border-primary/10"})]}),g.jsx("div",{className:"h-4 w-full bg-navy-deep/5 dark:bg-white/5 rounded"})]})]}),g.jsxs("div",{className:"absolute bottom-10 right-0 w-3/4 h-56 bg-navy-deep dark:bg-navy-deep rounded-2xl shadow-2xl p-6 transform rotate-6 z-20",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[g.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400"}),g.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400"}),g.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400"})]}),g.jsxs("div",{className:"font-mono text-xs space-y-2 opacity-80",children:[g.jsxs("p",{className:"text-primary",children:["const codelance = ","{"]}),g.jsxs("p",{className:"pl-4 text-white",children:["mission: ",g.jsxs("span",{className:"text-yellow-200",children:["'",o.mission,"'"]}),","]}),g.jsxs("p",{className:"pl-4 text-white",children:["stack: [",g.jsxs("span",{className:"text-yellow-200",children:["'",o.stack.join("', '"),"'"]}),"],"]}),g.jsxs("p",{className:"pl-4 text-white",children:["deliver: () => ",g.jsx("span",{className:"text-primary",children:o.deliver?"true":"false"})]}),g.jsxs("p",{className:"text-primary",children:["}",";"]})]})]}),g.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-64 border-2 border-primary/20 rounded-full animate-ping opacity-20"}),g.jsx("div",{className:"absolute top-1/4 right-1/4 w-12 h-12 bg-primary rounded-full shadow-lg shadow-primary/40 flex items-center justify-center text-white z-30",children:g.jsx("span",{className:"material-symbols-outlined !text-xl",children:"bolt"})})]})}),g.jsxs("div",{className:"flex flex-col space-y-10 lg:order-2 order-2 text-center lg:text-left",children:[g.jsxs("div",{className:"space-y-6 transition-all duration-1000 ease-out delay-200 "+(d?"opacity-100 translate-x-0":"opacity-0 translate-x-8"),children:[g.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-navy-deep dark:text-white line-draw inline-block",children:e}),r&&g.jsx("div",{className:"max-w-xl",children:g.jsx("p",{className:"text-lg md:text-xl text-navy-deep/80 dark:text-white/80 leading-relaxed",children:r})})]}),t&&t.length>0&&g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 pt-4 w-full",children:t.map((e,r)=>g.jsxs("div",{className:"glass-card p-6 rounded-3xl border border-white/60 dark:border-white/10 shadow-sm flex flex-col gap-2 transition-all duration-1000 ease-out w-full "+(p[r]?"opacity-100 translate-y-0":"opacity-0 translate-y-8"),style:{transitionDelay:150*r+"ms"},children:[g.jsx("span",{className:"text-3xl font-extrabold text-navy-deep dark:text-white",children:e.value}),g.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-navy-deep/60 dark:text-white/60 leading-tight",children:e.label})]},r))})]})]})})},$=({badge:e="Our Expertise",title:r="Our Services",description:t="We design and build bespoke digital solutions that empower modern enterprises to scale and innovate.",className:a=""})=>{const[s,l]=S({threshold:.2});return g.jsxs("div",{ref:l,className:`flex flex-col items-center mb-16 transition-all duration-1000 ease-out ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-8"} ${a}`,children:[e&&g.jsx("p",{className:"text-primary text-sm font-bold uppercase tracking-widest mb-2",children:e}),r&&g.jsx("h1",{className:"text-navy-deep dark:text-white text-4xl lg:text-5xl font-black text-center mb-4",children:r}),g.jsx("div",{className:"w-24 h-1 bg-primary rounded-full",style:{width:"120px"}}),t&&g.jsx("p",{className:"text-[#5e808d] dark:text-gray-400 text-lg font-normal leading-normal text-center mt-6 max-w-2xl",children:t})]})},E=({id:e,title:r,description:t,icon:a="code",iconType:s="material",svg:l=null,onClick:i=null,className:n=""})=>{const[o,d]=S({threshold:.1});return g.jsxs("div",{ref:d,className:`glass-card flex flex-col gap-4 p-8 rounded-xl shadow-sm border border-white/50 dark:border-white/10 cursor-pointer transition-all duration-1000 ease-out ${o?"opacity-100 translate-y-0":"opacity-0 translate-y-8"} ${n}`,onClick:()=>{i&&i({id:e,title:r,description:t,icon:a,svg:l})},children:[g.jsx("div",{className:"size-12 rounded-lg bg-primary/10 flex items-center justify-center text-primary icon-rotate",children:"svg"===s&&l?g.jsx("div",{className:"w-8 h-8 flex items-center justify-center [&>svg]:w-full [&>svg]:h-full [&>svg]:text-primary [&>svg]:fill-current",dangerouslySetInnerHTML:{__html:l}}):"material"===s?g.jsx("span",{className:"material-symbols-outlined text-3xl",children:a}):g.jsx("img",{src:a,alt:r,className:"w-8 h-8 object-contain"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-navy-deep dark:text-white text-lg font-bold leading-tight mb-2",children:r}),t&&g.jsx("p",{className:"text-[#5e808d] dark:text-gray-400 text-sm font-medium leading-relaxed",children:t})]})]})},D=({services:e=[],onServiceClick:r=null,columns:t=4,className:a=""})=>{const s={1:"grid-cols-1",2:"grid-cols-1 sm:grid-cols-2",3:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-4"};return 0===e.length?g.jsx("div",{className:"text-center py-12 text-[#5e808d] dark:text-gray-400",children:g.jsx("p",{children:"No services available at the moment."})}):g.jsx("div",{className:`grid ${s[t]||s[4]} gap-6 p-4 ${a}`,children:e.map((e,t)=>{const a=(e=>{if(e.svg)return{type:"svg",svg:e.svg};if(e.icon&&!e.icon_url&&!e.imageUrl)return{type:"material",name:e.icon};if(e.icon||e.icon_url||e.imageUrl)return{type:"image",url:e.icon||e.icon_url||e.imageUrl};const r=(e.title||e.nameEn||e.name_en||"").toLowerCase(),t=(e.category||"").toLowerCase(),a={website:"language",web:"language",development:"language",mobile:"smartphone",app:"smartphone",pos:"point_of_sale",erp:"point_of_sale",custom:"developer_mode_tv",software:"developer_mode_tv",ai:"psychology",automation:"psychology",design:"palette",ui:"palette",ux:"palette",branding:"palette",cloud:"cloud_sync",api:"cloud_sync",maintenance:"support_agent",support:"support_agent"};for(const[s,l]of Object.entries(a))if(r.includes(s)||t.includes(s))return{type:"material",name:l};return{type:"material",name:"code"}})(e);return g.jsx(E,{id:e.id,title:e.title||e.nameEn||e.name_en||"Service",description:e.description||e.descriptionEn||e.description_en||"",icon:"material"===a.type?a.name:a.url||"",iconType:a.type,svg:"svg"===a.type?a.svg:null,onClick:r?()=>r(e):null,className:""},e.id||t)})})},I="https://codelancelb.com/api/v1",T="https://codelancelb.com/api/v1",F="https://codelancelb.com/api/v1",L="https://codelancelb.com/api/v1",O=(...e)=>d(void 0,[...e],function*(e={}){try{const r=localStorage.getItem("auth_token");return(yield N.get(`${L}/admin/projects`,{params:{page:e.page||1,per_page:e.per_page||10,search:e.search||"",category_id:e.category_id||"all",is_active:e.is_active,is_featured:e.is_featured,sort:e.sort||"order",order:e.order||"asc"},headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw r}}),B="https://codelancelb.com/api/v1",z="https://codelancelb.com/api/v1",R={submitContactForm:e=>d(void 0,null,function*(){try{return(yield N.post(`${z}/contact`,{name:e.name,email:e.email,project_id:e.project_id||null,message:e.message})).data}catch(r){throw r}}),getContactSubmissions:(...e)=>d(void 0,[...e],function*(e={}){try{const r=localStorage.getItem("auth_token");return(yield N.get(`${z}/admin/contact-submissions`,{params:{page:e.page||1,per_page:e.per_page||10,search:e.search||"",status:e.status||"all",project_id:e.project_id||"all",sort:e.sort||"created_at",order:e.order||"desc"},headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw r}}),getContactSubmission:e=>d(void 0,null,function*(){try{const r=localStorage.getItem("auth_token");return(yield N.get(`${z}/admin/contact-submissions/${e}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw r}}),updateContactSubmission:(e,r)=>d(void 0,null,function*(){try{const t=localStorage.getItem("auth_token");return(yield N.put(`${z}/admin/contact-submissions/${e}`,r,{headers:{Authorization:`Bearer ${t}`}})).data}catch(t){throw t}}),deleteContactSubmission:e=>d(void 0,null,function*(){try{const r=localStorage.getItem("auth_token");return(yield N.delete(`${z}/admin/contact-submissions/${e}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw r}})},U="https://codelancelb.com/api/v1",M=m.lazy(()=>_(()=>import("./CodelanceProcessHeader-iYTjF_sM.js"),__vite__mapDeps([0,1,2,3,4]))),q=m.lazy(()=>_(()=>import("./CodelanceProcessTimeline-Pcr5hpRv.js"),__vite__mapDeps([5,1,2,3]))),W=m.lazy(()=>_(()=>import("./CodelanceProcessCTA-D6ath9vh.js"),__vite__mapDeps([6,1,2,3,4]))),G=m.lazy(()=>_(()=>import("./CodelancePortfolioHeader-D5GY_fm2.js"),__vite__mapDeps([7,1,2,3,4]))),V=m.lazy(()=>_(()=>import("./CodelancePortfolioFilters-C661zDLt.js"),__vite__mapDeps([8,1,2,3,4]))),H=m.lazy(()=>_(()=>import("./CodelancePortfolioGrid-rGbqa_l2.js"),__vite__mapDeps([9,1,2,3,4]))),J=m.lazy(()=>_(()=>import("./CodelancePortfolioCTA-uT-PQaMU.js"),__vite__mapDeps([10,1,2,3,4])));m.lazy(()=>_(()=>import("./CodelanceTeamShowcase-DTJ749RX.js"),__vite__mapDeps([11,1,2,3])));const Y=m.lazy(()=>_(()=>import("./CodelanceReviewsHeader-BJz88vlX.js"),__vite__mapDeps([12,1,2,3,4]))),K=m.lazy(()=>_(()=>import("./CodelanceReviewsCarousel-DfkXgL3-.js"),__vite__mapDeps([13,1,2,3,4]))),Q=m.lazy(()=>_(()=>import("./CodelancePricingHeader-D3WUC6B0.js"),__vite__mapDeps([14,1,2,3,4]))),Z=m.lazy(()=>_(()=>import("./CodelancePricingGrid-CdFD-A0e.js"),__vite__mapDeps([15,1,2,3,4]))),X=m.lazy(()=>_(()=>import("./CodelancePricingCTA-BJi4ULcQ.js"),__vite__mapDeps([16,1,2,3,4]))),ee=m.lazy(()=>_(()=>import("./CodelanceContactSection-DBmAUsI_.js"),__vite__mapDeps([17,1,2,3,18,4]))),re=m.lazy(()=>_(()=>import("./CodelanceFooter-w6YcP3Eb.js"),__vite__mapDeps([19,1,2,3,18,4]))),te=()=>{const e=c(),[r]=m.useState(null),[t,a]=m.useState([]),[s,l]=m.useState([]),[i,n]=m.useState([]),[o,u]=m.useState([]),[x,p]=m.useState([]),[h,b]=m.useState([]),[y,f]=m.useState([]),[v,j]=m.useState(null),[k,w]=m.useState("all"),[_,S]=m.useState(!0),[E,O]=m.useState(!0),[z,te]=m.useState(!0),[ae,se]=m.useState(!0),[le,ie]=m.useState(!0),[ne,oe]=m.useState(!0),[de,ce]=m.useState(!0),me=m.useCallback(e=>d(void 0,null,function*(){var r,t;try{yield R.submitContactForm({name:e.name,email:e.email,project_id:e.project_id?parseInt(e.project_id):null,message:e.message})}catch(a){const e=(null==(t=null==(r=a.response)?void 0:r.data)?void 0:t.message)||"Failed to send message. Please try again.";throw alert(e),a}}),[]);m.useEffect(()=>{d(void 0,null,function*(){try{S(!0);const e=yield((...e)=>d(void 0,[...e],function*(e={}){try{return(yield N.get(`${I}/services`,{params:{category:e.category||"all",limit:e.limit}})).data}catch(r){throw r}}))({limit:8}),r=e.data||e||[],t=Array.isArray(r)?r.filter(e=>!1!==e.isActive&&!1!==e.is_active):[];a(t)}catch(e){a([])}finally{S(!1)}}),d(void 0,null,function*(){try{ce(!0);const e=yield d(void 0,null,function*(){try{return(yield N.get(`${U}/about-us-content`)).data}catch(e){throw e}}),r=e.data||e||null;r&&j({title:r.title||"Who We Are",description:r.description||"",stats:Array.isArray(r.stats)?r.stats:[],primaryButtonText:r.primaryButtonText||r.primary_button_text||"Our Mission",secondaryButtonText:r.secondaryButtonText||r.secondary_button_text||"View Team",codeSnippet:r.codeSnippet||r.code_snippet||{mission:"Excellence",stack:["AI","Cloud"],deliver:!0}})}catch(e){j(null)}finally{ce(!1)}})},[]),m.useEffect(()=>{const e=()=>{setTimeout(()=>{d(void 0,null,function*(){try{O(!0);const e=yield((...e)=>d(void 0,[...e],function*(e={}){try{return(yield N.get(`${L}/projects`,{params:{limit:e.limit,category:e.category||"all",is_featured:e.is_featured}})).data}catch(r){throw r}}))(),r=e.data||e||[],t=Array.isArray(r)?r.map(e=>({id:e.id,title:e.title||"",imageUrl:e.image||e.imageUrl||e.image_url||null,imageAlt:e.title||"Project image",tags:e.tags||[],category:e.category||e.categorySlug||null,description:e.description||null,projectUrl:e.projectUrl||e.project_url||null,githubUrl:e.githubUrl||e.github_url||null,clientName:e.clientName||e.client_name||null,isFeatured:e.isFeatured||e.is_featured||!1})):[];l(t)}catch(e){l([])}finally{O(!1)}}),d(void 0,null,function*(){try{const e=yield d(void 0,null,function*(){try{return(yield N.get(`${L}/projects/categories`)).data}catch(e){throw e}}),r=e.data||e||[],t=Array.isArray(r)?r.map(e=>({id:e.slug||e.id,label:e.name||e.slug||"Category"})):[];n([{id:"all",label:"All Projects"},...t])}catch(e){n([{id:"all",label:"All Projects"},{id:"website",label:"Websites"},{id:"mobile",label:"Mobile Apps"},{id:"pos",label:"POS"},{id:"dashboard",label:"Dashboards"}])}}),d(void 0,null,function*(){try{te(!0);const e=yield((...e)=>d(void 0,[...e],function*(e={}){try{return(yield N.get("https://codelancelb.com/api/v1/barbers",{params:{limit:e.limit,role:e.role}})).data}catch(r){throw r}}))({limit:8}),r=e.data||e||[],t=Array.isArray(r)?r.filter(e=>"inactive"!==e.status&&"leave"!==e.status):[];u(t)}catch(e){u([])}finally{te(!1)}}),d(void 0,null,function*(){try{se(!0);const e=yield((...e)=>d(void 0,[...e],function*(e={}){try{return(yield N.get(`${T}/packages`,{params:{limit:e.limit,billing_period:e.billing_period||"all",is_featured:e.is_featured}})).data}catch(r){throw r}}))({limit:6}),r=e.data||e||[],t=Array.isArray(r)?r.map(e=>{const r=e.priceRaw||0,t=e.originalPrice||e.original_price||null,a=e.currency||"USD",s="USD"===a?"$":"EUR"===a?"€":"GBP"===a?"£":a+" ",l=r>=1e3?`${s}${r.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}`:`${s}${r.toFixed(2)}`;let i=null,n=null;return t&&t>r&&(n=t,i=t>=1e3?`${s}${t.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}`:`${s}${t.toFixed(2)}`),{id:e.id,name:e.name,price:l,originalPrice:n,originalPriceFormatted:i,pricePeriod:e.pricePeriod||e.period||"/month",description:e.description||"",features:e.features||[],badge:e.badge||null,isHighlighted:e.isHighlighted||e.isFeatured||e.is_featured||!1,buttonText:"Get Started"}}):[];p(t)}catch(e){p([])}finally{se(!1)}}),d(void 0,null,function*(){try{ie(!0);const e=yield((...e)=>d(void 0,[...e],function*(e={}){try{return(yield N.get(`${F}/process-steps`,{params:{limit:e.limit}})).data}catch(r){throw r}}))(),r=e.data||e||[],t=Array.isArray(r)?r.map((e,r)=>({stepNumber:e.stepNumber||e.step_number||String(r+1).padStart(2,"0"),title:e.title||"",description:e.description||"",icon:e.icon||"code",position:e.position||(r%2==0?"left":"right")})):[];b(t)}catch(e){b([])}finally{ie(!1)}}),d(void 0,null,function*(){try{oe(!0);const e=yield((...e)=>d(void 0,[...e],function*(e={}){try{return(yield N.get(`${B}/reviews`,{params:{limit:e.limit,is_featured:e.is_featured}})).data}catch(r){throw r}}))(),r=e.data||e||[],t=Array.isArray(r)?r.map(e=>({id:e.id,quote:e.quote||"",authorName:e.authorName||e.author_name||"",authorTitle:e.authorTitle||e.author_title||null,authorCompany:e.authorCompany||e.author_company||null,authorImage:e.authorImage||e.author_image||null})):[];f(t)}catch(e){f([])}finally{oe(!1)}})},100)};"requestIdleCallback"in window?requestIdleCallback(e,{timeout:2e3}):setTimeout(e,100)},[]);const ge=()=>{const r=document.getElementById("contact");r?r.scrollIntoView({behavior:"smooth"}):e("/contact")};return g.jsxs("div",{className:"bg-background-light dark:bg-background-dark font-display text-navy-deep dark:text-white transition-colors duration-300 overflow-x-hidden min-h-screen flex flex-col",children:[g.jsx(P,{logoUrl:(null==r?void 0:r.logo)||(null==r?void 0:r.logo_url)||null,brandName:"CODELANCE",navigationItems:[{label:"Home",href:"#home"},{label:"Services",href:"#services"},{label:"Portfolio",href:"#portfolio"},{label:"About",href:"#about"},{label:"Contact",href:"#contact"}],userAvatar:null,onGetStartedClick:()=>{ge()},showGetStarted:!0}),g.jsx(C,{badge:"Innovating the Digital Future",title:"We Build Digital Experiences",titleHighlight:"Digital",description:"Websites, Mobile Apps, POS Systems, AI Solutions, and everything your business needs to scale in the modern era.",primaryButtonText:"Start a Project",primaryButtonAction:()=>{ge()},secondaryButtonText:"See Our Work",secondaryButtonAction:()=>{const r=document.getElementById("portfolio");r?r.scrollIntoView({behavior:"smooth"}):e("/#portfolio")},showIllustrations:!0}),g.jsx(A,{title:(null==v?void 0:v.title)||"Who We Are",description:(null==v?void 0:v.description)||"CODELANCE is a premier technology agency dedicated to sculpting the digital landscape of tomorrow. We bridge the gap between complex engineering and human-centric design, delivering high-performance solutions that empower enterprises to thrive in an ever-evolving market.",stats:(null==v?void 0:v.stats)||[{value:"150+",label:"Projects Delivered"},{value:"8+",label:"Years Experience"},{value:"< 2hr",label:"Support Response"}],primaryButtonText:(null==v?void 0:v.primaryButtonText)||"Our Mission",primaryButtonAction:()=>e("/about"),secondaryButtonText:(null==v?void 0:v.secondaryButtonText)||"View Team",secondaryButtonAction:()=>e("/team"),showIllustrations:!0,codeSnippet:(null==v?void 0:v.codeSnippet)||{mission:"Excellence",stack:["AI","Cloud"],deliver:!0}}),g.jsxs("section",{className:"max-w-[1400px] mx-auto px-6 lg:px-12 lg:py-4 py-2 lg:py-24",id:"services",children:[g.jsx($,{badge:"Our Expertise",title:"Our Services",description:"We design and build bespoke digital solutions that empower modern enterprises to scale and innovate."}),_?g.jsx("div",{className:"text-center py-12",children:g.jsx("p",{className:"text-[#5e808d] dark:text-gray-400",children:"Loading services..."})}):g.jsx(D,{services:t,onServiceClick:e=>{ge()},columns:4})]}),g.jsx("section",{className:"py-20",id:"portfolio",children:g.jsxs("div",{className:"max-w-[1400px] mx-auto px-6 lg:px-12",children:[g.jsxs(m.Suspense,{fallback:g.jsx("div",{className:"text-center py-12",children:g.jsx("p",{className:"text-[#5e808d] dark:text-gray-400",children:"Loading..."})}),children:[g.jsx(G,{badge:"Showcase",title:"Our Portfolio"}),g.jsx(V,{filters:i.length>0?i:[{id:"all",label:"All Projects"},{id:"website",label:"Websites"},{id:"mobile",label:"Mobile Apps"},{id:"pos",label:"POS"},{id:"dashboard",label:"Dashboards"}],activeFilter:k,onFilterChange:e=>{w(e)}})]}),E?g.jsx("div",{className:"text-center py-12",children:g.jsx("p",{className:"text-[#5e808d] dark:text-gray-400",children:"Loading projects..."})}):g.jsx(m.Suspense,{fallback:g.jsx("div",{className:"text-center py-12",children:g.jsx("p",{className:"text-[#5e808d] dark:text-gray-400",children:"Loading..."})}),children:g.jsx(H,{projects:s,activeFilter:k,onProjectClick:r=>{const t=document.getElementById("portfolio");t?t.scrollIntoView({behavior:"smooth"}):e("/#portfolio")},columns:3})}),g.jsx(m.Suspense,{fallback:g.jsx("div",{className:"text-center py-12",children:g.jsx("p",{className:"text-[#5e808d] dark:text-gray-400",children:"Loading..."})}),children:g.jsx(J,{title:"Have a visionary project in mind?",subtitle:"From concept to deployment, we build the digital future of your business with precision and passion.",primaryButtonText:"Get Started",primaryButtonAction:ge,secondaryButtonText:"Our Process",secondaryButtonAction:()=>{const r=document.getElementById("process");r?r.scrollIntoView({behavior:"smooth"}):e("/#process")}})})]})}),g.jsxs("section",{id:"process",children:[g.jsx(m.Suspense,{fallback:g.jsx("div",{className:"text-center py-12",children:g.jsx("p",{className:"text-[#5e808d] dark:text-gray-400",children:"Loading..."})}),children:g.jsx(M,{badge:"Our Methodology",title:"How We Work",description:"We follow a structured, transparent process to turn your complex ideas into high-performance digital realities."})}),le?g.jsx("div",{className:"text-center py-12",children:g.jsx("p",{className:"text-[#5e808d] dark:text-gray-400",children:"Loading process steps..."})}):g.jsx(m.Suspense,{fallback:g.jsx("div",{className:"text-center py-12",children:g.jsx("p",{className:"text-[#5e808d] dark:text-gray-400",children:"Loading..."})}),children:g.jsx(q,{steps:h})}),g.jsx(m.Suspense,{fallback:g.jsx("div",{className:"text-center py-12",children:g.jsx("p",{className:"text-[#5e808d] dark:text-gray-400",children:"Loading..."})}),children:g.jsx(W,{title:"Ready to build something amazing?",subtitle:"Join dozens of successful companies scaling with our proven process.",primaryButtonText:"Contact Us Today",primaryButtonAction:ge,secondaryButtonText:"View Portfolio",secondaryButtonAction:()=>{const r=document.getElementById("portfolio");r?r.scrollIntoView({behavior:"smooth"}):e("/#portfolio")}})})]}),g.jsx("section",{className:"lg:py-16 py-0 overflow-hidden bg-background-light dark:bg-background-dark",id:"reviews",children:g.jsxs("div",{className:"max-w-[1400px] mx-auto px-6 lg:px-12",children:[g.jsx(m.Suspense,{fallback:g.jsx("div",{className:"text-center py-12",children:g.jsx("p",{className:"text-[#5e808d] dark:text-gray-400",children:"Loading..."})}),children:g.jsx(Y,{title:"Client Success Stories",description:"Hear from the innovative teams we've partnered with to build the future of digital infrastructure."})}),ne?g.jsx("div",{className:"text-center py-12",children:g.jsx("p",{className:"text-[#5e808d] dark:text-gray-400",children:"Loading reviews..."})}):g.jsx(m.Suspense,{fallback:g.jsx("div",{className:"text-center py-12",children:g.jsx("p",{className:"text-[#5e808d] dark:text-gray-400",children:"Loading..."})}),children:g.jsx(K,{reviews:y,autoPlay:!0,autoPlayInterval:5e3})})]})}),g.jsxs("section",{className:"bg-background-light dark:bg-background-dark",id:"packages",children:[g.jsx(m.Suspense,{fallback:g.jsx("div",{className:"text-center py-12",children:g.jsx("p",{className:"text-[#5e808d] dark:text-gray-400",children:"Loading..."})}),children:g.jsx(Q,{title:"Pricing Packages",description:"Choose the perfect plan for your technical needs. Our flexible packages are designed to scale with your business and deliver premium GSAP-powered experiences."})}),g.jsx("section",{className:"max-w-[1400px] mx-auto px-6 lg:px-12 py-12",children:ae?g.jsx("div",{className:"text-center py-12",children:g.jsx("p",{className:"text-[#5e808d] dark:text-gray-400",children:"Loading packages..."})}):g.jsx(m.Suspense,{fallback:g.jsx("div",{className:"text-center py-12",children:g.jsx("p",{className:"text-[#5e808d] dark:text-gray-400",children:"Loading..."})}),children:g.jsx(Z,{packages:x,onPackageSelect:e=>{ge()},columns:3})})}),g.jsx(m.Suspense,{fallback:g.jsx("div",{className:"text-center py-12",children:g.jsx("p",{className:"text-[#5e808d] dark:text-gray-400",children:"Loading..."})}),children:g.jsx(X,{title:"Need a custom solution?",description:"Our team can build a tailor-made package specifically for your enterprise requirements, including specialized integrations and dedicated server architecture.",primaryButtonText:"Schedule a Call",primaryButtonAction:ge,secondaryButtonText:"View Full Services",secondaryButtonAction:()=>{const r=document.getElementById("services");r?r.scrollIntoView({behavior:"smooth"}):e("/services")}})})]}),g.jsx(m.Suspense,{fallback:g.jsx("div",{className:"text-center py-12",children:g.jsx("p",{className:"text-[#5e808d] dark:text-gray-400",children:"Loading..."})}),children:g.jsx(ee,{title:"Let's Build",titleHighlight:"Something Great",description:"Have a vision for the next big thing? Our team of experts is ready to transform your ideas into world-class digital solutions.",projects:s,onSubmit:me,contactItems:[{type:"email",label:"Email",value:"info@codelancelb.com",icon:"mail"},{type:"phone",label:"Phone",value:"+96176505353",icon:"call"},{type:"phone",label:"Phone",value:"+9613122606",icon:"call"}]})}),g.jsx(m.Suspense,{fallback:g.jsx("div",{className:"text-center py-12",children:g.jsx("p",{className:"text-[#5e808d] dark:text-gray-400",children:"Loading..."})}),children:g.jsx(re,{logoUrl:(null==r?void 0:r.logo)||(null==r?void 0:r.logo_url)||null,brandName:"CODELANCE",description:"Empowering businesses through cutting-edge digital solutions and innovative engineering.",quickLinks:[{label:"Home",href:"/"},{label:"Services",href:"#services"},{label:"Portfolio",href:"#portfolio"},{label:"Packages",href:"#packages"},{label:"Contact",href:"#contact"}],serviceLinks:[{label:"Web Development",href:"#services"},{label:"Mobile Apps",href:"#services"},{label:"AI Solutions",href:"#services"},{label:"Cloud Infrastructure",href:"#services"}],legalLinks:[{label:"Privacy Policy",href:"#privacy"},{label:"Terms of Service",href:"#terms"},{label:"Cookies Settings",href:"#cookies"}],copyright:`© ${(new Date).getFullYear()} CODELANCE. All rights reserved.`,onNewsletterSubmit:null})})]})},ae=({label:e,type:r="text",name:t,value:a,onChange:s,placeholder:l,icon:i,required:n=!1,error:o,className:d=""})=>{const c=m.useRef(null);return g.jsxs("div",{className:`group ${d}`,children:[e&&g.jsxs("label",{className:"text-[#111816] dark:text-[#e2e8f0] text-sm font-semibold leading-normal",children:[e,n&&g.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),g.jsxs("div",{className:"relative",children:[i&&"date"!==r&&g.jsx("div",{className:"absolute left-0 top-0 bottom-0 flex items-center justify-center w-11 text-[#9ca3af] pointer-events-none",children:g.jsx("span",{className:"material-symbols-outlined text-[20px]",children:i})}),g.jsx("input",{ref:c,type:r,name:t,value:a||"",onChange:s,onClick:()=>{"date"===r&&c.current&&c.current.showPicker&&c.current.showPicker()},placeholder:l,required:n,className:`flex w-full min-w-0 resize-none overflow-hidden rounded-lg text-[#111816] dark:text-white dark:bg-[#0b1a15] focus:outline-0 focus:ring-2 focus:ring-primary/20 focus:border-primary border ${o?"border-red-500":"border-[#dbe6e2] dark:border-[#2a3e36]"} bg-white h-12 placeholder:text-[#9ca3af] ${i&&"date"!==r?"pl-11":"pl-4"} ${"date"===r?"pr-11":"pr-4"} text-base font-normal leading-normal transition-all duration-200 ${"date"===r?"cursor-pointer":""}`}),"date"===r&&g.jsx("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),"date"===r&&c.current&&(c.current.showPicker?c.current.showPicker():(c.current.focus(),c.current.click()))},className:"absolute right-0 top-0 bottom-0 flex items-center justify-center w-11 text-[#9ca3af] cursor-pointer hover:text-primary transition-colors focus:outline-none z-10","aria-label":"Open date picker",children:g.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"calendar_today"})})]}),o&&g.jsx("p",{className:"mt-1 text-sm text-red-500",children:o})]})},se=({label:e,name:r,value:t,onChange:a,placeholder:s="••••••••••••",required:l=!1,error:i,className:n=""})=>{const[o,d]=m.useState(!1);return g.jsxs("div",{className:`flex flex-col gap-2 ${n}`,children:[e&&g.jsxs("label",{className:"text-[#111816] dark:text-[#e2e8f0] text-sm font-semibold leading-normal",children:[e,l&&g.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),g.jsxs("div",{className:"relative flex w-full items-center",children:[g.jsx("input",{type:o?"text":"password",name:r,value:t||"",onChange:a,placeholder:s,required:l,className:`flex w-full min-w-0 resize-none overflow-hidden rounded-lg text-[#111816] dark:text-white dark:bg-[#0b1a15] focus:outline-0 focus:ring-2 focus:ring-primary/20 focus:border-primary border ${i?"border-red-500":"border-[#dbe6e2] dark:border-[#2a3e36]"} bg-white h-12 placeholder:text-[#9ca3af] pl-11 pr-12 text-base font-normal leading-normal transition-all duration-200`}),g.jsx("div",{className:"absolute left-0 top-0 bottom-0 flex items-center justify-center w-11 text-[#9ca3af]",children:g.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"lock"})}),g.jsx("button",{type:"button",onClick:()=>{d(!o)},className:"absolute right-0 top-0 bottom-0 px-4 text-[#9ca3af] hover:text-[#111816] dark:hover:text-white transition-colors flex items-center justify-center outline-none focus:text-primary",children:g.jsx("span",{className:"material-symbols-outlined text-[20px]",children:o?"visibility_off":"visibility"})})]}),i&&g.jsx("p",{className:"mt-1 text-sm text-red-500",children:i})]})},le=({onSubmit:e,isLoading:r=!1,initialEmail:t="",className:a=""})=>{const[s,l]=m.useState({email:t,password:""}),[i,d]=m.useState({}),c=e=>{const{name:r,value:t,type:a,checked:s}=e.target;l(e=>o(n({},e),{[r]:"checkbox"===a?s:t})),i[r]&&d(e=>o(n({},e),{[r]:""}))};return g.jsxs("form",{className:`flex flex-col gap-5 ${a}`,onSubmit:r=>{r.preventDefault(),(()=>{const e={};return s.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)||(e.email="Please enter a valid email address"):e.email="Email address is required",s.password.trim()?s.password.length<6&&(e.password="Password must be at least 6 characters"):e.password="Password is required",d(e),0===Object.keys(e).length})()&&e&&e({email:s.email,password:s.password,rememberMe:!1})},children:[g.jsx("div",{className:"flex flex-col gap-2",children:g.jsx(ae,{label:"Email Address",type:"email",name:"email",value:s.email,onChange:c,placeholder:"admin@company.com",icon:"mail",required:!0,error:i.email})}),g.jsx(se,{label:"Password",name:"password",value:s.password,onChange:c,placeholder:"••••••••••••",required:!0,error:i.password}),g.jsx("button",{type:"submit",disabled:r,className:"mt-3 flex w-full cursor-pointer items-center justify-center overflow-hidden rounded-lg h-12 px-5 bg-primary hover:bg-[#0ebf84] active:scale-[0.98] text-[#111816] text-base font-bold leading-normal tracking-[0.015em] transition-all shadow-[0_2px_8px_rgba(17,212,147,0.25)] disabled:opacity-50 disabled:cursor-not-allowed",children:r?g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"material-symbols-outlined animate-spin mr-2 text-[20px]",children:"refresh"}),g.jsx("span",{className:"truncate",children:"Logging in..."})]}):g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"truncate",children:"Login to Dashboard"}),g.jsx("span",{className:"material-symbols-outlined ml-2 text-[20px]",children:"arrow_forward"})]})})]})},ie=({title:e="Admin Portal",description:r="Enter your credentials to access the secure management dashboard.",onSubmit:t,isLoading:a=!1,showFooter:s=!0,footerText:l="Protected by reCAPTCHA and subject to the Privacy Policy.",className:i=""})=>g.jsxs("div",{className:`bg-white dark:bg-[#152822] rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] border border-[#e5e7eb] dark:border-[#2a3e36] overflow-hidden ${i}`,children:[g.jsxs("div",{className:"px-8 pt-10 pb-6 flex flex-col items-center text-center border-b border-[#f0f2f5] dark:border-[#2a3e36]",children:[g.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-primary to-[#0fb57e] rounded-xl flex items-center justify-center mb-5 shadow-lg shadow-primary/20 transform rotate-3 hover:rotate-6 transition-transform duration-300",children:g.jsx("span",{className:"material-symbols-outlined text-white text-[32px]",children:"admin_panel_settings"})}),e&&g.jsx("h1",{className:"text-[#111816] dark:text-white text-2xl font-bold leading-tight tracking-tight",children:e}),r&&g.jsx("p",{className:"text-[#637588] dark:text-[#8d9ba8] text-sm font-medium mt-2 max-w-[260px]",children:r})]}),g.jsx("div",{className:"p-8 flex flex-col gap-5",children:g.jsx(le,{onSubmit:t,isLoading:a})}),s&&l&&g.jsx("div",{className:"bg-[#fcfdfd] dark:bg-[#12221d] border-t border-[#f0f2f5] dark:border-[#2a3e36] px-8 py-4 flex justify-center",children:g.jsx("p",{className:"text-[#637588] dark:text-[#6b7280] text-xs font-medium",children:l})})]}),ne="https://codelancelb.com/api/v1",oe=()=>d(void 0,null,function*(){try{const e=localStorage.getItem("auth_token");if(!e)throw new Error("No token found");return(yield N.get(`${ne}/auth/user`,{headers:{Authorization:`Bearer ${e}`}})).data}catch(e){throw e}}),de=()=>{const e=c(),[r,t]=m.useState(!1),[a,s]=m.useState(!0),[l,i]=m.useState(null);return m.useEffect(()=>{d(void 0,null,function*(){try{if(!localStorage.getItem("auth_token"))return void s(!1);const r=yield oe(),t=r.user||r;t&&t.role?"barber"===t.role?e("/barber/dashboard",{replace:!0}):e("/admin/dashboard",{replace:!0}):(localStorage.removeItem("auth_token"),localStorage.removeItem("user"),s(!1))}catch(r){localStorage.removeItem("auth_token"),localStorage.removeItem("user"),s(!1)}})},[e]),a?g.jsx("div",{className:"bg-background-light dark:bg-background-dark font-display min-h-screen flex flex-col items-center justify-center p-4",children:g.jsx("div",{className:"flex items-center justify-center",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}):g.jsx("div",{className:"bg-background-light dark:bg-background-dark font-display min-h-screen flex flex-col items-center justify-center p-4 selection:bg-primary/30 selection:text-black",children:g.jsxs("div",{className:"w-full max-w-[440px] flex flex-col gap-8 animate-fade-in-up",children:[l&&g.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:g.jsx("p",{className:"text-red-800 dark:text-red-200 text-sm font-medium",children:l})}),g.jsx(ie,{onSubmit:r=>d(void 0,null,function*(){var a,s,n,o,c,m,g,u;t(!0),i(null);try{const t=yield(u={email:r.email,password:r.password,remember_me:!1},d(void 0,null,function*(){try{const e={password:u.password,remember_me:u.remember_me||!1};return u.email?e.email=u.email:u.phone&&(e.phone=u.phone),(yield N.post(`${ne}/auth/login`,e)).data}catch(l){throw l}}));t.token&&localStorage.setItem("auth_token",t.token),t.user&&localStorage.setItem("user",JSON.stringify(t.user));const s=(null==(a=t.user)?void 0:a.role)||t.role||"admin";e("barber"===s?"/barber/dashboard":"/admin/dashboard")}catch(x){const e=(null==(n=null==(s=x.response)?void 0:s.data)?void 0:n.message)||(null==(g=null==(m=null==(c=null==(o=x.response)?void 0:o.data)?void 0:c.errors)?void 0:m.email)?void 0:g[0])||"Invalid email or password. Please try again.";i(e)}finally{t(!1)}}),isLoading:r}),g.jsxs("div",{className:"flex flex-col items-center gap-4 text-center",children:[g.jsxs("p",{className:"text-[#637588] dark:text-[#6b7280] text-sm",children:["Need help?"," ",g.jsx("a",{href:"#",className:"text-primary hover:underline font-medium",children:"Contact Support"})]}),g.jsx("p",{className:"text-[#9ca3af] dark:text-[#4b5563] text-xs",children:"© 2024 CMS Admin Panel. All rights reserved."})]})]})})},ce=({title:e="Dashboard Overview",subtitle:r,userName:t,className:a=""})=>g.jsxs("header",{className:`mb-8 ${a}`,children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:e}),r||t?g.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:r||`Welcome ${t}, here is your daily summary.`}):null]}),me=m.createContext(null),ge=({children:e})=>{const r=c(),[t,a]=m.useState({id:null,name:"",email:"",role:"admin",avatar:null,profile_photo:null}),[s,l]=m.useState(!0);return m.useEffect(()=>{d(void 0,null,function*(){try{const e=yield oe(),r=e.user||e.data||e;let t=r.profile_photo||r.avatar||null;t&&!t.startsWith("http")&&(t=t.startsWith("/")?t:`/${t}`),a(o(n({},r),{id:r.id||null,name:r.name||"",email:r.email||"",role:r.role||"admin",avatar:t,profile_photo:t}))}catch(e){a(null),r("/admin/login")}finally{l(!1)}})},[r]),g.jsx(me.Provider,{value:{user:t,handleLogout:()=>d(void 0,null,function*(){try{yield d(void 0,null,function*(){try{const r=localStorage.getItem("auth_token");try{yield N.post(`${ne}/admin/auth/logout`,{},{headers:{Authorization:`Bearer ${r}`}})}catch(e){yield N.post(`${ne}/auth/logout`,{},{headers:{Authorization:`Bearer ${r}`}})}return localStorage.removeItem("auth_token"),localStorage.removeItem("user"),localStorage.removeItem("remember_me"),{success:!0,message:"Logged out successfully"}}catch(r){throw localStorage.removeItem("auth_token"),localStorage.removeItem("user"),localStorage.removeItem("remember_me"),r}})}catch(e){}finally{a(null),r("/admin/login")}}),isLoadingUser:s,refreshUser:()=>d(void 0,null,function*(){try{const e=yield oe(),r=e.user||e.data||e;let t=r.profile_photo||r.avatar||null;t&&!t.startsWith("http")&&(t=t.startsWith("/")?t:`/${t}`),a(o(n({},r),{id:r.id||null,name:r.name||"",email:r.email||"",role:r.role||"admin",avatar:t,profile_photo:t}))}catch(e){}})},children:e})},ue=()=>{const e=m.useContext(me);if(!e)throw new Error("useAdminUserContext must be used within an AdminUserProvider");return e},xe=({fromDate:e,toDate:r,onFromDateChange:t,onToDateChange:a,onRefresh:s,onReset:l,className:i=""})=>g.jsx("div",{className:`bg-white dark:bg-card-dark rounded-xl shadow-soft p-6 border border-gray-100 dark:border-gray-700 ${i}`,children:g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6 items-end",children:[g.jsxs("div",{className:"md:col-span-4",children:[g.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-2",children:"From"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"date",value:e,onChange:e=>t&&t(e.target.value),className:"w-full bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-600 text-gray-900 dark:text-white text-sm rounded-lg focus:ring-gray-900 dark:focus:ring-primary focus:border-gray-900 dark:focus:border-primary block p-2.5"}),g.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:g.jsx("span",{className:"material-symbols-outlined text-gray-400 text-sm",children:"calendar_today"})})]})]}),g.jsxs("div",{className:"md:col-span-4",children:[g.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-2",children:"To"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"date",value:r,onChange:e=>a&&a(e.target.value),className:"w-full bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-600 text-gray-900 dark:text-white text-sm rounded-lg focus:ring-gray-900 dark:focus:ring-primary focus:border-gray-900 dark:focus:border-primary block p-2.5"}),g.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:g.jsx("span",{className:"material-symbols-outlined text-gray-400 text-sm",children:"calendar_today"})})]})]}),g.jsxs("div",{className:"md:col-span-4 flex space-x-3",children:[g.jsxs("button",{onClick:s,className:"flex-1 bg-black hover:bg-gray-800 dark:bg-white dark:text-black dark:hover:bg-gray-200 text-white font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center justify-center transition-colors shadow-sm",children:[g.jsx("span",{className:"material-symbols-outlined text-sm mr-2",children:"refresh"}),"Refresh"]}),g.jsxs("button",{onClick:l,className:"flex-1 bg-white hover:bg-gray-50 dark:bg-gray-700 dark:hover:bg-gray-600 dark:border-gray-600 text-gray-900 dark:text-white border border-gray-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center justify-center transition-colors",children:[g.jsx("span",{className:"material-symbols-outlined text-sm mr-2",children:"close"}),"Reset"]})]})]})}),pe=({label:e,value:r,icon:t,color:a="blue",progress:s=0,description:l,className:i="",onClick:n})=>{const o={yellow:{bg:"bg-yellow-50 dark:bg-yellow-900/20",text:"text-yellow-600 dark:text-yellow-400",progress:"bg-yellow-500",value:"text-yellow-500 dark:text-yellow-400"},indigo:{bg:"bg-indigo-50 dark:bg-indigo-900/20",text:"text-indigo-600 dark:text-indigo-400",progress:"bg-indigo-500",value:"text-indigo-500 dark:text-indigo-400"},red:{bg:"bg-red-50 dark:bg-red-900/20",text:"text-red-600 dark:text-red-400",progress:"bg-red-500",value:"text-red-500 dark:text-red-400"},green:{bg:"bg-green-50 dark:bg-green-900/20",text:"text-green-600 dark:text-green-400",progress:"bg-green-500",value:"text-green-500 dark:text-green-400"},blue:{bg:"bg-blue-50 dark:bg-blue-900/20",text:"text-blue-600 dark:text-blue-400",progress:"bg-blue-500",value:"text-blue-500 dark:text-blue-400"},purple:{bg:"bg-purple-50 dark:bg-purple-900/20",text:"text-purple-600 dark:text-purple-400",progress:"bg-purple-500",value:"text-purple-500 dark:text-purple-400"},pink:{bg:"bg-pink-50 dark:bg-pink-900/20",text:"text-pink-600 dark:text-pink-400",progress:"bg-pink-500",value:"text-pink-500 dark:text-pink-400"},cyan:{bg:"bg-cyan-50 dark:bg-cyan-900/20",text:"text-cyan-600 dark:text-cyan-400",progress:"bg-cyan-500",value:"text-cyan-500 dark:text-cyan-400"},orange:{bg:"bg-orange-50 dark:bg-orange-900/20",text:"text-orange-600 dark:text-orange-400",progress:"bg-orange-500",value:"text-orange-500 dark:text-orange-400"},teal:{bg:"bg-teal-50 dark:bg-teal-900/20",text:"text-teal-600 dark:text-teal-400",progress:"bg-teal-500",value:"text-teal-500 dark:text-teal-400"},gray:{bg:"bg-gray-50 dark:bg-gray-900/20",text:"text-gray-600 dark:text-gray-400",progress:"bg-gray-500",value:"text-gray-500 dark:text-gray-400"}},d=o[a]||o.blue;return g.jsxs("div",{className:`bg-white dark:bg-card-dark rounded-xl shadow-soft p-6 border border-gray-100 dark:border-gray-700 transition-all ${n?"cursor-pointer hover:shadow-lg hover:-translate-y-0.5":""} ${i}`,onClick:n,children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:e}),g.jsx("h3",{className:`text-3xl font-bold ${d.value} mt-1`,children:r})]}),t&&g.jsx("span",{className:`p-2 rounded-lg ${d.bg} ${d.text}`,children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:t})})]}),g.jsx("div",{className:"w-full bg-gray-100 rounded-full h-1.5 dark:bg-gray-700",children:g.jsx("div",{className:`${d.progress} h-1.5 rounded-full transition-all duration-300`,style:{width:`${Math.min(s,100)}%`}})}),l&&g.jsx("p",{className:"text-xs text-gray-400 mt-2",children:l})]})},he=()=>{var e,r,t,a,s,l,i,u,x,p,h,b,y,f,v,j,k,w,_,P,S,C,A,$,E,D,I,T,F,L,O,B,z,R,U,M,q,W,G,V,H,J,Y,K,Q,Z,X,ee,re,te,ae,se,le,ie,ne,oe,de,me,ge,he,be,ye,fe,ve,je,ke,Ne,we,_e,Pe,Se,Ce,Ae,$e;const Ee=c(),{user:De}=ue(),[Ie,Te]=m.useState(null),[Fe,Le]=m.useState([]),[Oe,Be]=m.useState(!0),ze=()=>{const e=new Date;return new Date(e.getFullYear(),e.getMonth(),1).toISOString().split("T")[0]},Re=()=>(new Date).toISOString().split("T")[0],[Ue,Me]=m.useState({fromDate:ze(),toDate:Re()}),qe=()=>d(void 0,null,function*(){try{Be(!0);const e=yield((...e)=>d(void 0,[...e],function*(e={}){try{const r=localStorage.getItem("auth_token");return(yield N.get("https://codelancelb.com/api/v1/admin/dashboard",{params:{from_date:e.from_date||e.fromDate,to_date:e.to_date||e.toDate},headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw r}}))({from_date:Ue.fromDate,to_date:Ue.toDate});if(e&&!1!==e.success){const r=e.data||e;r&&r.statistics?(Te(r.statistics),Le(r.recent_activity||[])):(Te({contact_submissions:{total:0,new:0,read:0,replied:0},newsletter_subscriptions:{total:0,active:0,unsubscribed:0},projects:{total:0,active:0,featured:0},reviews:{total:0,active:0,featured:0},services:{total:0,active:0},packages:{total:0,active:0,featured:0},process_steps:{total:0,active:0},about_us_content:{total:0,active:0},team_members:{total:0,active:0}}),Le([]))}else Te(null),Le([])}catch(e){Te(null),Le([])}finally{Be(!1)}});m.useEffect(()=>{qe()},[Ue]);const We=(e,r)=>{Me(t=>o(n({},t),{[e]:r}))},Ge=e=>{if(!e)return"Just now";const r=new Date(e),t=new Date,a=Math.floor((t-r)/1e3);return a<60?"Just now":a<3600?`${Math.floor(a/60)} mins ago`:a<86400?`${Math.floor(a/3600)} hours ago`:a<604800?`${Math.floor(a/86400)} days ago`:r.toLocaleDateString()},Ve=e=>({contact_submission:"mail",newsletter_subscription:"campaign",project:"folder",review:"star",service:"build",package:"inventory",process_step:"settings",about_us_content:"info",team_member:"person"}[e]||"notifications");return g.jsxs(g.Fragment,{children:[g.jsx(ce,{userName:(null==De?void 0:De.name)||"Admin"}),g.jsx(xe,{fromDate:Ue.fromDate,toDate:Ue.toDate,onFromDateChange:e=>We("fromDate",e),onToDateChange:e=>We("toDate",e),onRefresh:()=>{qe()},onReset:()=>{Me({fromDate:ze(),toDate:Re()})},className:"mb-8"}),Oe?g.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:g.jsx("p",{children:"Loading dashboard data..."})}):Ie&&Object.keys(Ie).length>0?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"mb-8",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Contact Submissions"}),g.jsxs("button",{onClick:()=>Ee("/admin/contact-submissions"),className:"text-sm text-primary hover:text-[#0eb37d] font-medium flex items-center gap-1",children:["View All",g.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_forward"})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[g.jsx(pe,{label:"Total Submissions",value:null!=(a=null!=(t=null==(e=null==Ie?void 0:Ie.contact_submissions)?void 0:e.total)?t:null==(r=null==Ie?void 0:Ie.contactSubmissions)?void 0:r.total)?a:0,icon:"mail",color:"blue",onClick:()=>Ee("/admin/contact-submissions")}),g.jsx(pe,{label:"New",value:null!=(u=null!=(i=null==(s=null==Ie?void 0:Ie.contact_submissions)?void 0:s.new)?i:null==(l=null==Ie?void 0:Ie.contactSubmissions)?void 0:l.new)?u:0,icon:"mark_email_unread",color:"yellow",onClick:()=>Ee("/admin/contact-submissions?status=new")}),g.jsx(pe,{label:"Read",value:null!=(b=null!=(h=null==(x=null==Ie?void 0:Ie.contact_submissions)?void 0:x.read)?h:null==(p=null==Ie?void 0:Ie.contactSubmissions)?void 0:p.read)?b:0,icon:"drafts",color:"indigo",onClick:()=>Ee("/admin/contact-submissions?status=read")}),g.jsx(pe,{label:"Replied",value:null!=(j=null!=(v=null==(y=null==Ie?void 0:Ie.contact_submissions)?void 0:y.replied)?v:null==(f=null==Ie?void 0:Ie.contactSubmissions)?void 0:f.replied)?j:0,icon:"reply",color:"green",onClick:()=>Ee("/admin/contact-submissions?status=replied")})]})]}),g.jsxs("div",{className:"mb-8",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Newsletter Subscriptions"}),g.jsxs("button",{onClick:()=>Ee("/admin/newsletter-subscriptions"),className:"text-sm text-primary hover:text-[#0eb37d] font-medium flex items-center gap-1",children:["View All",g.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_forward"})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsx(pe,{label:"Total Subscribers",value:null!=(P=null!=(_=null==(k=null==Ie?void 0:Ie.newsletter_subscriptions)?void 0:k.total)?_:null==(w=null==Ie?void 0:Ie.newsletterSubscriptions)?void 0:w.total)?P:0,icon:"campaign",color:"green",onClick:()=>Ee("/admin/newsletter-subscriptions")}),g.jsx(pe,{label:"Active",value:null!=($=null!=(A=null==(S=null==Ie?void 0:Ie.newsletter_subscriptions)?void 0:S.active)?A:null==(C=null==Ie?void 0:Ie.newsletterSubscriptions)?void 0:C.active)?$:0,icon:"check_circle",color:"green",onClick:()=>Ee("/admin/newsletter-subscriptions?status=active")}),g.jsx(pe,{label:"Unsubscribed",value:null!=(T=null!=(I=null==(E=null==Ie?void 0:Ie.newsletter_subscriptions)?void 0:E.unsubscribed)?I:null==(D=null==Ie?void 0:Ie.newsletterSubscriptions)?void 0:D.unsubscribed)?T:0,icon:"cancel",color:"gray",onClick:()=>Ee("/admin/newsletter-subscriptions?status=unsubscribed")})]})]}),g.jsxs("div",{className:"mb-8",children:[g.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Content Overview"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[g.jsx(pe,{label:"Projects",value:null!=(L=null==(F=null==Ie?void 0:Ie.projects)?void 0:F.total)?L:0,icon:"folder",color:"purple",description:`${null!=(B=null==(O=null==Ie?void 0:Ie.projects)?void 0:O.active)?B:0} active, ${null!=(R=null==(z=null==Ie?void 0:Ie.projects)?void 0:z.featured)?R:0} featured`,onClick:()=>Ee("/admin/projects")}),g.jsx(pe,{label:"Reviews",value:null!=(M=null==(U=null==Ie?void 0:Ie.reviews)?void 0:U.total)?M:0,icon:"star",color:"yellow",description:`${null!=(W=null==(q=null==Ie?void 0:Ie.reviews)?void 0:q.active)?W:0} active, ${null!=(V=null==(G=null==Ie?void 0:Ie.reviews)?void 0:G.featured)?V:0} featured`,onClick:()=>Ee("/admin/reviews")}),g.jsx(pe,{label:"Services",value:null!=(J=null==(H=null==Ie?void 0:Ie.services)?void 0:H.total)?J:0,icon:"build",color:"indigo",description:`${null!=(K=null==(Y=null==Ie?void 0:Ie.services)?void 0:Y.active)?K:0} active`,onClick:()=>Ee("/admin/services")}),g.jsx(pe,{label:"Packages",value:null!=(Z=null==(Q=null==Ie?void 0:Ie.packages)?void 0:Q.total)?Z:0,icon:"inventory",color:"pink",description:`${null!=(ee=null==(X=null==Ie?void 0:Ie.packages)?void 0:X.active)?ee:0} active, ${null!=(te=null==(re=null==Ie?void 0:Ie.packages)?void 0:re.featured)?te:0} featured`,onClick:()=>Ee("/admin/packages")})]})]}),g.jsxs("div",{className:"mb-8",children:[g.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Additional Statistics"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[g.jsx(pe,{label:"Process Steps",value:null!=(ie=null!=(le=null==(ae=null==Ie?void 0:Ie.process_steps)?void 0:ae.total)?le:null==(se=null==Ie?void 0:Ie.processSteps)?void 0:se.total)?ie:0,icon:"settings",color:"cyan",description:`${null!=(me=null!=(de=null==(ne=null==Ie?void 0:Ie.process_steps)?void 0:ne.active)?de:null==(oe=null==Ie?void 0:Ie.processSteps)?void 0:oe.active)?me:0} active`,onClick:()=>Ee("/admin/process-steps")}),g.jsx(pe,{label:"About Us Content",value:null!=(ye=null!=(be=null==(ge=null==Ie?void 0:Ie.about_us_content)?void 0:ge.total)?be:null==(he=null==Ie?void 0:Ie.aboutUsContent)?void 0:he.total)?ye:0,icon:"info",color:"orange",description:`${null!=(ke=null!=(je=null==(fe=null==Ie?void 0:Ie.about_us_content)?void 0:fe.active)?je:null==(ve=null==Ie?void 0:Ie.aboutUsContent)?void 0:ve.active)?ke:0} active`,onClick:()=>Ee("/admin/about-us-content")}),g.jsx(pe,{label:"Team Members",value:null!=(Pe=null!=(_e=null==(Ne=null==Ie?void 0:Ie.team_members)?void 0:Ne.total)?_e:null==(we=null==Ie?void 0:Ie.teamMembers)?void 0:we.total)?Pe:0,icon:"groups",color:"teal",description:`${null!=($e=null!=(Ae=null==(Se=null==Ie?void 0:Ie.team_members)?void 0:Se.active)?Ae:null==(Ce=null==Ie?void 0:Ie.teamMembers)?void 0:Ce.active)?$e:0} active`,onClick:()=>Ee("/admin/team")})]})]}),Fe&&Fe.length>0&&g.jsxs("div",{className:"mb-8",children:[g.jsx("div",{className:"flex items-center justify-between mb-4",children:g.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Recent Activity"})}),g.jsx("div",{className:"bg-white dark:bg-card-dark rounded-xl shadow-soft border border-gray-100 dark:border-gray-700 overflow-hidden",children:g.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:Fe.map((e,r)=>{return g.jsx("div",{className:"p-4 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors cursor-pointer",onClick:()=>e.url&&Ee(e.url),children:g.jsxs("div",{className:"flex items-start gap-4",children:[g.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${t=e.type,{contact_submission:"bg-blue-100 text-blue-600 dark:bg-blue-900/20 dark:text-blue-300",newsletter_subscription:"bg-green-100 text-green-600 dark:bg-green-900/20 dark:text-green-300",project:"bg-purple-100 text-purple-600 dark:bg-purple-900/20 dark:text-purple-300",review:"bg-yellow-100 text-yellow-600 dark:bg-yellow-900/20 dark:text-yellow-300",service:"bg-indigo-100 text-indigo-600 dark:bg-indigo-900/20 dark:text-indigo-300",package:"bg-pink-100 text-pink-600 dark:bg-pink-900/20 dark:text-pink-300",process_step:"bg-cyan-100 text-cyan-600 dark:bg-cyan-900/20 dark:text-cyan-300",about_us_content:"bg-orange-100 text-orange-600 dark:bg-orange-900/20 dark:text-orange-300",team_member:"bg-teal-100 text-teal-600 dark:bg-teal-900/20 dark:text-teal-300"}[t]||"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-300"}`,children:g.jsx("span",{className:"material-symbols-outlined text-lg",children:Ve(e.type)})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:e.title}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:e.description}),g.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-2",children:Ge(e.timestamp)})]}),e.url&&g.jsx("span",{className:"material-symbols-outlined text-gray-400 text-sm",children:"chevron_right"})]})},r);var t})})})]})]}):g.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:g.jsx("p",{children:"No dashboard data available"})})]})},be=({onAddNew:e,className:r=""})=>g.jsxs("header",{className:`mb-8 flex flex-col md:flex-row md:items-end justify-between gap-4 ${r}`,children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Team Management"}),g.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Manage your team members, their details, and availability status."})]}),g.jsx("div",{className:"flex items-center gap-3",children:g.jsxs("button",{onClick:e,className:"bg-black hover:bg-gray-800 dark:bg-white dark:text-black dark:hover:bg-gray-200 text-white font-semibold rounded-xl text-sm px-6 py-3 shadow-lg shadow-gray-200 dark:shadow-none transition-all transform hover:-translate-y-0.5 flex items-center",children:[g.jsx("span",{className:"material-symbols-outlined mr-2",children:"person_add"}),"Add Team Member"]})})]}),ye=({search:e="",status:r="all",onSearchChange:t,onStatusChange:a,onSort:s,className:l=""})=>g.jsxs("div",{className:`bg-white dark:bg-card-dark rounded-xl shadow-soft p-4 mb-6 border border-gray-100 dark:border-gray-700 flex flex-col md:flex-row items-center justify-between gap-4 ${l}`,children:[g.jsxs("div",{className:"flex items-center w-full md:w-auto space-x-4",children:[g.jsxs("div",{className:"relative w-full md:w-72",children:[g.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400",children:g.jsx("span",{className:"material-symbols-outlined text-lg",children:"search"})}),g.jsx("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Search by name, role or email...",className:"w-full py-2.5 pl-10 pr-4 text-sm bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary text-gray-700 dark:text-gray-200 transition-colors"})]}),g.jsxs("div",{className:"relative w-full md:w-48",children:[g.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400 pointer-events-none",children:g.jsx("span",{className:"material-symbols-outlined text-lg",children:"filter_alt"})}),g.jsxs("select",{value:r,onChange:e=>a(e.target.value),className:"w-full py-2.5 pl-10 pr-8 text-sm bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary text-gray-700 dark:text-gray-200 appearance-none cursor-pointer",children:[g.jsx("option",{value:"all",children:"All Statuses"}),g.jsx("option",{value:"active",children:"Active"}),g.jsx("option",{value:"inactive",children:"Inactive"}),g.jsx("option",{value:"leave",children:"On Leave"})]}),g.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none text-gray-400",children:g.jsx("span",{className:"material-symbols-outlined text-sm",children:"expand_more"})})]})]}),g.jsx("div",{className:"flex items-center space-x-2 w-full md:w-auto justify-end",children:g.jsxs("button",{onClick:s,className:"p-2.5 bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors flex items-center",children:[g.jsx("span",{className:"material-symbols-outlined text-lg mr-1",children:"sort"}),g.jsx("span",{className:"text-sm font-medium",children:"Sort"})]})})]}),fe=({member:e,onEdit:r,onMoreActions:t,onViewDetails:a,className:s=""})=>{const l=e=>({instagram:"photo_camera",facebook:"facebook",twitter:"alternate_email",linkedin:"work",youtube:"play_circle",tiktok:"music_note"}[e]||"link"),i=e=>e.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2),n=e=>{const r=["bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400","bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400","bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400","bg-teal-100 dark:bg-teal-900/30 text-teal-600 dark:text-teal-400","bg-pink-100 dark:bg-pink-900/30 text-pink-600 dark:text-pink-400"];return r[e.charCodeAt(0)%r.length]},o="inactive"===e.status,d=`${e.firstName||""} ${e.lastName||""}`.trim()||e.name||"Unknown",c=e.profilePhoto||e.avatar;return g.jsxs("div",{className:`bg-white dark:bg-card-dark rounded-xl shadow-soft border border-gray-100 dark:border-gray-700 p-6 flex flex-col items-center text-center relative group hover:shadow-lg transition-all duration-200 ${o?"opacity-75 hover:opacity-100":""} ${s}`,children:[g.jsx("div",{className:"absolute top-4 right-4",children:(e=>{const r={active:{bg:"bg-green-100 dark:bg-green-900/30",text:"text-green-700 dark:text-green-400",label:"Active"},inactive:{bg:"bg-gray-100 dark:bg-gray-700",text:"text-gray-600 dark:text-gray-300",label:"Inactive"},leave:{bg:"bg-yellow-100 dark:bg-yellow-900/30",text:"text-yellow-700 dark:text-yellow-400",label:"On Leave"}},t=r[e]||r.inactive;return g.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t.bg} ${t.text}`,children:t.label})})(e.status)}),g.jsxs("div",{className:"relative mb-4 group/image",children:[g.jsx("div",{className:`h-24 w-24 rounded-full p-1 border-2 ${o?"border-gray-200 dark:border-gray-600":"border-green-100 dark:border-green-900/50"} ${o?"grayscale":""} relative overflow-hidden`,children:c?g.jsxs(g.Fragment,{children:[g.jsx("img",{alt:d,className:"h-full w-full rounded-full object-cover",src:e.profilePhoto||e.avatar,onError:e=>{e.target.style.display="none";const r=e.target.parentElement.querySelector(".avatar-initials");r&&(r.style.display="flex")}}),g.jsx("div",{className:`h-full w-full rounded-full flex items-center justify-center font-bold text-2xl ${n(d)} avatar-initials absolute inset-0`,style:{display:"none"},children:i(d)})]}):g.jsx("div",{className:`h-full w-full rounded-full flex items-center justify-center font-bold text-2xl ${n(d)}`,children:i(d)})}),e.isFeatured&&g.jsx("div",{className:"absolute bottom-0 right-1 w-6 h-6 bg-white dark:bg-card-dark rounded-full flex items-center justify-center border border-gray-100 dark:border-gray-600 shadow-sm",children:g.jsx("span",{className:"material-symbols-outlined text-xs text-yellow-500",children:"star"})})]}),g.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-lg",children:d}),g.jsx("p",{className:"text-sm text-primary dark:text-gray-400 font-medium mb-1",children:e.jobTitle||e.job_title||e.role||"Team Member"}),e.bio&&g.jsx("p",{className:"text-xs text-gray-500 mb-4 truncate max-w-[180px]",children:e.bio}),g.jsx("div",{className:"flex space-x-3 mb-6 justify-center flex-wrap gap-2",children:e.socialLinks&&Array.isArray(e.socialLinks)&&e.socialLinks.length>0?e.socialLinks.map((e,r)=>{return g.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:`text-gray-400 ${t=e.platform,{instagram:"hover:text-pink-600",facebook:"hover:text-blue-600",twitter:"hover:text-blue-400",linkedin:"hover:text-blue-700",youtube:"hover:text-red-600",tiktok:"hover:text-black dark:hover:text-white"}[t]||"hover:text-gray-600"} transition-colors`,title:e.platform,children:g.jsx("span",{className:"material-symbols-outlined text-lg",children:l(e.platform)})},r);var t}):g.jsxs(g.Fragment,{children:[e.email&&g.jsx("a",{href:`mailto:${e.email}`,className:"text-gray-400 hover:text-blue-500 transition-colors",title:"Email",children:g.jsx("span",{className:"material-symbols-outlined text-lg",children:"email"})}),e.phone&&g.jsx("a",{href:`tel:${e.phone}`,className:"text-gray-400 hover:text-blue-400 transition-colors",title:"Phone",children:g.jsx("span",{className:"material-symbols-outlined text-lg",children:"phone"})})]})}),g.jsx("div",{className:"w-full border-t border-gray-100 dark:border-gray-700 pt-4 flex justify-center items-center",children:g.jsxs("button",{onClick:()=>r&&r(e),className:"text-xs font-medium text-primary hover:text-gray-600 dark:text-white dark:hover:text-gray-300 flex items-center",children:[g.jsx("span",{className:"material-symbols-outlined text-sm mr-1",children:"edit"}),"Edit"]})})]})},ve=({onClick:e,className:r=""})=>g.jsxs("div",{onClick:e,className:`bg-gray-50 dark:bg-gray-800/30 rounded-xl border-2 border-dashed border-gray-200 dark:border-gray-700 p-6 flex flex-col justify-center items-center text-center group hover:border-gray-300 dark:hover:border-gray-600 transition-colors cursor-pointer h-full min-h-[300px] ${r}`,children:[g.jsx("div",{className:"w-16 h-16 rounded-full bg-white dark:bg-gray-800 flex items-center justify-center mb-4 shadow-sm group-hover:scale-110 transition-transform",children:g.jsx("span",{className:"material-symbols-outlined text-3xl text-gray-400 group-hover:text-primary dark:group-hover:text-white",children:"add"})}),g.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-base",children:"Add Team Member"}),g.jsx("p",{className:"text-xs text-gray-500 mt-2 max-w-[200px]",children:"Register a new barber to the system and set up their profile."})]}),je=({currentPage:e=1,totalPages:r=1,totalItems:t=0,itemsPerPage:a=12,onPageChange:s,className:l=""})=>{const i=0===t?0:(e-1)*a+1,n=Math.min(e*a,t);return g.jsxs("div",{className:`bg-white dark:bg-card-dark rounded-xl shadow-soft px-6 py-4 border border-gray-100 dark:border-gray-700 flex flex-col sm:flex-row items-center justify-between gap-4 ${l}`,children:[g.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400 text-center sm:text-left",children:["Showing ",g.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[i,"-",n]})," of"," ",g.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:t})," Staff Members"]}),g.jsxs("div",{className:"inline-flex space-x-2",children:[g.jsx("button",{onClick:()=>{e>1&&s(e-1)},disabled:1===e,className:"px-4 py-2 text-sm font-medium text-gray-500 bg-white dark:bg-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),g.jsx("button",{onClick:()=>{e<r&&s(e+1)},disabled:e===r,className:"px-4 py-2 text-sm font-medium text-gray-900 bg-white dark:bg-gray-700 dark:text-white border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})},ke=({isOpen:e=!1,onClose:r,title:t,titleIcon:a,children:s,footer:l,maxWidth:i="max-w-lg",customHeader:n,className:o=""})=>(m.useEffect(()=>{const t=t=>{"Escape"===t.key&&e&&r&&r()};return e&&(document.addEventListener("keydown",t),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",t),document.body.style.overflow="unset"}},[e,r]),e?g.jsxs("div",{"aria-labelledby":"modal-title","aria-modal":"true",className:"fixed inset-0 z-50 overflow-y-auto",role:"dialog",children:[g.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity",onClick:r,"aria-hidden":"true"}),g.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[g.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),g.jsxs("div",{className:`inline-block align-bottom bg-white dark:bg-card-dark rounded-2xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle ${i} sm:w-full border border-gray-200 dark:border-gray-700 ${o}`,children:[n?g.jsx("div",{className:"border-b border-gray-100 dark:border-gray-800",children:n}):t?g.jsxs("div",{className:"px-6 py-5 border-b border-gray-100 dark:border-gray-800 flex justify-between items-center",children:[g.jsxs("h3",{className:"text-xl font-bold text-[#111816] dark:text-white flex items-center gap-2",id:"modal-title",children:[a&&g.jsx("span",{className:`material-symbols-outlined ${"object"==typeof a&&a.color?a.color:"text-primary"}`,children:"object"==typeof a?a.name:a}),t]}),r&&g.jsx("button",{onClick:r,className:"flex h-8 w-8 items-center justify-center rounded-full text-gray-400 hover:bg-gray-100 dark:hover:bg-white/5 hover:text-gray-500 focus:outline-none transition-colors",type:"button","aria-label":"Close modal",children:g.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"close"})})]}):null,g.jsx("div",{className:"px-6 py-6 overflow-y-auto custom-scrollbar bg-background-light dark:bg-background-dark/50",children:s}),l&&g.jsx("div",{className:"p-4 border-t border-gray-100 dark:border-gray-800 bg-surface-light dark:bg-surface-dark flex justify-end gap-3 z-10",children:l})]})]})]}):null),Ne=({checked:e=!1,onChange:r,disabled:t=!1,className:a=""})=>g.jsxs("label",{className:`relative inline-flex items-center cursor-pointer ${t?"opacity-50 cursor-not-allowed":""} ${a}`,children:[g.jsx("input",{type:"checkbox",checked:e,onChange:e=>r&&r(e.target.checked),disabled:t,className:"sr-only peer"}),g.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-primary/20 dark:peer-focus:ring-primary/40 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary"})]}),we=({label:e,name:r,value:t,onChange:a,placeholder:s="Enter phone number",required:l=!1,error:i,helpText:n,className:o="",defaultCountry:d="LB",disabled:c=!1,id:m})=>{const u="string"==typeof t?t:null==t?"":"object"==typeof t&&null!==t?t.target&&"string"==typeof t.target.value?t.target.value:"":String(t||"");return g.jsxs("div",{className:`flex flex-col gap-2 ${o}`,children:[e&&g.jsxs("label",{htmlFor:m||r,className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[e,l&&g.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),g.jsx("div",{className:"relative",children:g.jsx(x,{international:!0,defaultCountry:d,value:u,onChange:e=>{if(a){const t=null==e?"":String(e);a({target:{name:r||m,value:t}})}},placeholder:s,disabled:c,className:"phone-input-custom "+(i?"phone-input-error":""),numberInputProps:{id:m||r,name:r,className:"phone-input-field "+(i?"border-red-500":"")}})}),i&&g.jsx("p",{className:"text-xs text-red-500 mt-1",children:i}),n&&!i&&g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:n})]})},_e=({isOpen:e=!1,onClose:r,onSubmit:t,member:a=null,isLoading:s=!1,className:l=""})=>{const i=!!a,[d,c]=m.useState({teamMemberName:"",jobTitle:"",phone:"",email:"",isActive:!0,bio:""}),[u,x]=m.useState(null),[p,h]=m.useState(null),[b,y]=m.useState({}),[f,v]=m.useState([]),j=[{value:"instagram",label:"Instagram",icon:"photo_camera"},{value:"facebook",label:"Facebook",icon:"facebook"},{value:"twitter",label:"Twitter",icon:"alternate_email"},{value:"linkedin",label:"LinkedIn",icon:"work"},{value:"youtube",label:"YouTube",icon:"play_circle"},{value:"tiktok",label:"TikTok",icon:"music_note"}];m.useEffect(()=>{if(e){if(a){const e=`${a.firstName||""} ${a.lastName||""}`.trim()||a.name||"";c({teamMemberName:e,jobTitle:a.jobTitle||a.job_title||"",phone:a.phone||"",email:a.email||"",isActive:"active"===a.status,bio:a.bio||""}),h(a.profilePhoto||a.avatar||null),a.socialLinks&&Array.isArray(a.socialLinks)?v(a.socialLinks.map(e=>({platform:e.platform,url:e.url,id:e.id||Math.random().toString(36).substr(2,9)}))):v([])}else c({teamMemberName:"",jobTitle:"",phone:"",email:"",isActive:!0,bio:""}),x(null),h(null),v([]);y({})}},[e,a]);const k=(e,r)=>{c(t=>o(n({},t),{[e]:r})),b[e]&&y(r=>{const t=n({},r);return delete t[e],t})},N=()=>{c({teamMemberName:"",jobTitle:"",phone:"",email:"",isActive:!0,bio:""}),x(null),h(null),v([]),y({}),r()},w=(e,r,t)=>{v(a=>a.map(a=>a.id===e?o(n({},a),{[r]:t}):a))};return g.jsx(ke,{isOpen:e,onClose:N,title:i?"Edit Team Member":"Add Team Member",titleIcon:"person_add",maxWidth:"max-w-2xl",footer:g.jsxs(g.Fragment,{children:[g.jsx("button",{type:"button",onClick:N,className:"inline-flex justify-center items-center rounded-lg bg-white dark:bg-transparent px-5 py-2.5 text-sm font-semibold text-gray-700 dark:text-gray-300 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),g.jsx("button",{type:"button",onClick:e=>{e.preventDefault();const r={};if(d.teamMemberName.trim()||(r.teamMemberName="Team member name is required"),d.jobTitle.trim()||(r.jobTitle="Job title is required"),d.phone&&d.phone.trim()?d.phone.startsWith("+")||(r.phone="Please enter a valid international phone number"):r.phone="Phone number is required",d.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.email)||(r.email="Please enter a valid email address"):r.email="Email address is required",Object.keys(r).length>0)return void y(r);const a=d.teamMemberName.trim().split(" "),s=a[0]||"",l=a.slice(1).join(" ")||"",i=f.filter(e=>e.platform&&e.url&&e.url.trim()).map(e=>({platform:e.platform,url:e.url.trim()})),n={firstName:s,lastName:l,name:d.teamMemberName.trim(),jobTitle:d.jobTitle.trim(),phone:d.phone?d.phone.trim():"",email:d.email.trim(),status:d.isActive?"active":"inactive",bio:d.bio?d.bio.trim():"",profilePhoto:u||void 0,socialLinks:i};t(n)},disabled:s,className:"inline-flex justify-center items-center rounded-lg bg-primary px-6 py-2.5 text-sm font-semibold text-white shadow-lg shadow-gray-300/50 dark:shadow-none hover:bg-gray-800 dark:hover:bg-gray-600 transition-all transform hover:-translate-y-0.5 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:s?"Saving...":i?"Update Barber":"Add Barber"})]}),className:l,children:g.jsxs("div",{className:"space-y-6",children:[g.jsx("div",{className:"flex flex-col items-center justify-center pb-2",children:g.jsxs("div",{className:"relative group cursor-pointer",children:[g.jsx("div",{className:"w-28 h-28 rounded-full bg-gray-50 dark:bg-gray-800 flex flex-col items-center justify-center border-2 border-dashed border-gray-300 dark:border-gray-600 hover:border-primary dark:hover:border-white transition-all overflow-hidden",onClick:()=>{var e;return null==(e=document.getElementById("profile-photo-input"))?void 0:e.click()},children:p?g.jsx("img",{alt:"Preview",className:"h-full w-full object-cover",src:p}):g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"material-symbols-outlined text-gray-400 text-3xl mb-1 group-hover:text-primary dark:group-hover:text-white transition-colors",children:"add_a_photo"}),g.jsx("span",{className:"text-[10px] text-gray-400 font-medium group-hover:text-primary dark:group-hover:text-white transition-colors",children:"Upload Photo"})]})}),g.jsx("div",{className:"absolute bottom-0 right-0 bg-primary text-white rounded-full p-1.5 shadow-md border-2 border-white dark:border-gray-800",children:g.jsx("span",{className:"material-symbols-outlined text-sm block",children:"edit"})}),g.jsx("input",{id:"profile-photo-input",type:"file",accept:"image/*",onChange:e=>{var r;const t=null==(r=e.target.files)?void 0:r[0];if(t){x(t);const e=new FileReader;e.onloadend=()=>{h(e.result)},e.readAsDataURL(t)}},className:"hidden"})]})}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[g.jsxs("div",{className:"col-span-1 md:col-span-1",children:[g.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",htmlFor:"team-member-name",children:["Team Member Name ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400 pointer-events-none",children:g.jsx("span",{className:"material-symbols-outlined text-lg",children:"badge"})}),g.jsx("input",{id:"team-member-name",type:"text",value:d.teamMemberName,onChange:e=>k("teamMemberName",e.target.value),placeholder:"e.g. John Doe",className:`w-full bg-gray-50 dark:bg-gray-800 border ${b.barberName?"border-red-500":"border-gray-200 dark:border-gray-600"} rounded-lg pl-10 pr-4 py-2.5 text-sm focus:ring-1 focus:ring-primary focus:border-primary focus:outline-none dark:text-white placeholder-gray-400 transition-colors`})]}),b.teamMemberName&&g.jsx("p",{className:"mt-1 text-xs text-red-500",children:b.teamMemberName})]}),g.jsxs("div",{className:"col-span-1 md:col-span-1",children:[g.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",htmlFor:"job-title",children:["Job Title ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400 pointer-events-none",children:g.jsx("span",{className:"material-symbols-outlined text-lg",children:"work"})}),g.jsx("input",{id:"job-title",type:"text",value:d.jobTitle,onChange:e=>k("jobTitle",e.target.value),placeholder:"e.g. Senior Stylist",className:`w-full bg-gray-50 dark:bg-gray-800 border ${b.jobTitle?"border-red-500":"border-gray-200 dark:border-gray-600"} rounded-lg pl-10 pr-4 py-2.5 text-sm focus:ring-1 focus:ring-primary focus:border-primary focus:outline-none dark:text-white placeholder-gray-400 transition-colors`})]}),b.jobTitle&&g.jsx("p",{className:"mt-1 text-xs text-red-500",children:b.jobTitle})]}),g.jsx("div",{className:"col-span-1 md:col-span-1",children:g.jsx(we,{label:"Phone Number",name:"phone",id:"phone",value:d.phone,onChange:e=>k("phone",e.target.value),placeholder:"Enter phone number",required:!0,error:b.phone,defaultCountry:"LB"})}),g.jsxs("div",{className:"col-span-1 md:col-span-1",children:[g.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",htmlFor:"email",children:["Email Address ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400 pointer-events-none",children:g.jsx("span",{className:"material-symbols-outlined text-lg",children:"email"})}),g.jsx("input",{id:"email",type:"email",value:d.email,onChange:e=>k("email",e.target.value),placeholder:"barber@sadek.com",className:`w-full bg-gray-50 dark:bg-gray-800 border ${b.email?"border-red-500":"border-gray-200 dark:border-gray-600"} rounded-lg pl-10 pr-4 py-2.5 text-sm focus:ring-1 focus:ring-primary focus:border-primary focus:outline-none dark:text-white placeholder-gray-400 transition-colors`})]}),b.email&&g.jsx("p",{className:"mt-1 text-xs text-red-500",children:b.email})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",htmlFor:"bio",children:"Bio"}),g.jsx("textarea",{id:"bio",rows:3,value:d.bio,onChange:e=>k("bio",e.target.value),placeholder:"Short bio about this team member...",className:"w-full bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg px-3 py-2.5 text-sm focus:ring-1 focus:ring-primary focus:border-primary focus:outline-none dark:text-white placeholder-gray-400 transition-colors resize-none"})]}),g.jsxs("div",{className:"border-t border-gray-100 dark:border-gray-700 pt-5 mt-2",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsx("label",{className:"block text-sm font-semibold text-gray-900 dark:text-white",children:"Social Media Links"}),g.jsxs("button",{type:"button",onClick:()=>{v(e=>[...e,{platform:"instagram",url:"",id:Math.random().toString(36).substr(2,9)}])},className:"text-xs text-primary dark:text-white font-medium flex items-center hover:underline",children:[g.jsx("span",{className:"material-symbols-outlined text-sm mr-1",children:"add_circle_outline"}),"Add Platform"]})]}),g.jsxs("div",{className:"space-y-3",children:[f.map(e=>{var r;return g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsxs("div",{className:"flex-1 flex rounded-lg shadow-sm",children:[g.jsx("div",{className:"flex-shrink-0 relative",children:g.jsx("select",{value:e.platform,onChange:r=>w(e.id,"platform",r.target.value),className:"inline-flex items-center px-3 py-2.5 rounded-l-lg border border-r-0 border-gray-200 dark:border-gray-600 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-sm focus:ring-1 focus:ring-primary focus:border-primary focus:outline-none cursor-pointer",children:j.map(e=>g.jsx("option",{value:e.value,children:e.label},e.value))})}),g.jsx("input",{type:"url",value:e.url,onChange:r=>w(e.id,"url",r.target.value),placeholder:`Enter ${(null==(r=j.find(r=>r.value===e.platform))?void 0:r.label)||"platform"} URL`,className:"flex-1 w-full bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-r-lg px-4 py-2.5 text-sm focus:ring-1 focus:ring-primary focus:border-primary focus:outline-none dark:text-white placeholder-gray-400 transition-colors"})]}),g.jsx("button",{type:"button",onClick:()=>{return r=e.id,void v(e=>e.filter(e=>e.id!==r));var r},className:"p-2 text-red-500 hover:text-red-700 dark:hover:text-red-400 transition-colors",title:"Remove",children:g.jsx("span",{className:"material-symbols-outlined text-lg",children:"delete"})})]},e.id)}),0===f.length&&g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center py-2",children:'No social media links added. Click "Add Platform" to add one.'})]})]}),g.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/30 rounded-xl p-4 flex items-center justify-between border border-gray-100 dark:border-gray-700",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("div",{className:"p-2 bg-white dark:bg-gray-700 rounded-lg shadow-sm",children:g.jsx("span",{className:"material-symbols-outlined text-gray-500 dark:text-gray-300",children:d.isActive?"toggle_on":"toggle_off"})}),g.jsxs("div",{children:[g.jsx("span",{className:"block text-sm font-semibold text-gray-900 dark:text-white",children:"Active Status"}),g.jsx("span",{className:"block text-xs text-gray-500 dark:text-gray-400",children:"Toggle to enable or disable team member account access."})]})]}),g.jsx(Ne,{checked:d.isActive,onChange:e=>k("isActive",e)})]})]})})},Pe=({isOpen:e=!1,onClose:r,member:t=null,onEdit:a,stats:s=null,upcomingAppointments:l=[],availability:i=null,isLoading:n=!1,className:o=""})=>{if(!t)return null;const d=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}catch(r){return e}},c=e=>{if(!e)return"N/A";try{const[r,t]=e.split(":"),a=parseInt(r,10);return`${a%12||12}:${t} ${a>=12?"PM":"AM"}`}catch(r){return e}},m=e=>e?e.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):"??",u=`${t.firstName||""} ${t.lastName||""}`.trim()||t.name||"Unknown",x=t.profilePhoto||t.avatar,p=!!x,h=t.rating||(null==s?void 0:s.averageRating)||0,b=(null==s?void 0:s.totalAppointments)||t.totalAppointments||0,y=(null==s?void 0:s.satisfactionRate)||t.satisfactionRate||0,f=i||t.availability||null;return g.jsx(ke,{isOpen:e,onClose:r,title:g.jsxs("div",{className:"flex items-center gap-2",children:["Barber Overview",(e=>{const r={active:{bg:"bg-green-50 dark:bg-green-900/30",text:"text-green-700 dark:text-green-400",ring:"ring-green-600/20",label:"Active"},inactive:{bg:"bg-gray-50 dark:bg-gray-700",text:"text-gray-600 dark:text-gray-300",ring:"ring-gray-600/20",label:"Inactive"},leave:{bg:"bg-yellow-50 dark:bg-yellow-900/30",text:"text-yellow-700 dark:text-yellow-400",ring:"ring-yellow-600/20",label:"On Leave"}},t=r[e]||r.inactive;return g.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${t.bg} ${t.text} ring-1 ring-inset ${t.ring}`,children:t.label})})(t.status||"active")]}),titleIcon:"person",maxWidth:"max-w-3xl",footer:g.jsxs(g.Fragment,{children:[a&&g.jsxs("button",{type:"button",onClick:()=>{a(t),r()},className:"inline-flex justify-center items-center rounded-lg bg-black dark:bg-white dark:text-black px-4 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-gray-800 dark:hover:bg-gray-200 transition-colors",children:[g.jsx("span",{className:"material-symbols-outlined text-sm mr-2",children:"edit"}),"Edit Barber"]}),g.jsx("button",{type:"button",onClick:r,className:"inline-flex justify-center items-center rounded-lg bg-white dark:bg-transparent px-5 py-2.5 text-sm font-semibold text-gray-900 dark:text-gray-300 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Close Overview"})]}),className:o,children:g.jsxs("div",{className:"p-6 md:p-8 space-y-8 bg-white dark:bg-card-dark",children:[n&&g.jsx("div",{className:"flex items-center justify-center py-12",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary mb-4"}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Loading details..."})]})}),!n&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:[g.jsxs("div",{className:"shrink-0 relative",children:[g.jsxs("div",{className:"h-28 w-28 rounded-2xl overflow-hidden shadow-md ring-4 ring-white dark:ring-gray-700",children:[p?g.jsx("img",{alt:u,className:"h-full w-full object-cover",src:x,onError:e=>{e.target.style.display="none";const r=e.target.parentElement.querySelector(".avatar-initials");r&&(r.style.display="flex")}}):null,!p&&g.jsx("div",{className:`h-full w-full flex items-center justify-center font-bold text-3xl ${(e=>{const r=["bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400","bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400","bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400","bg-teal-100 dark:bg-teal-900/30 text-teal-600 dark:text-teal-400","bg-pink-100 dark:bg-pink-900/30 text-pink-600 dark:text-pink-400"];return r[e.charCodeAt(0)%r.length]})(u)} avatar-initials`,children:m(u)})]}),h>0&&g.jsxs("div",{className:"absolute -bottom-2 -right-2 bg-yellow-400 text-white rounded-lg px-2 py-1 shadow-sm flex items-center gap-1",children:[g.jsx("span",{className:"material-symbols-outlined text-sm",children:"star"}),g.jsx("span",{className:"text-xs font-bold text-black",children:h.toFixed(1)})]})]}),g.jsxs("div",{className:"flex-1 space-y-2",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:u}),g.jsx("p",{className:"text-primary dark:text-gray-300 font-medium",children:t.jobTitle||t.role||"Barber"})]}),g.jsxs("div",{className:"flex flex-wrap gap-3 pt-1",children:[t.email&&g.jsxs("a",{href:`mailto:${t.email}`,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-gray-50 dark:bg-gray-800 text-xs font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[g.jsx("span",{className:"material-symbols-outlined text-sm text-gray-400",children:"email"}),t.email]}),t.phone&&g.jsxs("a",{href:`tel:${t.phone}`,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-gray-50 dark:bg-gray-800 text-xs font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[g.jsx("span",{className:"material-symbols-outlined text-sm text-gray-400",children:"phone"}),t.phone]}),t.socialLinks&&Array.isArray(t.socialLinks)&&t.socialLinks.length>0?t.socialLinks.map((e,r)=>{const t={instagram:"photo_camera",facebook:"facebook",twitter:"alternate_email",linkedin:"work",youtube:"play_circle",tiktok:"music_note"}[e.platform]||"link",a=e.platform.charAt(0).toUpperCase()+e.platform.slice(1),s={instagram:"bg-pink-50 dark:bg-pink-900/10 text-pink-600 dark:text-pink-400 hover:bg-pink-100 dark:hover:bg-pink-900/20",facebook:"bg-blue-50 dark:bg-blue-900/10 text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/20",twitter:"bg-sky-50 dark:bg-sky-900/10 text-sky-600 dark:text-sky-400 hover:bg-sky-100 dark:hover:bg-sky-900/20",linkedin:"bg-blue-50 dark:bg-blue-900/10 text-blue-700 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/20",youtube:"bg-red-50 dark:bg-red-900/10 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/20",tiktok:"bg-gray-50 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}[e.platform]||"bg-gray-50 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700";return g.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg ${s} text-xs font-medium transition-colors`,title:a,children:[g.jsx("span",{className:"material-symbols-outlined text-sm",children:t}),a]},r)}):t.instagramHandle&&g.jsxs("a",{href:t.instagramHandle.startsWith("@")?`https://instagram.com/${t.instagramHandle.slice(1)}`:t.instagramHandle.startsWith("http")?t.instagramHandle:`https://instagram.com/${t.instagramHandle}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-pink-50 dark:bg-pink-900/10 text-xs font-medium text-pink-600 dark:text-pink-400 hover:bg-pink-100 dark:hover:bg-pink-900/20 transition-colors",children:[g.jsx("span",{className:"material-symbols-outlined text-sm",children:"photo_camera"}),t.instagramHandle.startsWith("@")?t.instagramHandle:t.instagramHandle.startsWith("http")?t.instagramHandle.split("/").pop():`@${t.instagramHandle}`]})]})]}),a&&g.jsx("div",{className:"w-full md:w-auto flex md:flex-col gap-2",children:g.jsxs("button",{onClick:()=>{a(t),r()},className:"flex-1 w-full inline-flex justify-center items-center rounded-lg bg-black dark:bg-white dark:text-black px-4 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-gray-800 dark:hover:bg-gray-200 transition-colors",children:[g.jsx("span",{className:"material-symbols-outlined text-sm mr-2",children:"edit"}),"Edit Barber"]})})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-xl p-4 border border-gray-100 dark:border-gray-700",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg text-blue-600 dark:text-blue-400",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"event_available"})}),g.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Total Appointments"})]}),g.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white pl-1",children:b.toLocaleString()}),g.jsx("p",{className:"text-xs text-gray-500 pl-1 mt-1",children:"Completed across all time"})]}),g.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-xl p-4 border border-gray-100 dark:border-gray-700",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg text-purple-600 dark:text-purple-400",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"thumb_up"})}),g.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Client Satisfaction"})]}),g.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white pl-1",children:[y,"%"]}),g.jsx("p",{className:"text-xs text-gray-500 pl-1 mt-1",children:"Based on last 50 reviews"})]}),g.jsxs("div",{className:"col-span-1 sm:col-span-2 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[g.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/80 flex justify-between items-center",children:[g.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Upcoming Appointments"}),g.jsx("a",{href:"#",className:"text-xs font-medium text-primary dark:text-blue-400 hover:underline",onClick:e=>{e.preventDefault()},children:"View All"})]}),g.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:l.length>0?l.slice(0,3).map((e,r)=>g.jsxs("div",{className:"px-4 py-3 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-200 dark:bg-gray-600 flex items-center justify-center text-xs font-bold text-gray-600 dark:text-gray-300",children:m(e.clientName||e.client_name)}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.clientName||e.client_name||"Unknown Client"}),g.jsx("p",{className:"text-xs text-gray-500",children:e.serviceName||e.service_name||e.service||"Service"})]})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:c(e.appointmentTime||e.time)}),g.jsx("p",{className:"text-xs text-gray-500",children:d(e.appointmentDate||e.date)})]})]},e.id||r)):g.jsx("div",{className:"px-4 py-6 text-center",children:g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No upcoming appointments"})})})]})]}),g.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/30 rounded-xl p-5 border border-gray-100 dark:border-gray-700 h-full",children:[g.jsxs("h4",{className:"text-sm font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[g.jsx("span",{className:"material-symbols-outlined text-gray-400",children:"schedule"}),"Availability Snapshot"]}),g.jsxs("div",{className:"space-y-4",children:[(null==f?void 0:f.standardHours)&&g.jsxs("div",{className:"pb-3 border-b border-gray-200 dark:border-gray-700 border-dashed",children:[g.jsx("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-2",children:"Standard Hours"}),f.standardHours.map((e,r)=>g.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[g.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:e.days||e.day}),g.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[e.startTime||e.start," - ",e.endTime||e.end]})]},r))]}),(null==f?void 0:f.timeOff)&&f.timeOff.length>0&&g.jsxs("div",{children:[g.jsx("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-2",children:"Upcoming Time Off"}),f.timeOff.slice(0,1).map((e,r)=>g.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border border-red-100 dark:border-red-900/30 shadow-sm",children:g.jsxs("div",{className:"flex items-start gap-2",children:[g.jsx("span",{className:"material-symbols-outlined text-red-400 text-sm mt-0.5",children:"block"}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs font-bold text-gray-900 dark:text-white",children:e.reason||e.type||"Time Off"}),g.jsxs("p",{className:"text-xs text-gray-500",children:[d(e.startDate||e.start)," - ",d(e.endDate||e.end)]})]})]})},r))]}),g.jsx("div",{className:"pt-2",children:g.jsx("button",{className:"w-full py-2 text-xs font-semibold text-primary dark:text-white border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-white dark:hover:bg-gray-700 transition-colors",onClick:()=>{},children:"Manage Schedule"})})]})]})]})]})]})})},Se="https://codelancelb.com/api/v1",Ce=e=>d(void 0,null,function*(){try{const r=localStorage.getItem("auth_token");return(yield N.get(`${Se}/admin/team/${e}/stats`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw r}}),Ae=(e,...r)=>d(void 0,[e,...r],function*(e,r={}){try{const t=localStorage.getItem("auth_token");return(yield N.get(`${Se}/admin/team/${e}/appointments`,{params:n({limit:r.limit||3,status:"upcoming"},r),headers:{Authorization:`Bearer ${t}`}})).data}catch(t){throw t}}),$e=e=>d(void 0,null,function*(){try{const r=localStorage.getItem("auth_token");return(yield N.get(`${Se}/admin/team/${e}/availability`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw r}}),Ee=()=>{const[e,r]=m.useState([]),[t,a]=m.useState(!0),[s,l]=m.useState(!1),[i,c]=m.useState(!1),[u,x]=m.useState(null),[p,h]=m.useState(null),[b,y]=m.useState(null),[f,v]=m.useState([]),[j,k]=m.useState(null),[w,_]=m.useState(!1),[P,S]=m.useState(!1),[C,A]=m.useState({search:"",status:"all"}),[$,E]=m.useState({currentPage:1,totalPages:1,totalItems:0,itemsPerPage:12}),D=()=>d(void 0,null,function*(){try{a(!0);const e=yield((...e)=>d(void 0,[...e],function*(e={}){try{const r=localStorage.getItem("auth_token");return(yield N.get(`${Se}/admin/team`,{params:{page:e.page||1,per_page:e.per_page||12,search:e.search||"",status:e.status||"all",sort:e.sort||"created_at",order:e.order||"desc"},headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw r}}))({page:$.currentPage,per_page:$.itemsPerPage,search:C.search,status:C.status});r(e.data||e.members||e||[]),E(r=>o(n({},r),{totalPages:e.total_pages||e.totalPages||1,totalItems:e.total||e.totalItems||0}))}catch(e){r([]),E(e=>o(n({},e),{totalPages:1,totalItems:0}))}finally{a(!1)}});m.useEffect(()=>{D()},[$.currentPage,C]);const I=()=>{x(null),l(!0)},T=e=>d(void 0,null,function*(){h(e),c(!0),_(!0);try{const[t,a,s,l]=yield Promise.allSettled([(r=e.id,d(void 0,null,function*(){try{const e=localStorage.getItem("auth_token");return(yield N.get(`${Se}/admin/team/${r}/details`,{headers:{Authorization:`Bearer ${e}`}})).data}catch(e){throw e}})),Ce(e.id),Ae(e.id,{limit:3}),$e(e.id)]);if("fulfilled"===t.status){const e=t.value;h(e.member||e),y(e.stats||null),v(e.appointments||e.upcomingAppointments||[]),k(e.availability||null)}else"fulfilled"===a.status&&y(a.value.stats||a.value),"fulfilled"===s.status&&v(s.value.data||s.value.appointments||[]),"fulfilled"===l.status&&k(l.value.availability||l.value)}catch(t){y({totalAppointments:e.totalAppointments||0,satisfactionRate:e.satisfactionRate||0,averageRating:e.rating||0}),v([]),k(null)}finally{_(!1)}var r}),F=e=>{x(e),l(!0)};return g.jsxs(g.Fragment,{children:[g.jsx(be,{onAddNew:I}),g.jsx(ye,{search:C.search,status:C.status,onSearchChange:e=>{A(r=>o(n({},r),{search:e})),E(e=>o(n({},e),{currentPage:1}))},onStatusChange:e=>{A(r=>o(n({},r),{status:e})),E(e=>o(n({},e),{currentPage:1}))},onSort:()=>{}}),t?g.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:g.jsx("p",{children:"Loading team members..."})}):0===e.length?g.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[g.jsx("p",{children:'No team members found. Click "Add Team Member" to create your first team member.'}),g.jsx("div",{className:"mt-6 flex justify-center",children:g.jsx(ve,{onClick:I})})]}):g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[e.map(e=>g.jsx(fe,{member:e,onViewDetails:T,onEdit:F},e.id)),g.jsx(ve,{onClick:I})]}),g.jsx(je,{currentPage:$.currentPage,totalPages:$.totalPages,totalItems:$.totalItems,itemsPerPage:$.itemsPerPage,onPageChange:e=>{E(r=>o(n({},r),{currentPage:e}))},className:"mt-8"}),g.jsx(_e,{isOpen:s,onClose:()=>{l(!1),x(null)},onSubmit:e=>d(void 0,null,function*(){var r,t,a,s;try{S(!0);const r={firstName:e.firstName,lastName:e.lastName,jobTitle:e.jobTitle,phone:e.phone,email:e.email,status:e.status,profilePhoto:e.profilePhoto,bio:e.bio,socialLinks:e.socialLinks||[]};e.password&&(r.password=e.password),u?yield(a=u.id,s=r,d(void 0,null,function*(){try{const e=localStorage.getItem("auth_token"),r=new FormData;return r.append("_method","PUT"),s.firstName&&r.append("first_name",s.firstName),s.lastName&&r.append("last_name",s.lastName),void 0!==s.jobTitle&&r.append("job_title",s.jobTitle||""),s.status&&r.append("status",s.status),void 0!==s.email&&r.append("email",s.email),void 0!==s.phone&&r.append("phone",s.phone||""),void 0!==s.bio&&r.append("bio",s.bio||""),s.password&&r.append("password",s.password),s.profilePhoto&&r.append("profile_photo",s.profilePhoto),s.socialLinks&&Array.isArray(s.socialLinks)&&s.socialLinks.forEach((e,t)=>{r.append(`social_links[${t}][platform]`,e.platform),r.append(`social_links[${t}][url]`,e.url)}),(yield N.post(`${Se}/admin/team/${a}`,r,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${e}`}})).data}catch(e){throw e}})):yield(e=>d(void 0,null,function*(){try{const r=localStorage.getItem("auth_token"),t=new FormData;return t.append("first_name",e.firstName),t.append("last_name",e.lastName),t.append("job_title",e.jobTitle||""),t.append("status",e.status||"active"),t.append("email",e.email),t.append("phone",e.phone||""),t.append("password",e.password),e.bio&&t.append("bio",e.bio),e.profilePhoto&&t.append("profile_photo",e.profilePhoto),e.socialLinks&&Array.isArray(e.socialLinks)&&(e.socialLinks.length>0?e.socialLinks.forEach((e,r)=>{t.append(`social_links[${r}][platform]`,e.platform),t.append(`social_links[${r}][url]`,e.url)}):t.append("clear_social_links","1")),(yield N.post(`${Se}/admin/team`,t,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${r}`}})).data}catch(r){throw r}}))(r),l(!1),x(null),D()}catch(i){alert((null==(t=null==(r=i.response)?void 0:r.data)?void 0:t.message)||"Failed to save team member. Please try again.")}finally{S(!1)}}),member:u,isLoading:P}),g.jsx(Pe,{isOpen:i,onClose:()=>{c(!1),h(null),y(null),v([]),k(null)},member:p,stats:b,upcomingAppointments:f,availability:j,onEdit:F,isLoading:w})]})},De=({onAddNew:e,className:r=""})=>g.jsxs("header",{className:`mb-8 flex flex-col md:flex-row md:items-end justify-between gap-4 ${r}`,children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Services Management"}),g.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Manage your service list, pricing, and descriptions efficiently."})]}),g.jsx("div",{className:"flex items-center gap-3",children:g.jsxs("button",{onClick:e,className:"bg-black hover:bg-gray-800 dark:bg-white dark:text-black dark:hover:bg-gray-200 text-white font-semibold rounded-xl text-sm px-6 py-3 shadow-lg shadow-gray-200 dark:shadow-none transition-all transform hover:-translate-y-0.5 flex items-center",children:[g.jsx("span",{className:"material-symbols-outlined mr-2",children:"add_circle"}),"Add New Service"]})})]}),Ie=({search:e="",category:r="all",onSearchChange:t,onCategoryChange:a,onSort:s,className:l=""})=>g.jsxs("div",{className:`bg-white dark:bg-card-dark rounded-xl shadow-soft p-4 mb-6 border border-gray-100 dark:border-gray-700 flex flex-col md:flex-row items-center justify-between gap-4 ${l}`,children:[g.jsxs("div",{className:"flex items-center w-full md:w-auto space-x-4",children:[g.jsxs("div",{className:"relative w-full md:w-80",children:[g.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400",children:g.jsx("span",{className:"material-symbols-outlined text-lg",children:"search"})}),g.jsx("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Search services by name or description...",className:"w-full py-2.5 pl-10 pr-4 text-sm bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary text-gray-700 dark:text-gray-200 transition-colors"})]}),g.jsxs("div",{className:"relative w-full md:w-48",children:[g.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400 pointer-events-none",children:g.jsx("span",{className:"material-symbols-outlined text-lg",children:"category"})}),g.jsxs("select",{value:r,onChange:e=>a(e.target.value),className:"w-full py-2.5 pl-10 pr-8 text-sm bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary text-gray-700 dark:text-gray-200 appearance-none cursor-pointer",children:[g.jsx("option",{value:"all",children:"All Categories"}),g.jsx("option",{value:"haircut",children:"Haircuts"}),g.jsx("option",{value:"shave",children:"Shaves"}),g.jsx("option",{value:"facial",children:"Facials"}),g.jsx("option",{value:"package",children:"Packages"})]}),g.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none text-gray-400",children:g.jsx("span",{className:"material-symbols-outlined text-sm",children:"expand_more"})})]})]}),g.jsx("div",{className:"flex items-center space-x-2 w-full md:w-auto justify-end",children:g.jsxs("button",{onClick:s,className:"p-2.5 bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors flex items-center",children:[g.jsx("span",{className:"material-symbols-outlined text-lg mr-1",children:"sort"}),g.jsx("span",{className:"text-sm font-medium",children:"Sort"})]})})]}),Te=({columns:e=[],data:r=[],onRowClick:t,className:a="",emptyMessage:s="No data available"})=>e&&0!==e.length?g.jsx("div",{className:`bg-white dark:bg-card-dark rounded-xl shadow-soft border border-gray-100 dark:border-gray-700 overflow-hidden ${a}`,children:g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left border-collapse",children:[g.jsx("thead",{children:g.jsx("tr",{className:"bg-gray-50 dark:bg-gray-800/50 border-b border-gray-100 dark:border-gray-700 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:e.map((e,r)=>g.jsx("th",{className:`px-6 py-4 ${e.width?`w-${e.width}`:""} ${"center"===e.align?"text-center":"right"===e.align?"text-right":""}`,children:e.header},e.key||r))})}),g.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:0===r.length?g.jsx("tr",{children:g.jsx("td",{colSpan:e.length,className:"px-6 py-12 text-center",children:g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:s})})}):r.map((r,a)=>g.jsx("tr",{onClick:()=>t&&t(r),className:"group hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors "+(t?"cursor-pointer":""),children:e.map((e,t)=>g.jsx("td",{className:"px-6 py-4 align-middle "+("center"===e.align?"text-center":"right"===e.align?"text-right":""),children:e.render?e.render(r,a):r[e.key]||"-"},e.key||t))},r.id||a))})]})})}):g.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:g.jsx("p",{children:"No columns defined"})}),Fe=({currentPage:e=1,totalPages:r=1,totalItems:t=0,itemsPerPage:a=10,itemName:s="Items",onPageChange:l,className:i=""})=>{const n=0===t?0:(e-1)*a+1,o=Math.min(e*a,t);return g.jsxs("div",{className:`px-6 py-4 border-t border-gray-100 dark:border-gray-700 flex flex-col sm:flex-row items-center justify-between gap-4 ${i}`,children:[g.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400 text-center sm:text-left",children:["Showing ",g.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[n,"-",o]})," of"," ",g.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:t})," ",s]}),g.jsxs("div",{className:"inline-flex space-x-2",children:[g.jsx("button",{onClick:()=>{e>1&&l(e-1)},disabled:1===e,className:"px-4 py-2 text-sm font-medium text-gray-500 bg-white dark:bg-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),g.jsx("button",{onClick:()=>{e<r&&l(e+1)},disabled:e===r,className:"px-4 py-2 text-sm font-medium text-gray-900 bg-white dark:bg-gray-700 dark:text-white border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})},Le=({isOpen:e,onClose:r,service:t=null,onSuccess:a})=>{const[s,l]=m.useState({nameEn:"",nameAr:"",descriptionEn:"",descriptionAr:"",price:"",discountPercentage:"",duration:"",icon:null,iconPreview:null}),[i,c]=m.useState({}),[u,x]=m.useState(!1),p=m.useRef(null),h=m.useRef(0),[b,y]=m.useState(!1);m.useEffect(()=>{l(t?{nameEn:t.nameEn||t.name_en||"",nameAr:t.nameAr||t.name_ar||"",descriptionEn:t.descriptionEn||t.description_en||"",descriptionAr:t.descriptionAr||t.description_ar||"",price:t.price||"",discountPercentage:t.discountPercentage||t.discount_percentage||"",duration:t.duration||"",icon:null,iconPreview:t.icon||t.icon_url||null}:{nameEn:"",nameAr:"",descriptionEn:"",descriptionAr:"",price:"",discountPercentage:"",duration:"",icon:null,iconPreview:null}),c({})},[t,e]);const f=(e,r)=>{l(t=>o(n({},t),{[e]:r})),i[e]&&c(r=>{const t=n({},r);return delete t[e],t})},v=e=>{if(e){if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(e.type))return void c(e=>o(n({},e),{icon:"Please upload a valid image file (PNG, JPG, GIF)"}));const r=5242880;if(e.size>r)return void c(e=>o(n({},e),{icon:"File size must be less than 5MB"}));const t=new FileReader;t.onloadend=()=>{l(r=>o(n({},r),{icon:e,iconPreview:t.result}))},t.readAsDataURL(e),i.icon&&c(e=>{const r=n({},e);return delete r.icon,r})}},j=e=>d(void 0,null,function*(){var l,i;if(e.preventDefault(),(()=>{const e={};return s.nameEn.trim()||(e.nameEn="Service name (EN) is required"),s.nameAr.trim()||(e.nameAr="Service name (AR) is required"),s.price&&isNaN(parseFloat(s.price))&&(e.price="Price must be a valid number"),s.price&&parseFloat(s.price)<0&&(e.price="Price cannot be negative"),s.discountPercentage&&isNaN(parseFloat(s.discountPercentage))&&(e.discountPercentage="Discount must be a valid number"),s.discountPercentage&&(parseFloat(s.discountPercentage)<0||parseFloat(s.discountPercentage)>100)&&(e.discountPercentage="Discount must be between 0 and 100"),s.duration&&isNaN(parseInt(s.duration))&&(e.duration="Duration must be a valid number"),s.duration&&parseInt(s.duration)<0&&(e.duration="Duration cannot be negative"),c(e),0===Object.keys(e).length})()){x(!0);try{const e={nameEn:s.nameEn.trim(),nameAr:s.nameAr.trim()||"",descriptionEn:s.descriptionEn.trim()||"",descriptionAr:s.descriptionAr.trim()||"",price:s.price?parseFloat(s.price):0,discountPercentage:s.discountPercentage?parseFloat(s.discountPercentage):null,duration:s.duration?parseInt(s.duration):30,category:"haircut",icon:s.icon};t?yield((e,r)=>d(void 0,null,function*(){try{const t=new FormData;r.nameEn&&t.append("name_en",r.nameEn),void 0!==r.nameAr&&t.append("name_ar",r.nameAr),void 0!==r.descriptionEn&&t.append("description_en",r.descriptionEn),void 0!==r.descriptionAr&&t.append("description_ar",r.descriptionAr),void 0!==r.price&&t.append("price",r.price),void 0!==r.discountPercentage&&null!==r.discountPercentage&&""!==r.discountPercentage?t.append("discount_percentage",r.discountPercentage):null!==r.discountPercentage&&""!==r.discountPercentage||t.append("discount_percentage",""),void 0!==r.duration&&t.append("duration",r.duration),r.category&&t.append("category",r.category),r.icon&&t.append("icon",r.icon);const a=localStorage.getItem("auth_token");return t.append("_method","PUT"),(yield N.post(`${I}/admin/services/${e}`,t,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${a}`}})).data}catch(t){throw t}}))(t.id,e):yield(e=>d(void 0,null,function*(){try{const r=new FormData;r.append("name_en",e.nameEn),r.append("name_ar",e.nameAr||""),r.append("description_en",e.descriptionEn||""),r.append("description_ar",e.descriptionAr||""),r.append("price",e.price),void 0!==e.discountPercentage&&null!==e.discountPercentage&&""!==e.discountPercentage&&r.append("discount_percentage",e.discountPercentage),r.append("duration",e.duration||30),r.append("category",e.category||"haircut"),e.icon&&r.append("icon",e.icon);const t=localStorage.getItem("auth_token");return(yield N.post(`${I}/admin/services`,r,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${t}`}})).data}catch(r){throw r}}))(e),a&&a(),r()}catch(n){c({submit:(null==(i=null==(l=n.response)?void 0:l.data)?void 0:i.message)||"Failed to save service. Please try again."})}finally{x(!1)}}}),k=m.useCallback(()=>{l({nameEn:"",nameAr:"",descriptionEn:"",descriptionAr:"",price:"",discountPercentage:"",duration:"",icon:null,iconPreview:null}),c({}),r()},[r]);return m.useEffect(()=>{const r=r=>{"Escape"===r.key&&e&&k()};return e&&(document.addEventListener("keydown",r),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",r),document.body.style.overflow="unset"}},[e,k]),e?g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",onClick:e=>{e.target===e.currentTarget&&k()},children:g.jsxs("div",{className:"relative w-full max-w-2xl transform overflow-hidden rounded-2xl bg-white dark:bg-[#1a2e26] shadow-2xl transition-all border border-gray-100 dark:border-gray-800",onClick:e=>e.stopPropagation(),children:[g.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 dark:border-gray-800 px-6 py-5",children:[g.jsx("h3",{className:"text-xl font-bold text-[#111816] dark:text-white",children:t?"Edit Service":"Add New Service"}),g.jsx("button",{onClick:k,className:"flex h-8 w-8 items-center justify-center rounded-full text-gray-400 hover:bg-gray-100 hover:text-gray-500 dark:hover:bg-[#10221c] dark:hover:text-gray-300 focus:outline-none transition-colors",type:"button",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"close"})})]}),g.jsx("div",{className:"max-h-[80vh] overflow-y-auto custom-scrollbar px-6 py-6",children:g.jsxs("form",{onSubmit:j,className:"space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Thumbnail Image"}),s.iconPreview?g.jsx("div",{className:"relative",children:g.jsxs("div",{className:"relative rounded-lg overflow-hidden border-2 border-gray-300 dark:border-gray-600",children:[g.jsx("img",{src:s.iconPreview,alt:"Preview",className:"w-full h-48 object-cover"}),g.jsx("button",{type:"button",onClick:()=>{l(e=>o(n({},e),{icon:null,iconPreview:null})),p.current&&(p.current.value="")},className:"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:g.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})})]})}):g.jsx("div",{onDragEnter:e=>{e.preventDefault(),e.stopPropagation(),h.current++,e.dataTransfer.items&&e.dataTransfer.items.length>0&&y(!0)},onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),h.current--,0===h.current&&y(!1)},onDrop:e=>{var r;e.preventDefault(),e.stopPropagation(),y(!1),h.current=0;const t=null==(r=e.dataTransfer.files)?void 0:r[0];t&&v(t)},onClick:()=>{var e;return null==(e=p.current)?void 0:e.click()},className:`flex justify-center rounded-lg border-2 border-dashed ${b?"border-primary bg-primary/10":"border-gray-300 dark:border-gray-600"} px-6 py-8 hover:bg-gray-50 dark:hover:bg-[#152721] transition-colors cursor-pointer group`,children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:`mx-auto h-12 w-12 ${b?"text-primary":"text-gray-300 dark:text-gray-500 group-hover:text-primary"} transition-colors`,children:g.jsx("span",{className:"material-symbols-outlined text-5xl",children:"cloud_upload"})}),g.jsxs("div",{className:"mt-4 flex text-sm text-gray-600 dark:text-gray-400 justify-center",children:[g.jsxs("label",{className:"relative cursor-pointer rounded-md font-medium text-primary hover:text-[#0eb37d] focus-within:outline-none",htmlFor:"file-upload",children:[g.jsx("span",{children:"Upload a file"}),g.jsx("input",{ref:p,className:"sr-only",id:"file-upload",name:"file-upload",type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif",onChange:e=>{var r;const t=null==(r=e.target.files)?void 0:r[0];t&&v(t)}})]}),g.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"PNG, JPG, GIF up to 5MB"})]})}),i.icon&&g.jsx("p",{className:"text-sm text-red-500 mt-1",children:i.icon})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",htmlFor:"service_name_en",children:["Service Name (EN) ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsx("input",{className:`block w-full rounded-lg border ${i.nameEn?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5`,id:"service_name_en",placeholder:"e.g. Classic Cut",type:"text",value:s.nameEn,onChange:e=>f("nameEn",e.target.value)}),i.nameEn&&g.jsx("p",{className:"text-sm text-red-500 mt-1",children:i.nameEn})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",dir:"rtl",htmlFor:"service_name_ar",children:["اسم الخدمة (AR) ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsx("input",{className:`block w-full rounded-lg border ${i.nameAr?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5 text-right`,dir:"rtl",id:"service_name_ar",placeholder:"مثال: قصة كلاسيكية",type:"text",value:s.nameAr,onChange:e=>f("nameAr",e.target.value)}),i.nameAr&&g.jsx("p",{className:"text-sm text-red-500 mt-1",children:i.nameAr})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",htmlFor:"price",children:"Price (Optional)"}),g.jsxs("div",{className:"relative rounded-md shadow-sm",children:[g.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:g.jsx("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),g.jsx("input",{className:`block w-full rounded-lg border ${i.price?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-gray-50 dark:bg-[#10221c] pl-7 pr-12 text-gray-900 dark:text-gray-100 focus:border-primary focus:ring-primary sm:text-sm p-2.5`,id:"price",name:"price",placeholder:"0.00",type:"number",step:"0.01",min:"0",value:s.price,onChange:e=>f("price",e.target.value)}),g.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:g.jsx("span",{className:"text-gray-500 sm:text-sm",children:"USD"})})]}),i.price&&g.jsx("p",{className:"text-sm text-red-500 mt-1",children:i.price})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",htmlFor:"discountPercentage",children:"Discount % (Optional)"}),g.jsxs("div",{className:"relative rounded-md shadow-sm",children:[g.jsx("input",{className:`block w-full rounded-lg border ${i.discountPercentage?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-gray-50 dark:bg-[#10221c] px-4 pr-12 text-gray-900 dark:text-gray-100 focus:border-primary focus:ring-primary sm:text-sm p-2.5`,id:"discountPercentage",name:"discountPercentage",placeholder:"0",type:"number",step:"0.01",min:"0",max:"100",value:s.discountPercentage,onChange:e=>f("discountPercentage",e.target.value)}),g.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:g.jsx("span",{className:"text-gray-500 sm:text-sm",children:"%"})})]}),i.discountPercentage&&g.jsx("p",{className:"text-sm text-red-500 mt-1",children:i.discountPercentage})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",htmlFor:"duration",children:"Duration (Minutes)"}),g.jsxs("div",{className:"relative rounded-md shadow-sm",children:[g.jsx("input",{className:`block w-full rounded-lg border ${i.duration?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-gray-50 dark:bg-[#10221c] px-4 pr-12 text-gray-900 dark:text-gray-100 focus:border-primary focus:ring-primary sm:text-sm p-2.5`,id:"duration",name:"duration",placeholder:"30",type:"number",step:"1",min:"0",value:s.duration,onChange:e=>f("duration",e.target.value)}),g.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:g.jsx("span",{className:"text-gray-500 sm:text-sm",children:"min"})})]}),i.duration&&g.jsx("p",{className:"text-sm text-red-500 mt-1",children:i.duration})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",htmlFor:"desc_en",children:"Description (EN)"}),g.jsx("textarea",{className:"block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5 resize-none",id:"desc_en",placeholder:"Briefly describe the service...",rows:"3",value:s.descriptionEn,onChange:e=>f("descriptionEn",e.target.value)})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",dir:"rtl",htmlFor:"desc_ar",children:"الوصف (AR)"}),g.jsx("textarea",{className:"block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5 text-right resize-none",dir:"rtl",id:"desc_ar",placeholder:"وصف موجز للخدمة...",rows:"3",value:s.descriptionAr,onChange:e=>f("descriptionAr",e.target.value)})]}),i.submit&&g.jsx("div",{className:"rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 p-3",children:g.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:i.submit})})]})}),g.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-gray-100 dark:border-gray-800 bg-gray-50 dark:bg-[#152721] px-6 py-4",children:[g.jsx("button",{onClick:k,disabled:u,className:"rounded-lg bg-white dark:bg-[#10221c] border border-gray-300 dark:border-gray-600 px-5 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-200 shadow-sm hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",type:"button",children:"Cancel"}),g.jsx("button",{onClick:j,disabled:u,className:"rounded-lg bg-primary px-5 py-2.5 text-sm font-bold text-[#111816] shadow-sm hover:bg-[#0eb37d] focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",type:"button",children:u?g.jsxs("span",{className:"flex items-center",children:[g.jsx("span",{className:"material-symbols-outlined animate-spin mr-2",children:"refresh"}),t?"Updating...":"Adding..."]}):t?"Update Service":"Add Service"})]})]})}):null},Oe=({isOpen:e,onClose:r,service:t=null,onSuccess:a})=>{const[s,l]=m.useState(!1),[i,n]=m.useState(null);m.useEffect(()=>{e||(l(!1),n(null))},[e]),m.useEffect(()=>{const r=r=>{"Escape"===r.key&&e&&o()};return e&&(document.addEventListener("keydown",r),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",r),document.body.style.overflow="unset"}},[e]);const o=m.useCallback(()=>{n(null),l(!1),r()},[r]);if(!e||!t)return null;const c=t.nameEn||t.name_en||t.name||"this service";return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",onClick:e=>{e.target===e.currentTarget&&o()},children:g.jsxs("div",{className:"relative w-full max-w-md transform overflow-hidden rounded-2xl bg-white dark:bg-[#1a2e26] shadow-2xl transition-all border border-gray-100 dark:border-gray-800",onClick:e=>e.stopPropagation(),children:[g.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 dark:border-gray-800 px-6 py-5",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-red-100 dark:bg-red-900/20",children:g.jsx("span",{className:"material-symbols-outlined text-red-600 dark:text-red-400 text-xl",children:"warning"})}),g.jsx("h3",{className:"text-xl font-bold text-[#111816] dark:text-white",children:"Delete Service"})]}),g.jsx("button",{onClick:o,disabled:s,className:"flex h-8 w-8 items-center justify-center rounded-full text-gray-400 hover:bg-gray-100 hover:text-gray-500 dark:hover:bg-[#10221c] dark:hover:text-gray-300 focus:outline-none transition-colors disabled:opacity-50 disabled:cursor-not-allowed",type:"button",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"close"})})]}),g.jsxs("div",{className:"px-6 py-6",children:[g.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:["Are you sure you want to delete ",g.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:['"',c,'"']}),"? This action cannot be undone."]}),i&&g.jsx("div",{className:"rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 p-3 mb-4",children:g.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:i})}),g.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/10 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("span",{className:"material-symbols-outlined text-yellow-600 dark:text-yellow-400 text-lg",children:"info"}),g.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-300",children:"This will permanently remove the service from your system. All associated data will be lost."})]})})]}),g.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-gray-100 dark:border-gray-800 bg-gray-50 dark:bg-[#152721] px-6 py-4",children:[g.jsx("button",{onClick:o,disabled:s,className:"rounded-lg bg-white dark:bg-[#10221c] border border-gray-300 dark:border-gray-600 px-5 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-200 shadow-sm hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",type:"button",children:"Cancel"}),g.jsx("button",{onClick:()=>d(void 0,null,function*(){var e,r,s;if(t&&t.id){l(!0),n(null);try{yield(s=t.id,d(void 0,null,function*(){try{const e=localStorage.getItem("auth_token");return(yield N.delete(`${I}/admin/services/${s}`,{headers:{Authorization:`Bearer ${e}`}})).data}catch(i){throw i}})),a&&a(),o()}catch(c){n((null==(r=null==(e=c.response)?void 0:e.data)?void 0:r.message)||"Failed to delete service. Please try again.")}finally{l(!1)}}else n("Service information is missing")}),disabled:s,className:"rounded-lg bg-red-600 px-5 py-2.5 text-sm font-bold text-white shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",type:"button",children:s?g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"material-symbols-outlined animate-spin text-sm",children:"refresh"}),"Deleting..."]}):g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"material-symbols-outlined text-sm",children:"delete_outline"}),"Delete Service"]})})]})]})})},Be=()=>{const[e,r]=m.useState([]),[t,a]=m.useState(!0),[s,l]=m.useState({search:"",category:"all"}),[i,c]=m.useState({currentPage:1,totalPages:1,totalItems:0,itemsPerPage:10}),[u,x]=m.useState(!1),[p,h]=m.useState(!1),[b,y]=m.useState(null),f=()=>d(void 0,null,function*(){try{a(!0);const e=yield((...e)=>d(void 0,[...e],function*(e={}){try{const r=localStorage.getItem("auth_token");return(yield N.get(`${I}/admin/services`,{params:{page:e.page||1,per_page:e.per_page||10,search:e.search||"",category:e.category||"all",sort:e.sort||"created_at",order:e.order||"desc"},headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw r}}))({page:i.currentPage,per_page:i.itemsPerPage,search:s.search,category:s.category});r(e.data||e.services||[]),c(r=>o(n({},r),{totalPages:e.total_pages||e.totalPages||1,totalItems:e.total||e.totalItems||0}))}catch(e){r([]),c(e=>o(n({},e),{totalPages:1,totalItems:0}))}finally{a(!1)}});m.useEffect(()=>{f()},[i.currentPage,s]);const v=[{key:"icon",header:"Icon",width:"16",render:e=>g.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-100 dark:bg-gray-700 overflow-hidden flex items-center justify-center text-gray-400",children:e.icon?g.jsx("img",{alt:e.nameEn||e.name_en||"Service",className:"w-full h-full object-cover",src:e.icon||e.icon_url||"https://via.placeholder.com/48"}):g.jsx("span",{className:"material-symbols-outlined text-2xl",children:"image"})})},{key:"name",header:"Service Name (EN / AR)",render:e=>g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:e.nameEn||e.name_en||e.name||"N/A"}),(e.nameAr||e.name_ar)&&g.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 font-arabic text-right dir-rtl",children:e.nameAr||e.name_ar})]})},{key:"description",header:"Description (EN / AR)",render:e=>g.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300 max-w-xs",children:[g.jsx("span",{className:"block mb-1 line-clamp-2",children:e.descriptionEn||e.description_en||e.description||"No description"}),(e.descriptionAr||e.description_ar)&&g.jsx("span",{className:"block text-gray-400 dark:text-gray-500 text-xs font-arabic dir-rtl line-clamp-2",children:e.descriptionAr||e.description_ar})]})},{key:"price",header:"Price / Discount",render:e=>{const r=parseFloat(e.price||0),t=e.discountPercentage||e.discount_percentage,a=t&&t>0;return g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsxs("span",{className:"font-bold text-gray-900 dark:text-white",children:["$",r.toFixed(2)]}),a&&g.jsxs("span",{className:"text-sm text-red-600 dark:text-red-400 font-semibold",children:["-",parseFloat(t).toFixed(0),"%"]})]})}},{key:"actions",header:"Actions",align:"right",render:e=>g.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[g.jsx("button",{onClick:r=>{r.stopPropagation(),(e=>{y(e),x(!0)})(e)},className:"p-2 text-gray-400 hover:text-primary dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Edit",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"edit_note"})}),g.jsx("button",{onClick:r=>{r.stopPropagation(),(e=>{y(e),h(!0)})(e)},className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"delete_outline"})})]})}];return g.jsxs(g.Fragment,{children:[g.jsx(De,{onAddNew:()=>{y(null),x(!0)}}),g.jsx(Ie,{search:s.search,category:s.category,onSearchChange:e=>{l(r=>o(n({},r),{search:e})),c(e=>o(n({},e),{currentPage:1}))},onCategoryChange:e=>{l(r=>o(n({},r),{category:e})),c(e=>o(n({},e),{currentPage:1}))},onSort:()=>{}}),t?g.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:g.jsx("p",{children:"Loading services..."})}):g.jsxs(g.Fragment,{children:[g.jsx(Te,{columns:v,data:e,emptyMessage:"No services found"}),g.jsx(Fe,{currentPage:i.currentPage,totalPages:i.totalPages,totalItems:i.totalItems,itemsPerPage:i.itemsPerPage,itemName:"Services",onPageChange:e=>{c(r=>o(n({},r),{currentPage:e}))}})]}),g.jsx(Le,{isOpen:u,onClose:()=>{x(!1),y(null)},service:b,onSuccess:()=>{f()}}),g.jsx(Oe,{isOpen:p,onClose:()=>{h(!1),y(null)},service:b,onSuccess:()=>{f()}})]})},ze=({onAddNew:e,className:r=""})=>g.jsxs("header",{className:`mb-8 flex flex-col md:flex-row md:items-end justify-between gap-4 ${r}`,children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Packages Management"}),g.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Manage your pricing packages, features, and billing options efficiently."})]}),g.jsx("div",{className:"flex items-center gap-3",children:g.jsxs("button",{onClick:e,className:"bg-black hover:bg-gray-800 dark:bg-white dark:text-black dark:hover:bg-gray-200 text-white font-semibold rounded-xl text-sm px-6 py-3 shadow-lg shadow-gray-200 dark:shadow-none transition-all transform hover:-translate-y-0.5 flex items-center",children:[g.jsx("span",{className:"material-symbols-outlined mr-2",children:"add_circle"}),"Add New Package"]})})]}),Re=({search:e="",billingPeriod:r="all",isActive:t=null,isFeatured:a=null,sortBy:s="order",sortOrder:l="asc",onSearchChange:i,onBillingPeriodChange:n,onActiveStatusChange:o,onFeaturedStatusChange:d,onSort:c,className:u=""})=>{const[x,p]=m.useState(!1),h=m.useRef(null);m.useEffect(()=>{const e=e=>{h.current&&!h.current.contains(e.target)&&p(!1)};return x&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[x]);const b=[{value:"order",label:"Display Order"},{value:"name",label:"Name"},{value:"price",label:"Price"},{value:"created_at",label:"Date Created"},{value:"updated_at",label:"Last Updated"}];return g.jsxs("div",{className:`mb-6 flex flex-col md:flex-row gap-4 ${u}`,children:[g.jsx("div",{className:"flex-1",children:g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400",children:g.jsx("span",{className:"material-symbols-outlined text-lg",children:"search"})}),g.jsx("input",{type:"text",value:e,onChange:e=>i(e.target.value),placeholder:"Search packages...",className:"w-full py-2 pl-10 pr-4 text-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-gray-700 dark:text-gray-200 placeholder-gray-400 dark:placeholder-gray-500"})]})}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("select",{value:r,onChange:e=>n(e.target.value),className:"px-4 py-2 text-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-gray-700 dark:text-gray-200",children:[g.jsx("option",{value:"all",children:"All Billing Periods"}),g.jsx("option",{value:"monthly",children:"Monthly"}),g.jsx("option",{value:"yearly",children:"Yearly"}),g.jsx("option",{value:"one-time",children:"One-Time"})]}),g.jsxs("select",{value:null===t?"all":t?"active":"inactive",onChange:e=>{const r=e.target.value;o("all"===r?null:"active"===r)},className:"px-4 py-2 text-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-gray-700 dark:text-gray-200",children:[g.jsx("option",{value:"all",children:"All Status"}),g.jsx("option",{value:"active",children:"Active"}),g.jsx("option",{value:"inactive",children:"Inactive"})]}),g.jsxs("select",{value:null===a?"all":a?"featured":"not-featured",onChange:e=>{const r=e.target.value;d("all"===r?null:"featured"===r)},className:"px-4 py-2 text-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-gray-700 dark:text-gray-200",children:[g.jsx("option",{value:"all",children:"All Packages"}),g.jsx("option",{value:"featured",children:"Featured"}),g.jsx("option",{value:"not-featured",children:"Not Featured"})]})]}),g.jsxs("div",{className:"relative",ref:h,children:[g.jsxs("button",{onClick:()=>p(!x),className:"px-4 py-2 text-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[g.jsx("span",{className:"material-symbols-outlined text-lg",children:"sort"}),g.jsx("span",{children:(()=>{const e=b.find(e=>e.value===s);return e?e.label:"Sort"})()}),g.jsx("span",{className:"material-symbols-outlined text-sm",children:"asc"===l?"arrow_upward":"arrow_downward"}),g.jsx("span",{className:"material-symbols-outlined text-sm",children:x?"expand_less":"expand_more"})]}),x&&g.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50",children:[g.jsxs("div",{className:"p-2 border-b border-gray-200 dark:border-gray-700",children:[g.jsx("div",{className:"px-3 py-1.5 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Sort By"}),b.map(e=>g.jsxs("button",{onClick:()=>{return r=e.value,c(r,l),void p(!1);var r},className:"w-full text-left px-3 py-2 text-sm rounded-md transition-colors flex items-center justify-between "+(s===e.value?"bg-primary/10 text-primary font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:[g.jsx("span",{children:e.label}),s===e.value&&g.jsx("span",{className:"material-symbols-outlined text-sm",children:"check"})]},e.value))]}),g.jsxs("div",{className:"p-2",children:[g.jsx("div",{className:"px-3 py-1.5 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Order"}),[{value:"asc",label:"Ascending",icon:"arrow_upward"},{value:"desc",label:"Descending",icon:"arrow_downward"}].map(e=>g.jsxs("button",{onClick:()=>{return r=e.value,void c(s,r);var r},className:"w-full text-left px-3 py-2 text-sm rounded-md transition-colors flex items-center justify-between "+(l===e.value?"bg-primary/10 text-primary font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"material-symbols-outlined text-sm",children:e.icon}),g.jsx("span",{children:e.label})]}),l===e.value&&g.jsx("span",{className:"material-symbols-outlined text-sm",children:"check"})]},e.value))]})]})]})]})},Ue=({isOpen:e,onClose:r,package:t=null,onSuccess:a})=>{const[s,l]=m.useState({name:"",description:"",price:"",original_price:"",currency:"USD",billing_period:"monthly",features:[],badge:"",is_featured:!1,is_active:!0,order:0,icon:null,iconPreview:null}),[i,c]=m.useState(""),[u,x]=m.useState({}),[p,h]=m.useState(!1),b=m.useRef(null);m.useEffect(()=>{l(t?{name:t.name||"",description:t.description||"",price:t.price||"",original_price:t.originalPrice||t.original_price||"",currency:t.currency||"USD",billing_period:t.billingPeriod||t.billing_period||"monthly",features:Array.isArray(t.features)?t.features:[],badge:t.badge||"",is_featured:void 0!==t.isFeatured?t.isFeatured:void 0!==t.is_featured&&t.is_featured,is_active:void 0!==t.isActive?t.isActive:void 0===t.is_active||t.is_active,order:t.order||0,icon:null,iconPreview:t.icon||t.icon_url||null}:{name:"",description:"",price:"",original_price:"",currency:"USD",billing_period:"monthly",features:[],badge:"",is_featured:!1,is_active:!0,order:0,icon:null,iconPreview:null}),c(""),x({})},[t,e]);const y=(e,r)=>{l(t=>o(n({},t),{[e]:r})),u[e]&&x(r=>{const t=n({},r);return delete t[e],t})},f=()=>{i.trim()&&(l(e=>o(n({},e),{features:[...e.features,i.trim()]})),c(""))},v=e=>d(void 0,null,function*(){var l,i,n,o;if(e.preventDefault(),(()=>{const e={};return s.name.trim()||(e.name="Package name is required"),s.price&&!isNaN(parseFloat(s.price))||(e.price="Price must be a valid number"),s.price&&parseFloat(s.price)<0&&(e.price="Price cannot be negative"),s.original_price&&isNaN(parseFloat(s.original_price))&&(e.original_price="Original price must be a valid number"),x(e),0===Object.keys(e).length})()){h(!0);try{const e={name:s.name.trim(),description:s.description.trim()||"",price:parseFloat(s.price),original_price:s.original_price?parseFloat(s.original_price):null,currency:s.currency,billing_period:s.billing_period,features:s.features,badge:s.badge.trim()||null,is_featured:s.is_featured,is_active:s.is_active,order:parseInt(s.order)||0,icon:s.icon};t?yield((e,r)=>d(void 0,null,function*(){try{const t=new FormData;r.name&&t.append("name",r.name),void 0!==r.description&&t.append("description",r.description||""),void 0!==r.price&&t.append("price",r.price),void 0!==r.original_price&&null!==r.original_price&&""!==r.original_price?t.append("original_price",r.original_price):null!==r.original_price&&""!==r.original_price||t.append("original_price",""),void 0!==r.currency&&t.append("currency",r.currency),void 0!==r.billing_period&&t.append("billing_period",r.billing_period),void 0!==r.features&&Array.isArray(r.features)&&t.append("features",JSON.stringify(r.features)),void 0!==r.badge&&t.append("badge",r.badge||""),void 0!==r.is_featured&&t.append("is_featured",r.is_featured?"1":"0"),void 0!==r.is_active&&t.append("is_active",r.is_active?"1":"0"),void 0!==r.order&&t.append("order",r.order),r.icon&&t.append("icon",r.icon),r.remove_icon&&t.append("remove_icon","1");const a=localStorage.getItem("auth_token");return t.append("_method","PUT"),(yield N.post(`${T}/admin/packages/${e}`,t,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${a}`}})).data}catch(t){throw t}}))(t.id,e):yield(e=>d(void 0,null,function*(){try{const r=new FormData;r.append("name",e.name),void 0!==e.description&&r.append("description",e.description||""),r.append("price",e.price),void 0!==e.original_price&&null!==e.original_price&&""!==e.original_price&&r.append("original_price",e.original_price),e.currency&&r.append("currency",e.currency),e.billing_period&&r.append("billing_period",e.billing_period),e.features&&Array.isArray(e.features)&&r.append("features",JSON.stringify(e.features)),void 0!==e.badge&&r.append("badge",e.badge||""),void 0!==e.is_featured&&r.append("is_featured",e.is_featured?"1":"0"),void 0!==e.is_active&&r.append("is_active",e.is_active?"1":"0"),void 0!==e.order&&r.append("order",e.order),e.icon&&r.append("icon",e.icon);const t=localStorage.getItem("auth_token"),a=`${T}/admin/packages`;return(yield N.post(a,r,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${t}`}})).data}catch(r){throw r}}))(e),a&&a(),r()}catch(c){x({submit:(null==(i=null==(l=c.response)?void 0:l.data)?void 0:i.message)||(null==(o=null==(n=c.response)?void 0:n.data)?void 0:o.error)||c.message||"Failed to save package. Please try again."})}finally{h(!1)}}}),j=m.useCallback(()=>{l({name:"",description:"",price:"",original_price:"",currency:"USD",billing_period:"monthly",features:[],badge:"",is_featured:!1,is_active:!0,order:0,icon:null,iconPreview:null}),c(""),x({}),r()},[r]);return m.useEffect(()=>{const r=r=>{"Escape"===r.key&&e&&j()};return e&&(document.addEventListener("keydown",r),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",r),document.body.style.overflow="unset"}},[e,j]),e?g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",onClick:e=>e.target===e.currentTarget&&j(),children:g.jsxs("div",{className:"relative w-full max-w-3xl transform overflow-hidden rounded-2xl bg-white dark:bg-[#1a2e26] shadow-2xl transition-all border border-gray-100 dark:border-gray-800 max-h-[90vh] flex flex-col",onClick:e=>e.stopPropagation(),children:[g.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 dark:border-gray-800 px-6 py-5",children:[g.jsx("h3",{className:"text-xl font-bold text-[#111816] dark:text-white",children:t?"Edit Package":"Add New Package"}),g.jsx("button",{onClick:j,className:"flex h-8 w-8 items-center justify-center rounded-full text-gray-400 hover:bg-gray-100 hover:text-gray-500 dark:hover:bg-[#10221c] dark:hover:text-gray-300 focus:outline-none transition-colors",type:"button",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"close"})})]}),g.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar px-6 py-6",children:g.jsxs("form",{onSubmit:v,className:"space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Package Icon"}),s.iconPreview?g.jsx("div",{className:"relative",children:g.jsxs("div",{className:"relative rounded-lg overflow-hidden border-2 border-gray-300 dark:border-gray-600",children:[g.jsx("img",{src:s.iconPreview,alt:"Preview",className:"w-full h-48 object-cover"}),g.jsx("button",{type:"button",onClick:()=>{l(e=>o(n({},e),{icon:null,iconPreview:null})),b.current&&(b.current.value="")},className:"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:g.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})})]})}):g.jsx("div",{onClick:()=>{var e;return null==(e=b.current)?void 0:e.click()},className:"flex justify-center rounded-lg border-2 border-dashed border-gray-300 dark:border-gray-600 px-6 py-8 hover:bg-gray-50 dark:hover:bg-[#152721] transition-colors cursor-pointer",children:g.jsxs("div",{className:"text-center",children:[g.jsx("span",{className:"material-symbols-outlined text-5xl text-gray-300 dark:text-gray-500",children:"cloud_upload"}),g.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Click to upload icon"}),g.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 5MB"})]})}),g.jsx("input",{ref:b,type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif",onChange:e=>{var r;return(e=>{if(e){if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(e.type))return void x(e=>o(n({},e),{icon:"Please upload a valid image file (PNG, JPG, GIF)"}));const r=5242880;if(e.size>r)return void x(e=>o(n({},e),{icon:"File size must be less than 5MB"}));const t=new FileReader;t.onloadend=()=>{l(r=>o(n({},r),{icon:e,iconPreview:t.result}))},t.readAsDataURL(e),u.icon&&x(e=>{const r=n({},e);return delete r.icon,r})}})(null==(r=e.target.files)?void 0:r[0])},className:"hidden"}),u.icon&&g.jsx("p",{className:"text-sm text-red-500",children:u.icon})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Package Name ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsx("input",{className:`block w-full rounded-lg border ${u.name?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5`,value:s.name,onChange:e=>y("name",e.target.value),placeholder:"e.g. Starter Plan"}),u.name&&g.jsx("p",{className:"text-sm text-red-500",children:u.name})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Description"}),g.jsx("textarea",{className:"block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5 resize-none",rows:"3",value:s.description,onChange:e=>y("description",e.target.value),placeholder:"Briefly describe the package..."})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Price ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:g.jsx("span",{className:"text-gray-500",children:"$"})}),g.jsx("input",{className:`block w-full rounded-lg border ${u.price?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-gray-50 dark:bg-[#10221c] pl-7 pr-12 text-gray-900 dark:text-gray-100 focus:border-primary focus:ring-primary sm:text-sm p-2.5`,type:"number",step:"0.01",min:"0",value:s.price,onChange:e=>y("price",e.target.value),placeholder:"0.00"})]}),u.price&&g.jsx("p",{className:"text-sm text-red-500",children:u.price})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Original Price (for discount)"}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:g.jsx("span",{className:"text-gray-500",children:"$"})}),g.jsx("input",{className:`block w-full rounded-lg border ${u.original_price?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-gray-50 dark:bg-[#10221c] pl-7 pr-12 text-gray-900 dark:text-gray-100 focus:border-primary focus:ring-primary sm:text-sm p-2.5`,type:"number",step:"0.01",min:"0",value:s.original_price,onChange:e=>y("original_price",e.target.value),placeholder:"0.00"})]}),u.original_price&&g.jsx("p",{className:"text-sm text-red-500",children:u.original_price})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Currency"}),g.jsxs("select",{className:"block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 focus:border-primary focus:ring-primary sm:text-sm p-2.5",value:s.currency,onChange:e=>y("currency",e.target.value),children:[g.jsx("option",{value:"USD",children:"USD"}),g.jsx("option",{value:"EUR",children:"EUR"}),g.jsx("option",{value:"GBP",children:"GBP"})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Billing Period"}),g.jsxs("select",{className:"block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 focus:border-primary focus:ring-primary sm:text-sm p-2.5",value:s.billing_period,onChange:e=>y("billing_period",e.target.value),children:[g.jsx("option",{value:"monthly",children:"Monthly"}),g.jsx("option",{value:"yearly",children:"Yearly"}),g.jsx("option",{value:"one-time",children:"One-Time"})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:'Badge (e.g. "Most Popular")'}),g.jsx("input",{className:"block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5",value:s.badge,onChange:e=>y("badge",e.target.value),placeholder:"Most Popular"})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Features"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{className:"flex-1 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5",value:i,onChange:e=>c(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),f()),placeholder:"Add a feature and press Enter"}),g.jsx("button",{type:"button",onClick:f,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-[#0eb37d] transition-colors",children:"Add"})]}),s.features.length>0&&g.jsx("div",{className:"mt-2 space-y-2",children:s.features.map((e,r)=>g.jsxs("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-[#10221c] p-2 rounded-lg",children:[g.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:e}),g.jsx("button",{type:"button",onClick:()=>(e=>{l(r=>o(n({},r),{features:r.features.filter((r,t)=>t!==e)}))})(r),className:"text-red-500 hover:text-red-700",children:g.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})})]},r))})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("input",{type:"checkbox",id:"is_featured",checked:s.is_featured,onChange:e=>y("is_featured",e.target.checked),className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}),g.jsx("label",{htmlFor:"is_featured",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Featured Package"})]}),g.jsxs("div",{className:"flex items-center",children:[g.jsx("input",{type:"checkbox",id:"is_active",checked:s.is_active,onChange:e=>y("is_active",e.target.checked),className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}),g.jsx("label",{htmlFor:"is_active",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Active"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Display Order"}),g.jsx("input",{className:"block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5",type:"number",min:"0",value:s.order,onChange:e=>y("order",e.target.value)})]})]}),u.submit&&g.jsx("div",{className:"rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 p-3",children:g.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:u.submit})})]})}),g.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-gray-100 dark:border-gray-800 bg-gray-50 dark:bg-[#152721] px-6 py-4",children:[g.jsx("button",{onClick:j,disabled:p,className:"rounded-lg bg-white dark:bg-[#10221c] border border-gray-300 dark:border-gray-600 px-5 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-200 shadow-sm hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",type:"button",children:"Cancel"}),g.jsx("button",{onClick:v,disabled:p,className:"rounded-lg bg-primary px-5 py-2.5 text-sm font-bold text-[#111816] shadow-sm hover:bg-[#0eb37d] focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",type:"submit",children:p?g.jsxs("span",{className:"flex items-center",children:[g.jsx("span",{className:"material-symbols-outlined animate-spin mr-2",children:"refresh"}),t?"Updating...":"Adding..."]}):t?"Update Package":"Add Package"})]})]})}):null},Me=({isOpen:e,onClose:r,package:t=null,onSuccess:a})=>{const[s,l]=m.useState(!1),[i,n]=m.useState(null);m.useEffect(()=>{e||(l(!1),n(null))},[e]),m.useEffect(()=>{const r=r=>{"Escape"===r.key&&e&&o()};return e&&(document.addEventListener("keydown",r),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",r),document.body.style.overflow="unset"}},[e]);const o=m.useCallback(()=>{n(null),l(!1),r()},[r]);if(!e||!t)return null;const c=t.name||"this package";return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",onClick:e=>{e.target===e.currentTarget&&o()},children:g.jsxs("div",{className:"relative w-full max-w-md transform overflow-hidden rounded-2xl bg-white dark:bg-[#1a2e26] shadow-2xl transition-all border border-gray-100 dark:border-gray-800",onClick:e=>e.stopPropagation(),children:[g.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 dark:border-gray-800 px-6 py-5",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-red-100 dark:bg-red-900/20",children:g.jsx("span",{className:"material-symbols-outlined text-red-600 dark:text-red-400 text-xl",children:"warning"})}),g.jsx("h3",{className:"text-xl font-bold text-[#111816] dark:text-white",children:"Delete Package"})]}),g.jsx("button",{onClick:o,disabled:s,className:"flex h-8 w-8 items-center justify-center rounded-full text-gray-400 hover:bg-gray-100 hover:text-gray-500 dark:hover:bg-[#10221c] dark:hover:text-gray-300 focus:outline-none transition-colors disabled:opacity-50 disabled:cursor-not-allowed",type:"button",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"close"})})]}),g.jsxs("div",{className:"px-6 py-6",children:[g.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:["Are you sure you want to delete ",g.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:['"',c,'"']}),"? This action cannot be undone."]}),i&&g.jsx("div",{className:"rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 p-3 mb-4",children:g.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:i})}),g.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/10 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("span",{className:"material-symbols-outlined text-yellow-600 dark:text-yellow-400 text-lg",children:"info"}),g.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-300",children:"This will permanently remove the package from your system. All associated data will be lost."})]})})]}),g.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-gray-100 dark:border-gray-800 bg-gray-50 dark:bg-[#152721] px-6 py-4",children:[g.jsx("button",{onClick:o,disabled:s,className:"rounded-lg bg-white dark:bg-[#10221c] border border-gray-300 dark:border-gray-600 px-5 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-200 shadow-sm hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",type:"button",children:"Cancel"}),g.jsx("button",{onClick:()=>d(void 0,null,function*(){var e,r,s;if(t&&t.id){l(!0),n(null);try{yield(s=t.id,d(void 0,null,function*(){try{const e=localStorage.getItem("auth_token");return(yield N.delete(`${T}/admin/packages/${s}`,{headers:{Authorization:`Bearer ${e}`}})).data}catch(i){throw i}})),a&&a(),o()}catch(c){n((null==(r=null==(e=c.response)?void 0:e.data)?void 0:r.message)||"Failed to delete package. Please try again.")}finally{l(!1)}}else n("Package information is missing")}),disabled:s,className:"rounded-lg bg-red-600 px-5 py-2.5 text-sm font-bold text-white shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",type:"button",children:s?g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"material-symbols-outlined animate-spin text-sm",children:"refresh"}),"Deleting..."]}):g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"material-symbols-outlined text-sm",children:"delete_outline"}),"Delete Package"]})})]})]})})},qe=()=>{const[e,r]=m.useState([]),[t,a]=m.useState(!0),[s,l]=m.useState({search:"",billing_period:"all",is_active:null,is_featured:null,sort:"order",order:"asc"}),[i,c]=m.useState({currentPage:1,totalPages:1,totalItems:0,itemsPerPage:10}),[u,x]=m.useState(!1),[p,h]=m.useState(!1),[b,y]=m.useState(null),[f,v]=m.useState(null),[j,k]=m.useState(null),w=()=>d(void 0,null,function*(){try{a(!0);const e=yield((...e)=>d(void 0,[...e],function*(e={}){try{const r=localStorage.getItem("auth_token");return(yield N.get(`${T}/admin/packages`,{params:{page:e.page||1,per_page:e.per_page||10,search:e.search||"",billing_period:e.billing_period||"all",is_active:e.is_active,is_featured:e.is_featured,sort:e.sort||"order",order:e.order||"asc"},headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw r}}))({page:i.currentPage,per_page:i.itemsPerPage,search:s.search,billing_period:s.billing_period,is_active:s.is_active,is_featured:s.is_featured,sort:s.sort,order:s.order});r(e.data||e.packages||[]),c(r=>o(n({},r),{totalPages:e.total_pages||e.totalPages||1,totalItems:e.total||e.totalItems||0}))}catch(e){r([]),c(e=>o(n({},e),{totalPages:1,totalItems:0}))}finally{a(!1)}});m.useEffect(()=>{w()},[i.currentPage,s]);const _=[{key:"drag",header:"",width:"8",render:(e,r)=>g.jsx("div",{className:"flex items-center justify-center",children:g.jsx("span",{className:"material-symbols-outlined text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 cursor-move select-none",title:"Drag row to reorder",children:"drag_indicator"})})},{key:"icon",header:"Icon",width:"16",render:e=>g.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-100 dark:bg-gray-700 overflow-hidden flex items-center justify-center text-gray-400",children:e.icon?g.jsx("img",{alt:e.name||"Package",className:"w-full h-full object-cover",src:e.icon||e.icon_url||"https://via.placeholder.com/48"}):g.jsx("span",{className:"material-symbols-outlined text-2xl",children:"inventory_2"})})},{key:"name",header:"Package Name",render:e=>g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:e.name||"N/A"}),e.badge&&g.jsx("span",{className:"text-xs text-primary font-semibold mt-1",children:e.badge})]})},{key:"description",header:"Description",render:e=>g.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300 max-w-xs",children:g.jsx("span",{className:"block line-clamp-2",children:e.description||"No description"})})},{key:"price",header:"Price / Period",render:e=>{const r=parseFloat(e.price||0),t=e.originalPrice||e.original_price?parseFloat(e.originalPrice||e.original_price):null,a=t&&t>r;return g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsxs("span",{className:"font-bold text-gray-900 dark:text-white",children:[e.currency||"USD"," ",r.toFixed(2)]}),a&&g.jsxs("span",{className:"text-xs text-gray-500 line-through",children:[e.currency||"USD"," ",t.toFixed(2)]}),g.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:["/ ",e.billingPeriod||e.billing_period||"monthly"]})]})}},{key:"features",header:"Features",render:e=>{const r=Array.isArray(e.features)?e.features:[];return g.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:[g.jsx("span",{className:"font-medium",children:r.length})," feature",1!==r.length?"s":""]})}},{key:"status",header:"Status",align:"center",render:e=>{const r=void 0!==e.isFeatured?e.isFeatured:e.is_featured,t=void 0!==e.isActive?e.isActive:e.is_active;return g.jsxs("div",{className:"flex flex-col gap-1 items-center",children:[r&&g.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300",children:"Featured"}),g.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+(t?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"),children:t?"Active":"Inactive"})]})}},{key:"actions",header:"Actions",align:"right",render:e=>g.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[g.jsx("button",{onClick:r=>{r.stopPropagation(),(e=>{y(e),x(!0)})(e)},className:"p-2 text-gray-400 hover:text-primary dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Edit",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"edit_note"})}),g.jsx("button",{onClick:r=>{r.stopPropagation(),(e=>{y(e),h(!0)})(e)},className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"delete_outline"})})]})}];return g.jsxs(g.Fragment,{children:[g.jsx(ze,{onAddNew:()=>{y(null),x(!0)}}),g.jsx(Re,{search:s.search,billingPeriod:s.billing_period,isActive:s.is_active,isFeatured:s.is_featured,sortBy:s.sort,sortOrder:s.order,onSearchChange:e=>{l(r=>o(n({},r),{search:e})),c(e=>o(n({},e),{currentPage:1}))},onBillingPeriodChange:e=>{l(r=>o(n({},r),{billing_period:e})),c(e=>o(n({},e),{currentPage:1}))},onActiveStatusChange:e=>{l(r=>o(n({},r),{is_active:e})),c(e=>o(n({},e),{currentPage:1}))},onFeaturedStatusChange:e=>{l(r=>o(n({},r),{is_featured:e})),c(e=>o(n({},e),{currentPage:1}))},onSort:(e,r)=>{l(t=>o(n({},t),{sort:e||t.sort,order:r||t.order})),c(e=>o(n({},e),{currentPage:1}))}}),t?g.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:g.jsx("p",{children:"Loading packages..."})}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"bg-white dark:bg-card-dark rounded-xl shadow-soft border border-gray-100 dark:border-gray-700 overflow-hidden",children:g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left border-collapse",children:[g.jsx("thead",{children:g.jsx("tr",{className:"bg-gray-50 dark:bg-gray-800/50 border-b border-gray-100 dark:border-gray-700 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:_.map((e,r)=>g.jsx("th",{className:`px-6 py-4 ${e.width?`w-${e.width}`:""} ${"center"===e.align?"text-center":"right"===e.align?"text-right":""}`,children:e.header},e.key||r))})}),g.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:0===e.length?g.jsx("tr",{children:g.jsx("td",{colSpan:_.length,className:"px-6 py-12 text-center",children:g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No packages found"})})}):e.map((t,a)=>g.jsx("tr",{draggable:!0,onDragStart:e=>{e.stopPropagation(),((e,r)=>{v(r),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",r.toString()),"TR"===e.currentTarget.tagName&&(e.currentTarget.style.opacity="0.5")})(e,a)},onDragOver:e=>{e.preventDefault(),e.stopPropagation(),((e,r)=>{e.preventDefault(),e.dataTransfer.dropEffect="move",null!==f&&f!==r&&k(r)})(e,a)},onDragLeave:e=>{e.stopPropagation(),k(null)},onDrop:t=>{t.preventDefault(),t.stopPropagation(),((t,a)=>{d(void 0,null,function*(){if(t.preventDefault(),k(null),null===f||f===a)return void v(null);const s=[...e],l=s[f];s.splice(f,1),s.splice(a,0,l);const i=s.map((e,r)=>({id:e.id,order:r}));r(s.map((e,r)=>o(n({},e),{order:r})));try{yield(e=>d(void 0,null,function*(){try{const r=localStorage.getItem("auth_token");return(yield N.post(`${T}/admin/packages/update-order`,{packages:e},{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw r}}))(i),yield w()}catch(c){w()}v(null)})})(t,a)},onDragEnd:e=>{e.stopPropagation(),(e=>{"TR"===e.currentTarget.tagName&&(e.currentTarget.style.opacity="1"),v(null),k(null)})(e)},onClick:e=>{null!==f&&(e.preventDefault(),e.stopPropagation())},className:`group transition-colors ${f===a?"opacity-50 cursor-move":""} ${j===a?"bg-primary/10 border-t-2 border-primary":"hover:bg-gray-50 dark:hover:bg-gray-800/50"} ${null!==f?"cursor-move":""}`,children:_.map((e,r)=>g.jsx("td",{className:"px-6 py-4 align-middle "+("center"===e.align?"text-center":"right"===e.align?"text-right":""),children:e.render?e.render(t,a):t[e.key]||"-"},e.key||r))},t.id||a))})]})})}),g.jsx(Fe,{currentPage:i.currentPage,totalPages:i.totalPages,totalItems:i.totalItems,itemsPerPage:i.itemsPerPage,itemName:"Packages",onPageChange:e=>{c(r=>o(n({},r),{currentPage:e}))}})]}),g.jsx(Ue,{isOpen:u,onClose:()=>{x(!1),y(null)},package:b,onSuccess:()=>{w()}}),g.jsx(Me,{isOpen:p,onClose:()=>{h(!1),y(null)},package:b,onSuccess:()=>{w()}})]})},We=({onAddNew:e,className:r=""})=>g.jsxs("header",{className:`mb-8 flex flex-col md:flex-row md:items-end justify-between gap-4 ${r}`,children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"How We Work Management"}),g.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Manage your process steps and workflow timeline efficiently."})]}),g.jsx("div",{className:"flex items-center gap-3",children:g.jsxs("button",{onClick:e,className:"bg-black hover:bg-gray-800 dark:bg-white dark:text-black dark:hover:bg-gray-200 text-white font-semibold rounded-xl text-sm px-6 py-3 shadow-lg shadow-gray-200 dark:shadow-none transition-all transform hover:-translate-y-0.5 flex items-center",children:[g.jsx("span",{className:"material-symbols-outlined mr-2",children:"add_circle"}),"Add New Step"]})})]}),Ge=({search:e="",position:r="all",isActive:t=null,sortBy:a="order",sortOrder:s="asc",onSearchChange:l,onPositionChange:i,onActiveStatusChange:n,onSort:o,className:d=""})=>{const[c,u]=m.useState(!1),x=m.useRef(null);m.useEffect(()=>{const e=e=>{x.current&&!x.current.contains(e.target)&&u(!1)};return c&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[c]);const p=[{value:"order",label:"Display Order"},{value:"step_number",label:"Step Number"},{value:"title",label:"Title"},{value:"created_at",label:"Date Created"},{value:"updated_at",label:"Last Updated"}];return g.jsxs("div",{className:`mb-6 flex flex-col md:flex-row gap-4 ${d}`,children:[g.jsx("div",{className:"flex-1",children:g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400",children:g.jsx("span",{className:"material-symbols-outlined text-lg",children:"search"})}),g.jsx("input",{type:"text",value:e,onChange:e=>l(e.target.value),placeholder:"Search process steps...",className:"w-full py-2 pl-10 pr-4 text-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-gray-700 dark:text-gray-200 placeholder-gray-400 dark:placeholder-gray-500"})]})}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("select",{value:r,onChange:e=>i(e.target.value),className:"px-4 py-2 text-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-gray-700 dark:text-gray-200",children:[g.jsx("option",{value:"all",children:"All Positions"}),g.jsx("option",{value:"left",children:"Left"}),g.jsx("option",{value:"right",children:"Right"})]}),g.jsxs("select",{value:null===t?"all":t?"active":"inactive",onChange:e=>{const r=e.target.value;n("all"===r?null:"active"===r)},className:"px-4 py-2 text-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-gray-700 dark:text-gray-200",children:[g.jsx("option",{value:"all",children:"All Status"}),g.jsx("option",{value:"active",children:"Active"}),g.jsx("option",{value:"inactive",children:"Inactive"})]})]}),g.jsxs("div",{className:"relative",ref:x,children:[g.jsxs("button",{onClick:()=>u(!c),className:"px-4 py-2 text-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[g.jsx("span",{className:"material-symbols-outlined text-lg",children:"sort"}),g.jsx("span",{children:(()=>{const e=p.find(e=>e.value===a);return e?e.label:"Sort"})()}),g.jsx("span",{className:"material-symbols-outlined text-sm",children:"asc"===s?"arrow_upward":"arrow_downward"}),g.jsx("span",{className:"material-symbols-outlined text-sm",children:c?"expand_less":"expand_more"})]}),c&&g.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50",children:[g.jsxs("div",{className:"p-2 border-b border-gray-200 dark:border-gray-700",children:[g.jsx("div",{className:"px-3 py-1.5 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Sort By"}),p.map(e=>g.jsxs("button",{onClick:()=>{return r=e.value,o(r,s),void u(!1);var r},className:"w-full text-left px-3 py-2 text-sm rounded-md transition-colors flex items-center justify-between "+(a===e.value?"bg-primary/10 text-primary font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:[g.jsx("span",{children:e.label}),a===e.value&&g.jsx("span",{className:"material-symbols-outlined text-sm",children:"check"})]},e.value))]}),g.jsxs("div",{className:"p-2",children:[g.jsx("div",{className:"px-3 py-1.5 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Order"}),[{value:"asc",label:"Ascending",icon:"arrow_upward"},{value:"desc",label:"Descending",icon:"arrow_downward"}].map(e=>g.jsxs("button",{onClick:()=>{return r=e.value,void o(a,r);var r},className:"w-full text-left px-3 py-2 text-sm rounded-md transition-colors flex items-center justify-between "+(s===e.value?"bg-primary/10 text-primary font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"material-symbols-outlined text-sm",children:e.icon}),g.jsx("span",{children:e.label})]}),s===e.value&&g.jsx("span",{className:"material-symbols-outlined text-sm",children:"check"})]},e.value))]})]})]})]})},Ve=({isOpen:e,onClose:r,step:t=null,onSuccess:a})=>{const[s,l]=m.useState({step_number:"",title:"",description:"",icon:"code",position:"left",is_active:!0,order:0}),[i,c]=m.useState({}),[u,x]=m.useState(!1);m.useEffect(()=>{l(t?{step_number:t.stepNumber||t.step_number||"",title:t.title||"",description:t.description||"",icon:t.icon||"code",position:t.position||"left",is_active:void 0!==t.isActive?t.isActive:void 0===t.is_active||t.is_active,order:t.order||0}:{step_number:"",title:"",description:"",icon:"code",position:"left",is_active:!0,order:0}),c({})},[t,e]);const p=(e,r)=>{l(t=>o(n({},t),{[e]:r})),i[e]&&c(r=>{const t=n({},r);return delete t[e],t})},h=e=>d(void 0,null,function*(){var l,i,n,o,m,g;if(e.preventDefault(),(()=>{const e={};return s.step_number.trim()||(e.step_number="Step number is required"),s.title.trim()||(e.title="Title is required"),s.description.trim()||(e.description="Description is required"),c(e),0===Object.keys(e).length})()){x(!0);try{t?yield(m=t.id,g=s,d(void 0,null,function*(){try{const e=localStorage.getItem("auth_token");return(yield N.put(`${F}/admin/process-steps/${m}`,g,{headers:{Authorization:`Bearer ${e}`}})).data}catch(e){throw e}})):yield(e=>d(void 0,null,function*(){try{const r=localStorage.getItem("auth_token");return(yield N.post(`${F}/admin/process-steps`,e,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw r}}))(s),a&&a(),r()}catch(u){c({submit:(null==(i=null==(l=u.response)?void 0:l.data)?void 0:i.message)||(null==(o=null==(n=u.response)?void 0:n.data)?void 0:o.error)||u.message||"Failed to save process step. Please try again."})}finally{x(!1)}}}),b=m.useCallback(()=>{l({step_number:"",title:"",description:"",icon:"code",position:"left",is_active:!0,order:0}),c({}),r()},[r]);return m.useEffect(()=>{const r=r=>{"Escape"===r.key&&e&&b()};return e&&(document.addEventListener("keydown",r),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",r),document.body.style.overflow="unset"}},[e,b]),e?g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",onClick:e=>e.target===e.currentTarget&&b(),children:g.jsxs("div",{className:"relative w-full max-w-2xl transform overflow-hidden rounded-2xl bg-white dark:bg-[#1a2e26] shadow-2xl transition-all border border-gray-100 dark:border-gray-800 max-h-[90vh] flex flex-col",onClick:e=>e.stopPropagation(),children:[g.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 dark:border-gray-800 px-6 py-5",children:[g.jsx("h3",{className:"text-xl font-bold text-[#111816] dark:text-white",children:t?"Edit Process Step":"Add New Process Step"}),g.jsx("button",{onClick:b,className:"flex h-8 w-8 items-center justify-center rounded-full text-gray-400 hover:bg-gray-100 hover:text-gray-500 dark:hover:bg-[#10221c] dark:hover:text-gray-300 focus:outline-none transition-colors",type:"button",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"close"})})]}),g.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar px-6 py-6",children:g.jsxs("form",{onSubmit:h,className:"space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Step Number ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsx("input",{className:`block w-full rounded-lg border ${i.step_number?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5`,value:s.step_number,onChange:e=>p("step_number",e.target.value),placeholder:"e.g., 01, 02, 03"}),i.step_number&&g.jsx("p",{className:"text-sm text-red-500",children:i.step_number})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Display Order"}),g.jsx("input",{className:"block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5",type:"number",min:"0",value:s.order,onChange:e=>p("order",parseInt(e.target.value)||0)})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Title ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsx("input",{className:`block w-full rounded-lg border ${i.title?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5`,value:s.title,onChange:e=>p("title",e.target.value),placeholder:"e.g., Discovery, Development"}),i.title&&g.jsx("p",{className:"text-sm text-red-500",children:i.title})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Description ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsx("textarea",{className:`block w-full rounded-lg border ${i.description?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5 resize-none`,rows:"4",value:s.description,onChange:e=>p("description",e.target.value),placeholder:"Describe this process step..."}),i.description&&g.jsx("p",{className:"text-sm text-red-500",children:i.description})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Icon (Material Symbol)"}),g.jsx("div",{className:"grid grid-cols-6 gap-2",children:["search","palette","code","verified_user","rocket_launch","support_agent","lightbulb","design_services","settings","analytics","security","cloud","storage","speed","trending_up","group","handshake","check_circle"].map(e=>g.jsx("button",{type:"button",onClick:()=>p("icon",e),className:"p-3 rounded-lg border-2 transition-colors flex items-center justify-center "+(s.icon===e?"border-primary bg-primary/10":"border-gray-300 dark:border-gray-600 hover:border-primary/50"),title:e,children:g.jsx("span",{className:"material-symbols-outlined text-2xl text-gray-700 dark:text-gray-300",children:e})},e))}),g.jsx("input",{type:"text",className:"mt-2 block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5",value:s.icon,onChange:e=>p("icon",e.target.value),placeholder:"Or type custom icon name"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Position"}),g.jsxs("select",{className:"block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 focus:border-primary focus:ring-primary sm:text-sm p-2.5",value:s.position,onChange:e=>p("position",e.target.value),children:[g.jsx("option",{value:"left",children:"Left"}),g.jsx("option",{value:"right",children:"Right"})]})]})]}),g.jsxs("div",{className:"flex items-center",children:[g.jsx("input",{type:"checkbox",id:"is_active",checked:s.is_active,onChange:e=>p("is_active",e.target.checked),className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}),g.jsx("label",{htmlFor:"is_active",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Active"})]}),i.submit&&g.jsx("div",{className:"rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 p-3",children:g.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:i.submit})})]})}),g.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-gray-100 dark:border-gray-800 bg-gray-50 dark:bg-[#152721] px-6 py-4",children:[g.jsx("button",{onClick:b,disabled:u,className:"rounded-lg bg-white dark:bg-[#10221c] border border-gray-300 dark:border-gray-600 px-5 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-200 shadow-sm hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",type:"button",children:"Cancel"}),g.jsx("button",{onClick:h,disabled:u,className:"rounded-lg bg-primary px-5 py-2.5 text-sm font-bold text-[#111816] shadow-sm hover:bg-[#0eb37d] focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",type:"submit",children:u?g.jsxs("span",{className:"flex items-center",children:[g.jsx("span",{className:"material-symbols-outlined animate-spin mr-2",children:"refresh"}),t?"Updating...":"Adding..."]}):t?"Update Step":"Add Step"})]})]})}):null},He=({isOpen:e,onClose:r,step:t=null,onSuccess:a})=>{const[s,l]=m.useState(!1),[i,n]=m.useState(null);m.useEffect(()=>{e||(l(!1),n(null))},[e]),m.useEffect(()=>{const r=r=>{"Escape"===r.key&&e&&o()};return e&&(document.addEventListener("keydown",r),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",r),document.body.style.overflow="unset"}},[e]);const o=m.useCallback(()=>{n(null),l(!1),r()},[r]);if(!e||!t)return null;const c=t.title||"this process step";return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",onClick:e=>{e.target===e.currentTarget&&o()},children:g.jsxs("div",{className:"relative w-full max-w-md transform overflow-hidden rounded-2xl bg-white dark:bg-[#1a2e26] shadow-2xl transition-all border border-gray-100 dark:border-gray-800",onClick:e=>e.stopPropagation(),children:[g.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 dark:border-gray-800 px-6 py-5",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-red-100 dark:bg-red-900/20",children:g.jsx("span",{className:"material-symbols-outlined text-red-600 dark:text-red-400 text-xl",children:"warning"})}),g.jsx("h3",{className:"text-xl font-bold text-[#111816] dark:text-white",children:"Delete Process Step"})]}),g.jsx("button",{onClick:o,disabled:s,className:"flex h-8 w-8 items-center justify-center rounded-full text-gray-400 hover:bg-gray-100 hover:text-gray-500 dark:hover:bg-[#10221c] dark:hover:text-gray-300 focus:outline-none transition-colors disabled:opacity-50 disabled:cursor-not-allowed",type:"button",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"close"})})]}),g.jsxs("div",{className:"px-6 py-6",children:[g.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:["Are you sure you want to delete ",g.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:['"',c,'"']}),"? This action cannot be undone."]}),i&&g.jsx("div",{className:"rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 p-3 mb-4",children:g.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:i})}),g.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/10 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("span",{className:"material-symbols-outlined text-yellow-600 dark:text-yellow-400 text-lg",children:"info"}),g.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-300",children:"This will permanently remove the process step from your system. All associated data will be lost."})]})})]}),g.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-gray-100 dark:border-gray-800 bg-gray-50 dark:bg-[#152721] px-6 py-4",children:[g.jsx("button",{onClick:o,disabled:s,className:"rounded-lg bg-white dark:bg-[#10221c] border border-gray-300 dark:border-gray-600 px-5 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-200 shadow-sm hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",type:"button",children:"Cancel"}),g.jsx("button",{onClick:()=>d(void 0,null,function*(){var e,r,s;if(t&&t.id){l(!0),n(null);try{yield(s=t.id,d(void 0,null,function*(){try{const e=localStorage.getItem("auth_token");return(yield N.delete(`${F}/admin/process-steps/${s}`,{headers:{Authorization:`Bearer ${e}`}})).data}catch(i){throw i}})),a&&a(),o()}catch(c){n((null==(r=null==(e=c.response)?void 0:e.data)?void 0:r.message)||"Failed to delete process step. Please try again.")}finally{l(!1)}}else n("Process step information is missing")}),disabled:s,className:"rounded-lg bg-red-600 px-5 py-2.5 text-sm font-bold text-white shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",type:"button",children:s?g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"material-symbols-outlined animate-spin text-sm",children:"refresh"}),"Deleting..."]}):g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"material-symbols-outlined text-sm",children:"delete_outline"}),"Delete Step"]})})]})]})})},Je=()=>{const[e,r]=m.useState([]),[t,a]=m.useState(!0),[s,l]=m.useState({search:"",position:"all",is_active:null,sort:"order",order:"asc"}),[i,c]=m.useState({currentPage:1,totalPages:1,totalItems:0,itemsPerPage:10}),[u,x]=m.useState(!1),[p,h]=m.useState(!1),[b,y]=m.useState(null),[f,v]=m.useState(null),[j,k]=m.useState(null),w=()=>d(void 0,null,function*(){try{a(!0);const e=yield((...e)=>d(void 0,[...e],function*(e={}){try{const r=localStorage.getItem("auth_token");return(yield N.get(`${F}/admin/process-steps`,{params:{page:e.page||1,per_page:e.per_page||10,search:e.search||"",position:e.position||"all",is_active:e.is_active,sort:e.sort||"order",order:e.order||"asc"},headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw r}}))({page:i.currentPage,per_page:i.itemsPerPage,search:s.search,position:s.position,is_active:s.is_active,sort:s.sort,order:s.order});r(e.data||e.steps||[]),c(r=>o(n({},r),{totalPages:e.total_pages||e.totalPages||1,totalItems:e.total||e.totalItems||0}))}catch(e){r([]),c(e=>o(n({},e),{totalPages:1,totalItems:0}))}finally{a(!1)}});m.useEffect(()=>{w()},[i.currentPage,s]);const _=[{key:"drag",header:"",width:"8",render:(e,r)=>g.jsx("div",{className:"flex items-center justify-center",children:g.jsx("span",{className:"material-symbols-outlined text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 cursor-move select-none",title:"Drag row to reorder",children:"drag_indicator"})})},{key:"step_number",header:"Step #",width:"12",render:e=>g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"material-symbols-outlined text-primary text-xl",children:e.icon||"code"}),g.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:e.stepNumber||e.step_number||"N/A"})]})},{key:"title",header:"Title",render:e=>g.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:e.title||"N/A"})},{key:"description",header:"Description",render:e=>g.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300 max-w-xs",children:g.jsx("span",{className:"block line-clamp-2",children:e.description||"No description"})})},{key:"position",header:"Position",align:"center",render:e=>g.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium "+("left"===e.position?"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300":"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-300"),children:e.position||"left"})},{key:"status",header:"Status",align:"center",render:e=>{const r=void 0!==e.isActive?e.isActive:e.is_active;return g.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+(r?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"),children:r?"Active":"Inactive"})}},{key:"actions",header:"Actions",align:"right",render:e=>g.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[g.jsx("button",{onClick:r=>{r.stopPropagation(),(e=>{y(e),x(!0)})(e)},className:"p-2 text-gray-400 hover:text-primary dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Edit",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"edit_note"})}),g.jsx("button",{onClick:r=>{r.stopPropagation(),(e=>{y(e),h(!0)})(e)},className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"delete_outline"})})]})}];return g.jsxs(g.Fragment,{children:[g.jsx(We,{onAddNew:()=>{y(null),x(!0)}}),g.jsx(Ge,{search:s.search,position:s.position,isActive:s.is_active,sortBy:s.sort,sortOrder:s.order,onSearchChange:e=>{l(r=>o(n({},r),{search:e})),c(e=>o(n({},e),{currentPage:1}))},onPositionChange:e=>{l(r=>o(n({},r),{position:e})),c(e=>o(n({},e),{currentPage:1}))},onActiveStatusChange:e=>{l(r=>o(n({},r),{is_active:e})),c(e=>o(n({},e),{currentPage:1}))},onSort:(e,r)=>{l(t=>o(n({},t),{sort:e||t.sort,order:r||t.order})),c(e=>o(n({},e),{currentPage:1}))}}),t?g.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:g.jsx("p",{children:"Loading process steps..."})}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"bg-white dark:bg-card-dark rounded-xl shadow-soft border border-gray-100 dark:border-gray-700 overflow-hidden",children:g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left border-collapse",children:[g.jsx("thead",{children:g.jsx("tr",{className:"bg-gray-50 dark:bg-gray-800/50 border-b border-gray-100 dark:border-gray-700 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:_.map((e,r)=>g.jsx("th",{className:`px-6 py-4 ${e.width?`w-${e.width}`:""} ${"center"===e.align?"text-center":"right"===e.align?"text-right":""}`,children:e.header},e.key||r))})}),g.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:0===e.length?g.jsx("tr",{children:g.jsx("td",{colSpan:_.length,className:"px-6 py-12 text-center",children:g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No process steps found"})})}):e.map((t,a)=>g.jsx("tr",{draggable:!0,onDragStart:e=>{e.stopPropagation(),((e,r)=>{v(r),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",r.toString()),"TR"===e.currentTarget.tagName&&(e.currentTarget.style.opacity="0.5")})(e,a)},onDragOver:e=>{e.preventDefault(),e.stopPropagation(),((e,r)=>{e.preventDefault(),e.dataTransfer.dropEffect="move",null!==f&&f!==r&&k(r)})(e,a)},onDragLeave:e=>{e.stopPropagation(),k(null)},onDrop:t=>{t.preventDefault(),t.stopPropagation(),((t,a)=>{d(void 0,null,function*(){if(t.preventDefault(),k(null),null===f||f===a)return void v(null);const s=[...e],l=s[f];s.splice(f,1),s.splice(a,0,l);const i=s.map((e,r)=>({id:e.id,order:r}));r(s.map((e,r)=>o(n({},e),{order:r})));try{yield(e=>d(void 0,null,function*(){try{const r=localStorage.getItem("auth_token");return(yield N.post(`${F}/admin/process-steps/update-order`,{steps:e},{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw r}}))(i),yield w()}catch(c){w()}v(null)})})(t,a)},onDragEnd:e=>{e.stopPropagation(),(e=>{"TR"===e.currentTarget.tagName&&(e.currentTarget.style.opacity="1"),v(null),k(null)})(e)},onClick:e=>{null!==f&&(e.preventDefault(),e.stopPropagation())},className:`group transition-colors ${f===a?"opacity-50 cursor-move":""} ${j===a?"bg-primary/10 border-t-2 border-primary":"hover:bg-gray-50 dark:hover:bg-gray-800/50"} ${null!==f?"cursor-move":""}`,children:_.map((e,r)=>g.jsx("td",{className:"px-6 py-4 align-middle "+("center"===e.align?"text-center":"right"===e.align?"text-right":""),children:e.render?e.render(t,a):t[e.key]||"-"},e.key||r))},t.id||a))})]})})}),g.jsx(Fe,{currentPage:i.currentPage,totalPages:i.totalPages,totalItems:i.totalItems,itemsPerPage:i.itemsPerPage,itemName:"Process Steps",onPageChange:e=>{c(r=>o(n({},r),{currentPage:e}))}})]}),g.jsx(Ve,{isOpen:u,onClose:()=>{x(!1),y(null)},step:b,onSuccess:()=>{w()}}),g.jsx(He,{isOpen:p,onClose:()=>{h(!1),y(null)},step:b,onSuccess:()=>{w()}})]})},Ye=({onAddNew:e,className:r=""})=>g.jsxs("header",{className:`mb-8 flex flex-col md:flex-row md:items-end justify-between gap-4 ${r}`,children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Project Categories Management"}),g.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Manage your project categories and organize your portfolio efficiently."})]}),g.jsx("div",{className:"flex items-center gap-3",children:g.jsxs("button",{onClick:e,className:"bg-black hover:bg-gray-800 dark:bg-white dark:text-black dark:hover:bg-gray-200 text-white font-semibold rounded-xl text-sm px-6 py-3 shadow-lg shadow-gray-200 dark:shadow-none transition-all transform hover:-translate-y-0.5 flex items-center",children:[g.jsx("span",{className:"material-symbols-outlined mr-2",children:"add_circle"}),"Add New Category"]})})]}),Ke=({search:e="",isActive:r=null,sortBy:t="order",sortOrder:a="asc",onSearchChange:s,onActiveStatusChange:l,onSort:i,className:n=""})=>{const[o,d]=m.useState(!1),c=m.useRef(null);m.useEffect(()=>{const e=e=>{c.current&&!c.current.contains(e.target)&&d(!1)};return o&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[o]);const u=[{value:"order",label:"Display Order"},{value:"name",label:"Name"},{value:"created_at",label:"Date Created"},{value:"updated_at",label:"Last Updated"}];return g.jsxs("div",{className:`mb-6 flex flex-col md:flex-row gap-4 ${n}`,children:[g.jsx("div",{className:"flex-1",children:g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400",children:g.jsx("span",{className:"material-symbols-outlined text-lg",children:"search"})}),g.jsx("input",{type:"text",value:e,onChange:e=>s(e.target.value),placeholder:"Search categories...",className:"w-full py-2 pl-10 pr-4 text-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-gray-700 dark:text-gray-200 placeholder-gray-400 dark:placeholder-gray-500"})]})}),g.jsx("div",{className:"flex gap-2",children:g.jsxs("select",{value:null===r?"all":r?"active":"inactive",onChange:e=>{const r=e.target.value;l("all"===r?null:"active"===r)},className:"px-4 py-2 text-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-gray-700 dark:text-gray-200",children:[g.jsx("option",{value:"all",children:"All Status"}),g.jsx("option",{value:"active",children:"Active"}),g.jsx("option",{value:"inactive",children:"Inactive"})]})}),g.jsxs("div",{className:"relative",ref:c,children:[g.jsxs("button",{onClick:()=>d(!o),className:"px-4 py-2 text-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[g.jsx("span",{className:"material-symbols-outlined text-lg",children:"sort"}),g.jsx("span",{children:(()=>{const e=u.find(e=>e.value===t);return e?e.label:"Sort"})()}),g.jsx("span",{className:"material-symbols-outlined text-sm",children:"asc"===a?"arrow_upward":"arrow_downward"}),g.jsx("span",{className:"material-symbols-outlined text-sm",children:o?"expand_less":"expand_more"})]}),o&&g.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50",children:[g.jsxs("div",{className:"p-2 border-b border-gray-200 dark:border-gray-700",children:[g.jsx("div",{className:"px-3 py-1.5 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Sort By"}),u.map(e=>g.jsxs("button",{onClick:()=>{return r=e.value,i(r,a),void d(!1);var r},className:"w-full text-left px-3 py-2 text-sm rounded-md transition-colors flex items-center justify-between "+(t===e.value?"bg-primary/10 text-primary font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:[g.jsx("span",{children:e.label}),t===e.value&&g.jsx("span",{className:"material-symbols-outlined text-sm",children:"check"})]},e.value))]}),g.jsxs("div",{className:"p-2",children:[g.jsx("div",{className:"px-3 py-1.5 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Order"}),[{value:"asc",label:"Ascending",icon:"arrow_upward"},{value:"desc",label:"Descending",icon:"arrow_downward"}].map(e=>g.jsxs("button",{onClick:()=>{return r=e.value,void i(t,r);var r},className:"w-full text-left px-3 py-2 text-sm rounded-md transition-colors flex items-center justify-between "+(a===e.value?"bg-primary/10 text-primary font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"material-symbols-outlined text-sm",children:e.icon}),g.jsx("span",{children:e.label})]}),a===e.value&&g.jsx("span",{className:"material-symbols-outlined text-sm",children:"check"})]},e.value))]})]})]})]})},Qe="https://codelancelb.com/api/v1",Ze=(...e)=>d(void 0,[...e],function*(e={}){try{const r=localStorage.getItem("auth_token");return(yield N.get(`${Qe}/admin/project-categories`,{params:{page:e.page||1,per_page:e.per_page||10,search:e.search||"",is_active:e.is_active,sort:e.sort||"order",order:e.order||"asc"},headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw r}}),Xe=({isOpen:e,onClose:r,category:t=null,onSuccess:a})=>{const[s,l]=m.useState({name:"",slug:"",description:"",is_active:!0,order:0}),[i,c]=m.useState({}),[u,x]=m.useState(!1);m.useEffect(()=>{l(t?{name:t.name||"",slug:t.slug||"",description:t.description||"",is_active:void 0!==t.isActive?t.isActive:void 0===t.is_active||t.is_active,order:t.order||0}:{name:"",slug:"",description:"",is_active:!0,order:0}),c({})},[t,e]);const p=(e,r)=>{l(t=>o(n({},t),{[e]:r})),i[e]&&c(r=>{const t=n({},r);return delete t[e],t})},h=e=>d(void 0,null,function*(){var l,i,n,o,m,g;if(e.preventDefault(),(()=>{const e={};return s.name.trim()||(e.name="Category name is required"),c(e),0===Object.keys(e).length})()){x(!0);try{t?yield(m=t.id,g=s,d(void 0,null,function*(){try{const e=localStorage.getItem("auth_token");return(yield N.put(`${Qe}/admin/project-categories/${m}`,g,{headers:{Authorization:`Bearer ${e}`}})).data}catch(e){throw e}})):yield(e=>d(void 0,null,function*(){try{const r=localStorage.getItem("auth_token");return(yield N.post(`${Qe}/admin/project-categories`,e,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw r}}))(s),a&&a(),r()}catch(u){c({submit:(null==(i=null==(l=u.response)?void 0:l.data)?void 0:i.message)||(null==(o=null==(n=u.response)?void 0:n.data)?void 0:o.error)||u.message||"Failed to save category. Please try again."})}finally{x(!1)}}}),b=m.useCallback(()=>{l({name:"",slug:"",description:"",is_active:!0,order:0}),c({}),r()},[r]);return m.useEffect(()=>{const r=r=>{"Escape"===r.key&&e&&b()};return e&&(document.addEventListener("keydown",r),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",r),document.body.style.overflow="unset"}},[e,b]),e?g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",onClick:e=>e.target===e.currentTarget&&b(),children:g.jsxs("div",{className:"relative w-full max-w-2xl transform overflow-hidden rounded-2xl bg-white dark:bg-[#1a2e26] shadow-2xl transition-all border border-gray-100 dark:border-gray-800 max-h-[90vh] flex flex-col",onClick:e=>e.stopPropagation(),children:[g.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 dark:border-gray-800 px-6 py-5",children:[g.jsx("h3",{className:"text-xl font-bold text-[#111816] dark:text-white",children:t?"Edit Project Category":"Add New Project Category"}),g.jsx("button",{onClick:b,className:"flex h-8 w-8 items-center justify-center rounded-full text-gray-400 hover:bg-gray-100 hover:text-gray-500 dark:hover:bg-[#10221c] dark:hover:text-gray-300 focus:outline-none transition-colors",type:"button",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"close"})})]}),g.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar px-6 py-6",children:g.jsxs("form",{onSubmit:h,className:"space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Category Name ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsx("input",{className:`block w-full rounded-lg border ${i.name?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5`,value:s.name,onChange:e=>p("name",e.target.value),placeholder:"e.g., Websites, Mobile Apps"}),i.name&&g.jsx("p",{className:"text-sm text-red-500",children:i.name})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Display Order"}),g.jsx("input",{className:"block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5",type:"number",min:"0",value:s.order,onChange:e=>p("order",parseInt(e.target.value)||0)})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Slug (URL-friendly)"}),g.jsx("input",{className:"block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5",value:s.slug,onChange:e=>p("slug",e.target.value),placeholder:"Auto-generated from name if left empty"}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Leave empty to auto-generate from category name"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Description"}),g.jsx("textarea",{className:"block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5 resize-none",rows:"3",value:s.description,onChange:e=>p("description",e.target.value),placeholder:"Brief description of this category..."})]}),g.jsxs("div",{className:"flex items-center",children:[g.jsx("input",{type:"checkbox",id:"is_active",checked:s.is_active,onChange:e=>p("is_active",e.target.checked),className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}),g.jsx("label",{htmlFor:"is_active",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Active"})]}),i.submit&&g.jsx("div",{className:"rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 p-3",children:g.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:i.submit})})]})}),g.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-gray-100 dark:border-gray-800 bg-gray-50 dark:bg-[#152721] px-6 py-4",children:[g.jsx("button",{onClick:b,disabled:u,className:"rounded-lg bg-white dark:bg-[#10221c] border border-gray-300 dark:border-gray-600 px-5 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-200 shadow-sm hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",type:"button",children:"Cancel"}),g.jsx("button",{onClick:h,disabled:u,className:"rounded-lg bg-primary px-5 py-2.5 text-sm font-bold text-[#111816] shadow-sm hover:bg-[#0eb37d] focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",type:"submit",children:u?g.jsxs("span",{className:"flex items-center",children:[g.jsx("span",{className:"material-symbols-outlined animate-spin mr-2",children:"refresh"}),t?"Updating...":"Adding..."]}):t?"Update Category":"Add Category"})]})]})}):null},er=({isOpen:e,onClose:r,category:t=null,onSuccess:a})=>{const[s,l]=m.useState(!1),[i,n]=m.useState(null);m.useEffect(()=>{e||(l(!1),n(null))},[e]),m.useEffect(()=>{const r=r=>{"Escape"===r.key&&e&&o()};return e&&(document.addEventListener("keydown",r),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",r),document.body.style.overflow="unset"}},[e]);const o=m.useCallback(()=>{n(null),l(!1),r()},[r]);if(!e||!t)return null;const c=t.name||"this category",u=t.projectsCount||t.projects_count||0;return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",onClick:e=>{e.target===e.currentTarget&&o()},children:g.jsxs("div",{className:"relative w-full max-w-md transform overflow-hidden rounded-2xl bg-white dark:bg-[#1a2e26] shadow-2xl transition-all border border-gray-100 dark:border-gray-800",onClick:e=>e.stopPropagation(),children:[g.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 dark:border-gray-800 px-6 py-5",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-red-100 dark:bg-red-900/20",children:g.jsx("span",{className:"material-symbols-outlined text-red-600 dark:text-red-400 text-xl",children:"warning"})}),g.jsx("h3",{className:"text-xl font-bold text-[#111816] dark:text-white",children:"Delete Category"})]}),g.jsx("button",{onClick:o,disabled:s,className:"flex h-8 w-8 items-center justify-center rounded-full text-gray-400 hover:bg-gray-100 hover:text-gray-500 dark:hover:bg-[#10221c] dark:hover:text-gray-300 focus:outline-none transition-colors disabled:opacity-50 disabled:cursor-not-allowed",type:"button",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"close"})})]}),g.jsxs("div",{className:"px-6 py-6",children:[g.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:["Are you sure you want to delete ",g.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:['"',c,'"']}),"? This action cannot be undone."]}),u>0&&g.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/10 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 mb-4",children:g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("span",{className:"material-symbols-outlined text-yellow-600 dark:text-yellow-400 text-lg",children:"info"}),g.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-300",children:["This category has ",g.jsx("strong",{children:u})," associated project",1!==u?"s":"",". You must reassign or delete these projects before deleting the category."]})]})}),i&&g.jsx("div",{className:"rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 p-3 mb-4",children:g.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:i})}),g.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/10 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("span",{className:"material-symbols-outlined text-yellow-600 dark:text-yellow-400 text-lg",children:"info"}),g.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-300",children:"This will permanently remove the category from your system. All associated data will be lost."})]})})]}),g.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-gray-100 dark:border-gray-800 bg-gray-50 dark:bg-[#152721] px-6 py-4",children:[g.jsx("button",{onClick:o,disabled:s,className:"rounded-lg bg-white dark:bg-[#10221c] border border-gray-300 dark:border-gray-600 px-5 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-200 shadow-sm hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",type:"button",children:"Cancel"}),g.jsx("button",{onClick:()=>d(void 0,null,function*(){var e,r,s;if(t&&t.id){l(!0),n(null);try{yield(s=t.id,d(void 0,null,function*(){try{const e=localStorage.getItem("auth_token");return(yield N.delete(`${Qe}/admin/project-categories/${s}`,{headers:{Authorization:`Bearer ${e}`}})).data}catch(i){throw i}})),a&&a(),o()}catch(c){n((null==(r=null==(e=c.response)?void 0:e.data)?void 0:r.message)||"Failed to delete category. Please try again.")}finally{l(!1)}}else n("Category information is missing")}),disabled:s||u>0,className:"rounded-lg bg-red-600 px-5 py-2.5 text-sm font-bold text-white shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",type:"button",children:s?g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"material-symbols-outlined animate-spin text-sm",children:"refresh"}),"Deleting..."]}):g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"material-symbols-outlined text-sm",children:"delete_outline"}),"Delete Category"]})})]})]})})},rr=()=>{const[e,r]=m.useState([]),[t,a]=m.useState(!0),[s,l]=m.useState({search:"",is_active:null,sort:"order",order:"asc"}),[i,c]=m.useState({currentPage:1,totalPages:1,totalItems:0,itemsPerPage:10}),[u,x]=m.useState(!1),[p,h]=m.useState(!1),[b,y]=m.useState(null),[f,v]=m.useState(null),[j,k]=m.useState(null),w=()=>d(void 0,null,function*(){try{a(!0);const e=yield Ze({page:i.currentPage,per_page:i.itemsPerPage,search:s.search,is_active:s.is_active,sort:s.sort,order:s.order});r(e.data||e.categories||[]),c(r=>o(n({},r),{totalPages:e.total_pages||e.totalPages||1,totalItems:e.total||e.totalItems||0}))}catch(e){r([]),c(e=>o(n({},e),{totalPages:1,totalItems:0}))}finally{a(!1)}});m.useEffect(()=>{w()},[i.currentPage,s]);const _=[{key:"drag",header:"",width:"8",render:(e,r)=>g.jsx("div",{className:"flex items-center justify-center",children:g.jsx("span",{className:"material-symbols-outlined text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 cursor-move select-none",title:"Drag row to reorder",children:"drag_indicator"})})},{key:"name",header:"Category Name",render:e=>g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:e.name||"N/A"}),e.slug&&g.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["/",e.slug]})]})},{key:"description",header:"Description",render:e=>g.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300 max-w-xs",children:g.jsx("span",{className:"block line-clamp-2",children:e.description||"No description"})})},{key:"projects",header:"Projects",align:"center",render:e=>{const r=e.projectsCount||e.projects_count||0;return g.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300",children:[r," project",1!==r?"s":""]})}},{key:"status",header:"Status",align:"center",render:e=>{const r=void 0!==e.isActive?e.isActive:e.is_active;return g.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+(r?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"),children:r?"Active":"Inactive"})}},{key:"actions",header:"Actions",align:"right",render:e=>g.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[g.jsx("button",{onClick:r=>{r.stopPropagation(),(e=>{y(e),x(!0)})(e)},className:"p-2 text-gray-400 hover:text-primary dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Edit",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"edit_note"})}),g.jsx("button",{onClick:r=>{r.stopPropagation(),(e=>{y(e),h(!0)})(e)},className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"delete_outline"})})]})}];return g.jsxs(g.Fragment,{children:[g.jsx(Ye,{onAddNew:()=>{y(null),x(!0)}}),g.jsx(Ke,{search:s.search,isActive:s.is_active,sortBy:s.sort,sortOrder:s.order,onSearchChange:e=>{l(r=>o(n({},r),{search:e})),c(e=>o(n({},e),{currentPage:1}))},onActiveStatusChange:e=>{l(r=>o(n({},r),{is_active:e})),c(e=>o(n({},e),{currentPage:1}))},onSort:(e,r)=>{l(t=>o(n({},t),{sort:e||t.sort,order:r||t.order})),c(e=>o(n({},e),{currentPage:1}))}}),t?g.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:g.jsx("p",{children:"Loading categories..."})}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"bg-white dark:bg-card-dark rounded-xl shadow-soft border border-gray-100 dark:border-gray-700 overflow-hidden",children:g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left border-collapse",children:[g.jsx("thead",{children:g.jsx("tr",{className:"bg-gray-50 dark:bg-gray-800/50 border-b border-gray-100 dark:border-gray-700 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:_.map((e,r)=>g.jsx("th",{className:`px-6 py-4 ${e.width?`w-${e.width}`:""} ${"center"===e.align?"text-center":"right"===e.align?"text-right":""}`,children:e.header},e.key||r))})}),g.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:0===e.length?g.jsx("tr",{children:g.jsx("td",{colSpan:_.length,className:"px-6 py-12 text-center",children:g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No categories found"})})}):e.map((t,a)=>g.jsx("tr",{draggable:!0,onDragStart:e=>{e.stopPropagation(),((e,r)=>{v(r),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",r.toString()),"TR"===e.currentTarget.tagName&&(e.currentTarget.style.opacity="0.5")})(e,a)},onDragOver:e=>{e.preventDefault(),e.stopPropagation(),((e,r)=>{e.preventDefault(),e.dataTransfer.dropEffect="move",null!==f&&f!==r&&k(r)})(e,a)},onDragLeave:e=>{e.stopPropagation(),k(null)},onDrop:t=>{t.preventDefault(),t.stopPropagation(),((t,a)=>{d(void 0,null,function*(){if(t.preventDefault(),k(null),null===f||f===a)return void v(null);const s=[...e],l=s[f];s.splice(f,1),s.splice(a,0,l);const i=s.map((e,r)=>({id:e.id,order:r}));r(s.map((e,r)=>o(n({},e),{order:r})));try{yield(e=>d(void 0,null,function*(){try{const r=localStorage.getItem("auth_token");return(yield N.post(`${Qe}/admin/project-categories/update-order`,{categories:e},{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw r}}))(i),yield w()}catch(c){w()}v(null)})})(t,a)},onDragEnd:e=>{e.stopPropagation(),(e=>{"TR"===e.currentTarget.tagName&&(e.currentTarget.style.opacity="1"),v(null),k(null)})(e)},onClick:e=>{null!==f&&(e.preventDefault(),e.stopPropagation())},className:`group transition-colors ${f===a?"opacity-50 cursor-move":""} ${j===a?"bg-primary/10 border-t-2 border-primary":"hover:bg-gray-50 dark:hover:bg-gray-800/50"} ${null!==f?"cursor-move":""}`,children:_.map((e,r)=>g.jsx("td",{className:"px-6 py-4 align-middle "+("center"===e.align?"text-center":"right"===e.align?"text-right":""),children:e.render?e.render(t,a):t[e.key]||"-"},e.key||r))},t.id||a))})]})})}),g.jsx(Fe,{currentPage:i.currentPage,totalPages:i.totalPages,totalItems:i.totalItems,itemsPerPage:i.itemsPerPage,itemName:"Categories",onPageChange:e=>{c(r=>o(n({},r),{currentPage:e}))}})]}),g.jsx(Xe,{isOpen:u,onClose:()=>{x(!1),y(null)},category:b,onSuccess:()=>{w()}}),g.jsx(er,{isOpen:p,onClose:()=>{h(!1),y(null)},category:b,onSuccess:()=>{w()}})]})},tr=({onAddNew:e,className:r=""})=>g.jsxs("header",{className:`mb-8 flex flex-col md:flex-row md:items-end justify-between gap-4 ${r}`,children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Projects Management"}),g.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Manage your portfolio projects and showcase your work."})]}),g.jsx("div",{className:"flex items-center gap-3",children:g.jsxs("button",{onClick:e,className:"bg-black hover:bg-gray-800 dark:bg-white dark:text-black dark:hover:bg-gray-200 text-white font-semibold rounded-xl text-sm px-6 py-3 shadow-lg shadow-gray-200 dark:shadow-none transition-all transform hover:-translate-y-0.5 flex items-center",children:[g.jsx("span",{className:"material-symbols-outlined mr-2",children:"add_circle"}),"Add New Project"]})})]}),ar=({search:e="",categoryId:r="all",isActive:t=null,isFeatured:a=null,sortBy:s="order",sortOrder:l="asc",categories:i=[],onSearchChange:n,onCategoryChange:o,onActiveStatusChange:d,onFeaturedStatusChange:c,onSort:u,className:x=""})=>{const[p,h]=m.useState(!1),b=m.useRef(null);m.useEffect(()=>{const e=e=>{b.current&&!b.current.contains(e.target)&&h(!1)};return p&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[p]);const y=[{value:"order",label:"Display Order"},{value:"title",label:"Title"},{value:"project_date",label:"Project Date"},{value:"created_at",label:"Date Created"},{value:"updated_at",label:"Last Updated"}];return g.jsxs("div",{className:`mb-6 flex flex-col md:flex-row gap-4 ${x}`,children:[g.jsx("div",{className:"flex-1",children:g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400",children:g.jsx("span",{className:"material-symbols-outlined text-lg",children:"search"})}),g.jsx("input",{type:"text",value:e,onChange:e=>n(e.target.value),placeholder:"Search projects...",className:"w-full py-2 pl-10 pr-4 text-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-gray-700 dark:text-gray-200 placeholder-gray-400 dark:placeholder-gray-500"})]})}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("select",{value:r,onChange:e=>o(e.target.value),className:"px-4 py-2 text-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-gray-700 dark:text-gray-200",children:[g.jsx("option",{value:"all",children:"All Categories"}),i.map(e=>g.jsx("option",{value:e.id,children:e.name},e.id))]}),g.jsxs("select",{value:null===t?"all":t?"active":"inactive",onChange:e=>{const r=e.target.value;d("all"===r?null:"active"===r)},className:"px-4 py-2 text-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-gray-700 dark:text-gray-200",children:[g.jsx("option",{value:"all",children:"All Status"}),g.jsx("option",{value:"active",children:"Active"}),g.jsx("option",{value:"inactive",children:"Inactive"})]}),g.jsxs("select",{value:null===a?"all":a?"featured":"not-featured",onChange:e=>{const r=e.target.value;c("all"===r?null:"featured"===r)},className:"px-4 py-2 text-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-gray-700 dark:text-gray-200",children:[g.jsx("option",{value:"all",children:"All Projects"}),g.jsx("option",{value:"featured",children:"Featured"}),g.jsx("option",{value:"not-featured",children:"Not Featured"})]})]}),g.jsxs("div",{className:"relative",ref:b,children:[g.jsxs("button",{onClick:()=>h(!p),className:"px-4 py-2 text-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[g.jsx("span",{className:"material-symbols-outlined text-lg",children:"sort"}),g.jsx("span",{children:(()=>{const e=y.find(e=>e.value===s);return e?e.label:"Sort"})()}),g.jsx("span",{className:"material-symbols-outlined text-sm",children:"asc"===l?"arrow_upward":"arrow_downward"}),g.jsx("span",{className:"material-symbols-outlined text-sm",children:p?"expand_less":"expand_more"})]}),p&&g.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50",children:[g.jsxs("div",{className:"p-2 border-b border-gray-200 dark:border-gray-700",children:[g.jsx("div",{className:"px-3 py-1.5 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Sort By"}),y.map(e=>g.jsxs("button",{onClick:()=>{return r=e.value,u(r,l),void h(!1);var r},className:"w-full text-left px-3 py-2 text-sm rounded-md transition-colors flex items-center justify-between "+(s===e.value?"bg-primary/10 text-primary font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:[g.jsx("span",{children:e.label}),s===e.value&&g.jsx("span",{className:"material-symbols-outlined text-sm",children:"check"})]},e.value))]}),g.jsxs("div",{className:"p-2",children:[g.jsx("div",{className:"px-3 py-1.5 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Order"}),[{value:"asc",label:"Ascending",icon:"arrow_upward"},{value:"desc",label:"Descending",icon:"arrow_downward"}].map(e=>g.jsxs("button",{onClick:()=>{return r=e.value,void u(s,r);var r},className:"w-full text-left px-3 py-2 text-sm rounded-md transition-colors flex items-center justify-between "+(l===e.value?"bg-primary/10 text-primary font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"material-symbols-outlined text-sm",children:e.icon}),g.jsx("span",{children:e.label})]}),l===e.value&&g.jsx("span",{className:"material-symbols-outlined text-sm",children:"check"})]},e.value))]})]})]})]})},sr=({isOpen:e,onClose:r,project:t=null,categories:a=[],onSuccess:s})=>{const[l,i]=m.useState({title:"",description:"",project_category_id:null,tags:[],client_name:"",project_date:"",project_url:"",github_url:"",is_featured:!1,is_active:!0,order:0,image:null,imagePreview:null}),[c,u]=m.useState(""),[x,p]=m.useState({}),[h,b]=m.useState(!1),y=m.useRef(null);m.useEffect(()=>{i(t?{title:t.title||"",description:t.description||"",project_category_id:t.categoryId||t.category_id||null,tags:Array.isArray(t.tags)?t.tags:[],client_name:t.clientName||t.client_name||"",project_date:t.projectDate||t.project_date||"",project_url:t.projectUrl||t.project_url||"",github_url:t.githubUrl||t.github_url||"",is_featured:void 0!==t.isFeatured?t.isFeatured:void 0!==t.is_featured&&t.is_featured,is_active:void 0!==t.isActive?t.isActive:void 0===t.is_active||t.is_active,order:t.order||0,image:null,imagePreview:t.image||t.image_url||null}:{title:"",description:"",project_category_id:null,tags:[],client_name:"",project_date:"",project_url:"",github_url:"",is_featured:!1,is_active:!0,order:0,image:null,imagePreview:null}),u(""),p({})},[t,e]);const f=(e,r)=>{i(t=>o(n({},t),{[e]:r})),x[e]&&p(r=>{const t=n({},r);return delete t[e],t})},v=()=>{c.trim()&&(i(e=>o(n({},e),{tags:[...e.tags,c.trim()]})),u(""))},j=e=>d(void 0,null,function*(){var a,i,c,m,g,u;if(e.preventDefault(),(()=>{const e={};return l.title.trim()||(e.title="Project title is required"),p(e),0===Object.keys(e).length})()){b(!0);try{const e=o(n({},l),{project_category_id:l.project_category_id||null});t?(!l.imagePreview&&t.image&&(e.remove_image=!0),yield(g=t.id,u=e,d(void 0,null,function*(){try{const e=new FormData;u.title&&e.append("title",u.title),void 0!==u.description&&e.append("description",u.description||""),void 0!==u.project_category_id&&e.append("project_category_id",u.project_category_id||""),void 0!==u.tags&&Array.isArray(u.tags)&&e.append("tags",JSON.stringify(u.tags)),void 0!==u.client_name&&e.append("client_name",u.client_name||""),void 0!==u.project_date&&e.append("project_date",u.project_date||""),void 0!==u.project_url&&e.append("project_url",u.project_url||""),void 0!==u.github_url&&e.append("github_url",u.github_url||""),void 0!==u.is_featured&&e.append("is_featured",u.is_featured?"1":"0"),void 0!==u.is_active&&e.append("is_active",u.is_active?"1":"0"),void 0!==u.order&&e.append("order",u.order),u.image&&e.append("image",u.image),u.remove_image&&e.append("remove_image","1");const r=localStorage.getItem("auth_token");return e.append("_method","PUT"),(yield N.post(`${L}/admin/projects/${g}`,e,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${r}`}})).data}catch(e){throw e}}))):yield(e=>d(void 0,null,function*(){try{const r=new FormData;r.append("title",e.title),void 0!==e.description&&r.append("description",e.description||""),void 0!==e.project_category_id&&null!==e.project_category_id&&r.append("project_category_id",e.project_category_id),e.tags&&Array.isArray(e.tags)&&r.append("tags",JSON.stringify(e.tags)),void 0!==e.client_name&&r.append("client_name",e.client_name||""),e.project_date&&r.append("project_date",e.project_date),void 0!==e.project_url&&r.append("project_url",e.project_url||""),void 0!==e.github_url&&r.append("github_url",e.github_url||""),void 0!==e.is_featured&&r.append("is_featured",e.is_featured?"1":"0"),void 0!==e.is_active&&r.append("is_active",e.is_active?"1":"0"),void 0!==e.order&&r.append("order",e.order),e.image&&r.append("image",e.image);const t=localStorage.getItem("auth_token");return(yield N.post(`${L}/admin/projects`,r,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${t}`}})).data}catch(r){throw r}}))(e),s&&s(),r()}catch(x){p({submit:(null==(i=null==(a=x.response)?void 0:a.data)?void 0:i.message)||(null==(m=null==(c=x.response)?void 0:c.data)?void 0:m.error)||x.message||"Failed to save project. Please try again."})}finally{b(!1)}}}),k=m.useCallback(()=>{i({title:"",description:"",project_category_id:null,tags:[],client_name:"",project_date:"",project_url:"",github_url:"",is_featured:!1,is_active:!0,order:0,image:null,imagePreview:null}),u(""),p({}),r()},[r]);return m.useEffect(()=>{const r=r=>{"Escape"===r.key&&e&&k()};return e&&(document.addEventListener("keydown",r),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",r),document.body.style.overflow="unset"}},[e,k]),e?g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",onClick:e=>e.target===e.currentTarget&&k(),children:g.jsxs("div",{className:"relative w-full max-w-4xl transform overflow-hidden rounded-2xl bg-white dark:bg-[#1a2e26] shadow-2xl transition-all border border-gray-100 dark:border-gray-800 max-h-[90vh] flex flex-col",onClick:e=>e.stopPropagation(),children:[g.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 dark:border-gray-800 px-6 py-5",children:[g.jsx("h3",{className:"text-xl font-bold text-[#111816] dark:text-white",children:t?"Edit Project":"Add New Project"}),g.jsx("button",{onClick:k,className:"flex h-8 w-8 items-center justify-center rounded-full text-gray-400 hover:bg-gray-100 hover:text-gray-500 dark:hover:bg-[#10221c] dark:hover:text-gray-300 focus:outline-none transition-colors",type:"button",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"close"})})]}),g.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar px-6 py-6",children:g.jsxs("form",{onSubmit:j,className:"space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Project Title ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsx("input",{className:`block w-full rounded-lg border ${x.title?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5`,value:l.title,onChange:e=>f("title",e.target.value),placeholder:"e.g., NeoBank Ecosystem"}),x.title&&g.jsx("p",{className:"text-sm text-red-500",children:x.title})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Category"}),g.jsxs("select",{className:"block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5",value:l.project_category_id||"",onChange:e=>f("project_category_id",e.target.value?parseInt(e.target.value):null),children:[g.jsx("option",{value:"",children:"No Category"}),a.map(e=>g.jsx("option",{value:e.id,children:e.name},e.id))]})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Description"}),g.jsx("textarea",{className:"block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5 resize-none",rows:"4",value:l.description,onChange:e=>f("description",e.target.value),placeholder:"Describe this project..."})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Project Image"}),l.imagePreview?g.jsxs("div",{className:"relative",children:[g.jsx("img",{src:l.imagePreview,alt:"Preview",className:"w-full h-64 object-cover rounded-lg border border-gray-300 dark:border-gray-600"}),g.jsx("button",{type:"button",onClick:()=>{i(e=>o(n({},e),{image:null,imagePreview:null})),y.current&&(y.current.value="")},className:"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:g.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})})]}):g.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center",children:[g.jsx("input",{ref:y,type:"file",accept:"image/*",onChange:e=>(e=>{if(e){if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(e.type))return void p(e=>o(n({},e),{image:"Please upload a valid image file (PNG, JPG, GIF, WEBP)"}));if(e.size>5242880)return void p(e=>o(n({},e),{image:"Image size must be less than 5MB"}));const r=new FileReader;r.onloadend=()=>{i(t=>o(n({},t),{image:e,imagePreview:r.result}))},r.readAsDataURL(e),x.image&&p(e=>{const r=n({},e);return delete r.image,r})}})(e.target.files[0]),className:"hidden"}),g.jsx("button",{type:"button",onClick:()=>{var e;return null==(e=y.current)?void 0:e.click()},className:"text-primary hover:text-[#0eb37d] font-medium",children:"Click to upload image"}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"PNG, JPG, GIF, WEBP up to 5MB"})]}),x.image&&g.jsx("p",{className:"text-sm text-red-500",children:x.image})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Tags (Technologies)"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{className:"flex-1 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5",value:c,onChange:e=>u(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),v())},placeholder:"e.g., React, Next.js, TypeScript"}),g.jsx("button",{type:"button",onClick:v,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-[#0eb37d] transition-colors",children:"Add"})]}),l.tags.length>0&&g.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:l.tags.map((e,r)=>g.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary/10 text-primary rounded-full text-sm",children:[e,g.jsx("button",{type:"button",onClick:()=>(e=>{i(r=>o(n({},r),{tags:r.tags.filter((r,t)=>t!==e)}))})(r),className:"hover:text-red-500",children:g.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})})]},r))})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Client Name"}),g.jsx("input",{className:"block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5",value:l.client_name,onChange:e=>f("client_name",e.target.value),placeholder:"Client or company name"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Project Date"}),g.jsx("input",{className:"block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5",type:"date",value:l.project_date,onChange:e=>f("project_date",e.target.value)})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Project URL"}),g.jsx("input",{className:"block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5",type:"url",value:l.project_url,onChange:e=>f("project_url",e.target.value),placeholder:"https://example.com"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"GitHub URL"}),g.jsx("input",{className:"block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5",type:"url",value:l.github_url,onChange:e=>f("github_url",e.target.value),placeholder:"https://github.com/..."})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("input",{type:"checkbox",id:"is_featured",checked:l.is_featured,onChange:e=>f("is_featured",e.target.checked),className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}),g.jsx("label",{htmlFor:"is_featured",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Featured"})]}),g.jsxs("div",{className:"flex items-center",children:[g.jsx("input",{type:"checkbox",id:"is_active",checked:l.is_active,onChange:e=>f("is_active",e.target.checked),className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}),g.jsx("label",{htmlFor:"is_active",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Active"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Display Order"}),g.jsx("input",{className:"block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5",type:"number",min:"0",value:l.order,onChange:e=>f("order",parseInt(e.target.value)||0)})]})]}),x.submit&&g.jsx("div",{className:"rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 p-3",children:g.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:x.submit})})]})}),g.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-gray-100 dark:border-gray-800 bg-gray-50 dark:bg-[#152721] px-6 py-4",children:[g.jsx("button",{onClick:k,disabled:h,className:"rounded-lg bg-white dark:bg-[#10221c] border border-gray-300 dark:border-gray-600 px-5 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-200 shadow-sm hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",type:"button",children:"Cancel"}),g.jsx("button",{onClick:j,disabled:h,className:"rounded-lg bg-primary px-5 py-2.5 text-sm font-bold text-[#111816] shadow-sm hover:bg-[#0eb37d] focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",type:"submit",children:h?g.jsxs("span",{className:"flex items-center",children:[g.jsx("span",{className:"material-symbols-outlined animate-spin mr-2",children:"refresh"}),t?"Updating...":"Adding..."]}):t?"Update Project":"Add Project"})]})]})}):null},lr=({isOpen:e,onClose:r,project:t=null,onSuccess:a})=>{const[s,l]=m.useState(!1),[i,n]=m.useState(null);m.useEffect(()=>{e||(l(!1),n(null))},[e]),m.useEffect(()=>{const r=r=>{"Escape"===r.key&&e&&o()};return e&&(document.addEventListener("keydown",r),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",r),document.body.style.overflow="unset"}},[e]);const o=m.useCallback(()=>{n(null),l(!1),r()},[r]);if(!e||!t)return null;const c=t.title||"this project";return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",onClick:e=>{e.target===e.currentTarget&&o()},children:g.jsxs("div",{className:"relative w-full max-w-md transform overflow-hidden rounded-2xl bg-white dark:bg-[#1a2e26] shadow-2xl transition-all border border-gray-100 dark:border-gray-800",onClick:e=>e.stopPropagation(),children:[g.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 dark:border-gray-800 px-6 py-5",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-red-100 dark:bg-red-900/20",children:g.jsx("span",{className:"material-symbols-outlined text-red-600 dark:text-red-400 text-xl",children:"warning"})}),g.jsx("h3",{className:"text-xl font-bold text-[#111816] dark:text-white",children:"Delete Project"})]}),g.jsx("button",{onClick:o,disabled:s,className:"flex h-8 w-8 items-center justify-center rounded-full text-gray-400 hover:bg-gray-100 hover:text-gray-500 dark:hover:bg-[#10221c] dark:hover:text-gray-300 focus:outline-none transition-colors disabled:opacity-50 disabled:cursor-not-allowed",type:"button",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"close"})})]}),g.jsxs("div",{className:"px-6 py-6",children:[g.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:["Are you sure you want to delete ",g.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:['"',c,'"']}),"? This action cannot be undone."]}),i&&g.jsx("div",{className:"rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 p-3 mb-4",children:g.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:i})}),g.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/10 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("span",{className:"material-symbols-outlined text-yellow-600 dark:text-yellow-400 text-lg",children:"info"}),g.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-300",children:"This will permanently remove the project from your portfolio. All associated data and images will be deleted."})]})})]}),g.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-gray-100 dark:border-gray-800 bg-gray-50 dark:bg-[#152721] px-6 py-4",children:[g.jsx("button",{onClick:o,disabled:s,className:"rounded-lg bg-white dark:bg-[#10221c] border border-gray-300 dark:border-gray-600 px-5 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-200 shadow-sm hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",type:"button",children:"Cancel"}),g.jsx("button",{onClick:()=>d(void 0,null,function*(){var e,r,s;if(t&&t.id){l(!0),n(null);try{yield(s=t.id,d(void 0,null,function*(){try{const e=localStorage.getItem("auth_token");return(yield N.delete(`${L}/admin/projects/${s}`,{headers:{Authorization:`Bearer ${e}`}})).data}catch(i){throw i}})),a&&a(),o()}catch(c){n((null==(r=null==(e=c.response)?void 0:e.data)?void 0:r.message)||"Failed to delete project. Please try again.")}finally{l(!1)}}else n("Project information is missing")}),disabled:s,className:"rounded-lg bg-red-600 px-5 py-2.5 text-sm font-bold text-white shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",type:"button",children:s?g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"material-symbols-outlined animate-spin text-sm",children:"refresh"}),"Deleting..."]}):g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"material-symbols-outlined text-sm",children:"delete_outline"}),"Delete Project"]})})]})]})})},ir=()=>{const[e,r]=m.useState([]),[t,a]=m.useState([]),[s,l]=m.useState(!0),[i,c]=m.useState({search:"",category_id:"all",is_active:null,is_featured:null,sort:"order",order:"asc"}),[u,x]=m.useState({currentPage:1,totalPages:1,totalItems:0,itemsPerPage:10}),[p,h]=m.useState(!1),[b,y]=m.useState(!1),[f,v]=m.useState(null),[j,k]=m.useState(null),[w,_]=m.useState(null),P=()=>d(void 0,null,function*(){try{l(!0);const e=yield O({page:u.currentPage,per_page:u.itemsPerPage,search:i.search,category_id:i.category_id,is_active:i.is_active,is_featured:i.is_featured,sort:i.sort,order:i.order});r(e.data||e.projects||[]),x(r=>o(n({},r),{totalPages:e.total_pages||e.totalPages||1,totalItems:e.total||e.totalItems||0}))}catch(e){r([]),x(e=>o(n({},e),{totalPages:1,totalItems:0}))}finally{l(!1)}});m.useEffect(()=>{d(void 0,null,function*(){try{const e=yield Ze({per_page:100});a(e.data||e.categories||[])}catch(e){a([])}})},[]),m.useEffect(()=>{P()},[u.currentPage,i]);const S=[{key:"drag",header:"",width:"8",render:(e,r)=>g.jsx("div",{className:"flex items-center justify-center",children:g.jsx("span",{className:"material-symbols-outlined text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 cursor-move select-none",title:"Drag row to reorder",children:"drag_indicator"})})},{key:"image",header:"Image",width:"16",render:e=>{const r=e.image||e.image_url;return g.jsx("div",{className:"flex items-center relative",children:r?g.jsx(g.Fragment,{children:g.jsx("img",{src:r,alt:e.title||"Project",className:"w-16 h-16 object-cover rounded-lg",onError:e=>{e.target.onerror=null,e.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="64" height="64"%3E%3Crect width="64" height="64" fill="%23e5e7eb"/%3E%3Ctext x="50%25" y="50%25" text-anchor="middle" dy=".3em" fill="%239ca3af"%3E%3C/svg%3E'}})}):g.jsx("div",{className:"w-16 h-16 bg-gray-200 dark:bg-gray-700 rounded-lg flex items-center justify-center",children:g.jsx("span",{className:"material-symbols-outlined text-gray-400",children:"image"})})})}},{key:"title",header:"Title",render:e=>g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:e.title||"N/A"}),e.category&&g.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:e.category.name})]})},{key:"tags",header:"Tags",render:e=>{const r=e.tags||[];return g.jsxs("div",{className:"flex flex-wrap gap-1",children:[r.slice(0,3).map((e,r)=>g.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-primary/10 text-primary",children:e},r)),r.length>3&&g.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["+",r.length-3]})]})}},{key:"status",header:"Status",align:"center",render:e=>{const r=void 0!==e.isActive?e.isActive:e.is_active,t=void 0!==e.isFeatured?e.isFeatured:e.is_featured;return g.jsxs("div",{className:"flex flex-col gap-1 items-center",children:[g.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+(r?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"),children:r?"Active":"Inactive"}),t&&g.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300",children:"Featured"})]})}},{key:"actions",header:"Actions",align:"right",render:e=>g.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[g.jsx("button",{onClick:r=>{r.stopPropagation(),(e=>{v(e),h(!0)})(e)},className:"p-2 text-gray-400 hover:text-primary dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Edit",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"edit_note"})}),g.jsx("button",{onClick:r=>{r.stopPropagation(),(e=>{v(e),y(!0)})(e)},className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"delete_outline"})})]})}];return g.jsxs(g.Fragment,{children:[g.jsx(tr,{onAddNew:()=>{v(null),h(!0)}}),g.jsx(ar,{search:i.search,categoryId:i.category_id,isActive:i.is_active,isFeatured:i.is_featured,sortBy:i.sort,sortOrder:i.order,categories:t,onSearchChange:e=>{c(r=>o(n({},r),{search:e})),x(e=>o(n({},e),{currentPage:1}))},onCategoryChange:e=>{c(r=>o(n({},r),{category_id:e})),x(e=>o(n({},e),{currentPage:1}))},onActiveStatusChange:e=>{c(r=>o(n({},r),{is_active:e})),x(e=>o(n({},e),{currentPage:1}))},onFeaturedStatusChange:e=>{c(r=>o(n({},r),{is_featured:e})),x(e=>o(n({},e),{currentPage:1}))},onSort:(e,r)=>{c(t=>o(n({},t),{sort:e||t.sort,order:r||t.order})),x(e=>o(n({},e),{currentPage:1}))}}),s?g.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:g.jsx("p",{children:"Loading projects..."})}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"bg-white dark:bg-card-dark rounded-xl shadow-soft border border-gray-100 dark:border-gray-700 overflow-hidden",children:g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left border-collapse",children:[g.jsx("thead",{children:g.jsx("tr",{className:"bg-gray-50 dark:bg-gray-800/50 border-b border-gray-100 dark:border-gray-700 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:S.map((e,r)=>g.jsx("th",{className:`px-6 py-4 ${e.width?`w-${e.width}`:""} ${"center"===e.align?"text-center":"right"===e.align?"text-right":""}`,children:e.header},e.key||r))})}),g.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:0===e.length?g.jsx("tr",{children:g.jsx("td",{colSpan:S.length,className:"px-6 py-12 text-center",children:g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No projects found"})})}):e.map((t,a)=>g.jsx("tr",{draggable:!0,onDragStart:e=>{e.stopPropagation(),((e,r)=>{k(r),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",r.toString()),"TR"===e.currentTarget.tagName&&(e.currentTarget.style.opacity="0.5")})(e,a)},onDragOver:e=>{e.preventDefault(),e.stopPropagation(),((e,r)=>{e.preventDefault(),e.dataTransfer.dropEffect="move",null!==j&&j!==r&&_(r)})(e,a)},onDragLeave:e=>{e.stopPropagation(),_(null)},onDrop:t=>{t.preventDefault(),t.stopPropagation(),((t,a)=>{d(void 0,null,function*(){if(t.preventDefault(),_(null),null===j||j===a)return void k(null);const s=[...e],l=s[j];s.splice(j,1),s.splice(a,0,l);const i=s.map((e,r)=>({id:e.id,order:r}));r(s.map((e,r)=>o(n({},e),{order:r})));try{yield(e=>d(void 0,null,function*(){try{const r=localStorage.getItem("auth_token");return(yield N.post(`${L}/admin/projects/update-order`,{projects:e},{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw r}}))(i),yield P()}catch(c){P()}k(null)})})(t,a)},onDragEnd:e=>{e.stopPropagation(),(e=>{"TR"===e.currentTarget.tagName&&(e.currentTarget.style.opacity="1"),k(null),_(null)})(e)},onClick:e=>{null!==j&&(e.preventDefault(),e.stopPropagation())},className:`group transition-colors ${j===a?"opacity-50 cursor-move":""} ${w===a?"bg-primary/10 border-t-2 border-primary":"hover:bg-gray-50 dark:hover:bg-gray-800/50"} ${null!==j?"cursor-move":""}`,children:S.map((e,r)=>g.jsx("td",{className:"px-6 py-4 align-middle "+("center"===e.align?"text-center":"right"===e.align?"text-right":""),children:e.render?e.render(t,a):t[e.key]||"-"},e.key||r))},t.id||a))})]})})}),g.jsx(Fe,{currentPage:u.currentPage,totalPages:u.totalPages,totalItems:u.totalItems,itemsPerPage:u.itemsPerPage,itemName:"Projects",onPageChange:e=>{x(r=>o(n({},r),{currentPage:e}))}})]}),g.jsx(sr,{isOpen:p,onClose:()=>{h(!1),v(null)},project:f,categories:t,onSuccess:()=>{P()}}),g.jsx(lr,{isOpen:b,onClose:()=>{y(!1),v(null)},project:f,onSuccess:()=>{P()}})]})},nr=({onAddNew:e,className:r=""})=>g.jsxs("header",{className:`mb-8 flex flex-col md:flex-row md:items-end justify-between gap-4 ${r}`,children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Reviews Management"}),g.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Manage client testimonials and reviews for your portfolio."})]}),g.jsx("div",{className:"flex items-center gap-3",children:g.jsxs("button",{onClick:e,className:"bg-black hover:bg-gray-800 dark:bg-white dark:text-black dark:hover:bg-gray-200 text-white font-semibold rounded-xl text-sm px-6 py-3 shadow-lg shadow-gray-200 dark:shadow-none transition-all transform hover:-translate-y-0.5 flex items-center",children:[g.jsx("span",{className:"material-symbols-outlined mr-2",children:"add_circle"}),"Add New Review"]})})]}),or=({search:e="",isActive:r=null,isFeatured:t=null,rating:a="all",sortBy:s="order",sortOrder:l="asc",onSearchChange:i,onActiveStatusChange:n,onFeaturedStatusChange:o,onRatingChange:d,onSort:c,className:u=""})=>{const[x,p]=m.useState(!1),h=m.useRef(null);m.useEffect(()=>{const e=e=>{h.current&&!h.current.contains(e.target)&&p(!1)};return x&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[x]);const b=[{value:"order",label:"Display Order"},{value:"author_name",label:"Author Name"},{value:"rating",label:"Rating"},{value:"created_at",label:"Date Created"},{value:"updated_at",label:"Last Updated"}];return g.jsxs("div",{className:`mb-6 flex flex-col md:flex-row gap-4 ${u}`,children:[g.jsx("div",{className:"flex-1",children:g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400",children:g.jsx("span",{className:"material-symbols-outlined text-lg",children:"search"})}),g.jsx("input",{type:"text",value:e,onChange:e=>i(e.target.value),placeholder:"Search reviews...",className:"w-full py-2 pl-10 pr-4 text-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-gray-700 dark:text-gray-200 placeholder-gray-400 dark:placeholder-gray-500"})]})}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("select",{value:a,onChange:e=>d(e.target.value),className:"px-4 py-2 text-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-gray-700 dark:text-gray-200",children:[g.jsx("option",{value:"all",children:"All Ratings"}),g.jsx("option",{value:"5",children:"5 Stars"}),g.jsx("option",{value:"4",children:"4 Stars"}),g.jsx("option",{value:"3",children:"3 Stars"}),g.jsx("option",{value:"2",children:"2 Stars"}),g.jsx("option",{value:"1",children:"1 Star"})]}),g.jsxs("select",{value:null===r?"all":r?"active":"inactive",onChange:e=>{const r=e.target.value;n("all"===r?null:"active"===r)},className:"px-4 py-2 text-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-gray-700 dark:text-gray-200",children:[g.jsx("option",{value:"all",children:"All Status"}),g.jsx("option",{value:"active",children:"Active"}),g.jsx("option",{value:"inactive",children:"Inactive"})]}),g.jsxs("select",{value:null===t?"all":t?"featured":"not-featured",onChange:e=>{const r=e.target.value;o("all"===r?null:"featured"===r)},className:"px-4 py-2 text-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-gray-700 dark:text-gray-200",children:[g.jsx("option",{value:"all",children:"All Reviews"}),g.jsx("option",{value:"featured",children:"Featured"}),g.jsx("option",{value:"not-featured",children:"Not Featured"})]})]}),g.jsxs("div",{className:"relative",ref:h,children:[g.jsxs("button",{onClick:()=>p(!x),className:"px-4 py-2 text-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[g.jsx("span",{className:"material-symbols-outlined text-lg",children:"sort"}),g.jsx("span",{children:(()=>{const e=b.find(e=>e.value===s);return e?e.label:"Sort"})()}),g.jsx("span",{className:"material-symbols-outlined text-sm",children:"asc"===l?"arrow_upward":"arrow_downward"}),g.jsx("span",{className:"material-symbols-outlined text-sm",children:x?"expand_less":"expand_more"})]}),x&&g.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50",children:[g.jsxs("div",{className:"p-2 border-b border-gray-200 dark:border-gray-700",children:[g.jsx("div",{className:"px-3 py-1.5 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Sort By"}),b.map(e=>g.jsxs("button",{onClick:()=>{return r=e.value,c(r,l),void p(!1);var r},className:"w-full text-left px-3 py-2 text-sm rounded-md transition-colors flex items-center justify-between "+(s===e.value?"bg-primary/10 text-primary font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:[g.jsx("span",{children:e.label}),s===e.value&&g.jsx("span",{className:"material-symbols-outlined text-sm",children:"check"})]},e.value))]}),g.jsxs("div",{className:"p-2",children:[g.jsx("div",{className:"px-3 py-1.5 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Order"}),[{value:"asc",label:"Ascending",icon:"arrow_upward"},{value:"desc",label:"Descending",icon:"arrow_downward"}].map(e=>g.jsxs("button",{onClick:()=>{return r=e.value,void c(s,r);var r},className:"w-full text-left px-3 py-2 text-sm rounded-md transition-colors flex items-center justify-between "+(l===e.value?"bg-primary/10 text-primary font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"material-symbols-outlined text-sm",children:e.icon}),g.jsx("span",{children:e.label})]}),l===e.value&&g.jsx("span",{className:"material-symbols-outlined text-sm",children:"check"})]},e.value))]})]})]})]})},dr=({isOpen:e,onClose:r,review:t=null,onSuccess:a})=>{const[s,l]=m.useState({quote:"",author_name:"",author_title:"",author_company:"",rating:5,is_featured:!1,is_active:!0,order:0,author_image:null,imagePreview:null}),[i,c]=m.useState({}),[u,x]=m.useState(!1),p=m.useRef(null);m.useEffect(()=>{l(t?{quote:t.quote||"",author_name:t.authorName||t.author_name||"",author_title:t.authorTitle||t.author_title||"",author_company:t.authorCompany||t.author_company||"",rating:t.rating||5,is_featured:void 0!==t.isFeatured?t.isFeatured:void 0!==t.is_featured&&t.is_featured,is_active:void 0!==t.isActive?t.isActive:void 0===t.is_active||t.is_active,order:t.order||0,author_image:null,imagePreview:t.authorImage||t.author_image||null}:{quote:"",author_name:"",author_title:"",author_company:"",rating:5,is_featured:!1,is_active:!0,order:0,author_image:null,imagePreview:null}),c({})},[t,e]);const h=(e,r)=>{l(t=>o(n({},t),{[e]:r})),i[e]&&c(r=>{const t=n({},r);return delete t[e],t})},b=e=>d(void 0,null,function*(){var l,i,o,m,g,u;if(e.preventDefault(),(()=>{const e={};return s.quote.trim()||(e.quote="Review quote is required"),s.author_name.trim()||(e.author_name="Author name is required"),c(e),0===Object.keys(e).length})()){x(!0);try{const e=n({},s);t?(!s.imagePreview&&t.authorImage&&(e.remove_image=!0),yield(g=t.id,u=e,d(void 0,null,function*(){try{const e=new FormData;u.quote&&e.append("quote",u.quote),u.author_name&&e.append("author_name",u.author_name),void 0!==u.author_title&&e.append("author_title",u.author_title||""),void 0!==u.author_company&&e.append("author_company",u.author_company||""),void 0!==u.rating&&e.append("rating",u.rating),void 0!==u.is_featured&&e.append("is_featured",u.is_featured?"1":"0"),void 0!==u.is_active&&e.append("is_active",u.is_active?"1":"0"),void 0!==u.order&&e.append("order",u.order),u.author_image&&e.append("author_image",u.author_image),u.remove_image&&e.append("remove_image","1");const r=localStorage.getItem("auth_token");return e.append("_method","PUT"),(yield N.post(`${B}/admin/reviews/${g}`,e,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${r}`}})).data}catch(e){throw e}}))):yield(e=>d(void 0,null,function*(){try{const r=new FormData;r.append("quote",e.quote),r.append("author_name",e.author_name),void 0!==e.author_title&&r.append("author_title",e.author_title||""),void 0!==e.author_company&&r.append("author_company",e.author_company||""),void 0!==e.rating&&r.append("rating",e.rating),void 0!==e.is_featured&&r.append("is_featured",e.is_featured?"1":"0"),void 0!==e.is_active&&r.append("is_active",e.is_active?"1":"0"),void 0!==e.order&&r.append("order",e.order),e.author_image&&r.append("author_image",e.author_image);const t=localStorage.getItem("auth_token");return(yield N.post(`${B}/admin/reviews`,r,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${t}`}})).data}catch(r){throw r}}))(e),a&&a(),r()}catch(p){c({submit:(null==(i=null==(l=p.response)?void 0:l.data)?void 0:i.message)||(null==(m=null==(o=p.response)?void 0:o.data)?void 0:m.error)||p.message||"Failed to save review. Please try again."})}finally{x(!1)}}}),y=m.useCallback(()=>{l({quote:"",author_name:"",author_title:"",author_company:"",rating:5,is_featured:!1,is_active:!0,order:0,author_image:null,imagePreview:null}),c({}),r()},[r]);return m.useEffect(()=>{const r=r=>{"Escape"===r.key&&e&&y()};return e&&(document.addEventListener("keydown",r),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",r),document.body.style.overflow="unset"}},[e,y]),e?g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",onClick:e=>e.target===e.currentTarget&&y(),children:g.jsxs("div",{className:"relative w-full max-w-3xl transform overflow-hidden rounded-2xl bg-white dark:bg-[#1a2e26] shadow-2xl transition-all border border-gray-100 dark:border-gray-800 max-h-[90vh] flex flex-col",onClick:e=>e.stopPropagation(),children:[g.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 dark:border-gray-800 px-6 py-5",children:[g.jsx("h3",{className:"text-xl font-bold text-[#111816] dark:text-white",children:t?"Edit Review":"Add New Review"}),g.jsx("button",{onClick:y,className:"flex h-8 w-8 items-center justify-center rounded-full text-gray-400 hover:bg-gray-100 hover:text-gray-500 dark:hover:bg-[#10221c] dark:hover:text-gray-300 focus:outline-none transition-colors",type:"button",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"close"})})]}),g.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar px-6 py-6",children:g.jsxs("form",{onSubmit:b,className:"space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Review Quote ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsx("textarea",{className:`block w-full rounded-lg border ${i.quote?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5 resize-none`,rows:"4",value:s.quote,onChange:e=>h("quote",e.target.value),placeholder:"Enter the review/testimonial text..."}),i.quote&&g.jsx("p",{className:"text-sm text-red-500",children:i.quote})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Author Name ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsx("input",{className:`block w-full rounded-lg border ${i.author_name?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5`,value:s.author_name,onChange:e=>h("author_name",e.target.value),placeholder:"e.g., Sarah Jenkins"}),i.author_name&&g.jsx("p",{className:"text-sm text-red-500",children:i.author_name})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Author Title"}),g.jsx("input",{className:"block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5",value:s.author_title,onChange:e=>h("author_title",e.target.value),placeholder:"e.g., CTO, Founder"})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Company Name"}),g.jsx("input",{className:"block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5",value:s.author_company,onChange:e=>h("author_company",e.target.value),placeholder:"e.g., TechVision Global"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Rating"}),g.jsxs("select",{className:"block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5",value:s.rating,onChange:e=>h("rating",parseInt(e.target.value)),children:[g.jsx("option",{value:"5",children:"5 Stars"}),g.jsx("option",{value:"4",children:"4 Stars"}),g.jsx("option",{value:"3",children:"3 Stars"}),g.jsx("option",{value:"2",children:"2 Stars"}),g.jsx("option",{value:"1",children:"1 Star"})]})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Author Image"}),s.imagePreview?g.jsxs("div",{className:"relative",children:[g.jsx("img",{src:s.imagePreview,alt:"Preview",className:"w-32 h-32 object-cover rounded-full border border-gray-300 dark:border-gray-600"}),g.jsx("button",{type:"button",onClick:()=>{l(e=>o(n({},e),{author_image:null,imagePreview:null})),p.current&&(p.current.value="")},className:"absolute top-0 right-0 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:g.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})})]}):g.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center",children:[g.jsx("input",{ref:p,type:"file",accept:"image/*",onChange:e=>(e=>{if(e){if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(e.type))return void c(e=>o(n({},e),{author_image:"Please upload a valid image file (PNG, JPG, GIF, WEBP)"}));if(e.size>2097152)return void c(e=>o(n({},e),{author_image:"Image size must be less than 2MB"}));const r=new FileReader;r.onloadend=()=>{l(t=>o(n({},t),{author_image:e,imagePreview:r.result}))},r.readAsDataURL(e),i.author_image&&c(e=>{const r=n({},e);return delete r.author_image,r})}})(e.target.files[0]),className:"hidden"}),g.jsx("button",{type:"button",onClick:()=>{var e;return null==(e=p.current)?void 0:e.click()},className:"text-primary hover:text-[#0eb37d] font-medium",children:"Click to upload image"}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"PNG, JPG, GIF, WEBP up to 2MB"})]}),i.author_image&&g.jsx("p",{className:"text-sm text-red-500",children:i.author_image})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("input",{type:"checkbox",id:"is_featured",checked:s.is_featured,onChange:e=>h("is_featured",e.target.checked),className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}),g.jsx("label",{htmlFor:"is_featured",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Featured"})]}),g.jsxs("div",{className:"flex items-center",children:[g.jsx("input",{type:"checkbox",id:"is_active",checked:s.is_active,onChange:e=>h("is_active",e.target.checked),className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}),g.jsx("label",{htmlFor:"is_active",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Active"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Display Order"}),g.jsx("input",{className:"block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5",type:"number",min:"0",value:s.order,onChange:e=>h("order",parseInt(e.target.value)||0)})]})]}),i.submit&&g.jsx("div",{className:"rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 p-3",children:g.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:i.submit})})]})}),g.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-gray-100 dark:border-gray-800 bg-gray-50 dark:bg-[#152721] px-6 py-4",children:[g.jsx("button",{onClick:y,disabled:u,className:"rounded-lg bg-white dark:bg-[#10221c] border border-gray-300 dark:border-gray-600 px-5 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-200 shadow-sm hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",type:"button",children:"Cancel"}),g.jsx("button",{onClick:b,disabled:u,className:"rounded-lg bg-primary px-5 py-2.5 text-sm font-bold text-[#111816] shadow-sm hover:bg-[#0eb37d] focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",type:"submit",children:u?g.jsxs("span",{className:"flex items-center",children:[g.jsx("span",{className:"material-symbols-outlined animate-spin mr-2",children:"refresh"}),t?"Updating...":"Adding..."]}):t?"Update Review":"Add Review"})]})]})}):null},cr=({isOpen:e,onClose:r,review:t=null,onSuccess:a})=>{const[s,l]=m.useState(!1),[i,n]=m.useState(null);m.useEffect(()=>{e||(l(!1),n(null))},[e]),m.useEffect(()=>{const r=r=>{"Escape"===r.key&&e&&o()};return e&&(document.addEventListener("keydown",r),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",r),document.body.style.overflow="unset"}},[e]);const o=m.useCallback(()=>{n(null),l(!1),r()},[r]);if(!e||!t)return null;const c=t.authorName||t.author_name||"this review";return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",onClick:e=>{e.target===e.currentTarget&&o()},children:g.jsxs("div",{className:"relative w-full max-w-md transform overflow-hidden rounded-2xl bg-white dark:bg-[#1a2e26] shadow-2xl transition-all border border-gray-100 dark:border-gray-800",onClick:e=>e.stopPropagation(),children:[g.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 dark:border-gray-800 px-6 py-5",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-red-100 dark:bg-red-900/20",children:g.jsx("span",{className:"material-symbols-outlined text-red-600 dark:text-red-400 text-xl",children:"warning"})}),g.jsx("h3",{className:"text-xl font-bold text-[#111816] dark:text-white",children:"Delete Review"})]}),g.jsx("button",{onClick:o,disabled:s,className:"flex h-8 w-8 items-center justify-center rounded-full text-gray-400 hover:bg-gray-100 hover:text-gray-500 dark:hover:bg-[#10221c] dark:hover:text-gray-300 focus:outline-none transition-colors disabled:opacity-50 disabled:cursor-not-allowed",type:"button",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"close"})})]}),g.jsxs("div",{className:"px-6 py-6",children:[g.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:["Are you sure you want to delete the review from ",g.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:['"',c,'"']}),"? This action cannot be undone."]}),i&&g.jsx("div",{className:"rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 p-3 mb-4",children:g.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:i})}),g.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/10 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("span",{className:"material-symbols-outlined text-yellow-600 dark:text-yellow-400 text-lg",children:"info"}),g.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-300",children:"This will permanently remove the review from your portfolio. All associated data and images will be deleted."})]})})]}),g.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-gray-100 dark:border-gray-800 bg-gray-50 dark:bg-[#152721] px-6 py-4",children:[g.jsx("button",{onClick:o,disabled:s,className:"rounded-lg bg-white dark:bg-[#10221c] border border-gray-300 dark:border-gray-600 px-5 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-200 shadow-sm hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",type:"button",children:"Cancel"}),g.jsx("button",{onClick:()=>d(void 0,null,function*(){var e,r,s;if(t&&t.id){l(!0),n(null);try{yield(s=t.id,d(void 0,null,function*(){try{const e=localStorage.getItem("auth_token");return(yield N.delete(`${B}/admin/reviews/${s}`,{headers:{Authorization:`Bearer ${e}`}})).data}catch(i){throw i}})),a&&a(),o()}catch(c){n((null==(r=null==(e=c.response)?void 0:e.data)?void 0:r.message)||"Failed to delete review. Please try again.")}finally{l(!1)}}else n("Review information is missing")}),disabled:s,className:"rounded-lg bg-red-600 px-5 py-2.5 text-sm font-bold text-white shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",type:"button",children:s?g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"material-symbols-outlined animate-spin text-sm",children:"refresh"}),"Deleting..."]}):g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"material-symbols-outlined text-sm",children:"delete_outline"}),"Delete Review"]})})]})]})})},mr=()=>{const[e,r]=m.useState([]),[t,a]=m.useState(!0),[s,l]=m.useState({search:"",is_active:null,is_featured:null,rating:"all",sort:"order",order:"asc"}),[i,c]=m.useState({currentPage:1,totalPages:1,totalItems:0,itemsPerPage:10}),[u,x]=m.useState(!1),[p,h]=m.useState(!1),[b,y]=m.useState(null),[f,v]=m.useState(null),[j,k]=m.useState(null),w=()=>d(void 0,null,function*(){try{a(!0);const e=yield((...e)=>d(void 0,[...e],function*(e={}){try{const r=localStorage.getItem("auth_token");return(yield N.get(`${B}/admin/reviews`,{params:{page:e.page||1,per_page:e.per_page||10,search:e.search||"",is_active:e.is_active,is_featured:e.is_featured,rating:e.rating||"all",sort:e.sort||"order",order:e.order||"asc"},headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw r}}))({page:i.currentPage,per_page:i.itemsPerPage,search:s.search,is_active:s.is_active,is_featured:s.is_featured,rating:s.rating,sort:s.sort,order:s.order});r(e.data||e.reviews||[]),c(r=>o(n({},r),{totalPages:e.total_pages||e.totalPages||1,totalItems:e.total||e.totalItems||0}))}catch(e){r([]),c(e=>o(n({},e),{totalPages:1,totalItems:0}))}finally{a(!1)}});m.useEffect(()=>{w()},[i.currentPage,s]);const _=[{key:"drag",header:"",width:"8",render:(e,r)=>g.jsx("div",{className:"flex items-center justify-center",children:g.jsx("span",{className:"material-symbols-outlined text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 cursor-move select-none",title:"Drag row to reorder",children:"drag_indicator"})})},{key:"author",header:"Author",render:e=>g.jsxs("div",{className:"flex items-center gap-3",children:[e.authorImage||e.author_image?g.jsx("img",{src:e.authorImage||e.author_image,alt:e.authorName||e.author_name||"Author",className:"w-12 h-12 rounded-full object-cover"}):g.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center",children:g.jsx("span",{className:"material-symbols-outlined text-gray-400",children:"person"})}),g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:e.authorName||e.author_name||"N/A"}),(e.authorTitle||e.author_title)&&g.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.authorTitle||e.author_title,e.authorCompany||e.author_company?` at ${e.authorCompany||e.author_company}`:""]})]})]})},{key:"quote",header:"Review",render:e=>g.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300 max-w-md",children:g.jsx("span",{className:"block line-clamp-3",children:e.quote||"No review text"})})},{key:"rating",header:"Rating",align:"center",render:e=>{const r=e.rating||5;return g.jsxs("div",{className:"flex items-center justify-center gap-1",children:[[...Array(5)].map((e,t)=>g.jsx("span",{className:"text-lg "+(t<r?"text-yellow-400":"text-gray-300 dark:text-gray-600"),children:"★"},t)),g.jsx("span",{className:"ml-2 text-sm text-gray-600 dark:text-gray-400",children:r})]})}},{key:"status",header:"Status",align:"center",render:e=>{const r=void 0!==e.isActive?e.isActive:e.is_active,t=void 0!==e.isFeatured?e.isFeatured:e.is_featured;return g.jsxs("div",{className:"flex flex-col gap-1 items-center",children:[g.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+(r?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"),children:r?"Active":"Inactive"}),t&&g.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300",children:"Featured"})]})}},{key:"actions",header:"Actions",align:"right",render:e=>g.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[g.jsx("button",{onClick:r=>{r.stopPropagation(),(e=>{y(e),x(!0)})(e)},className:"p-2 text-gray-400 hover:text-primary dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Edit",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"edit_note"})}),g.jsx("button",{onClick:r=>{r.stopPropagation(),(e=>{y(e),h(!0)})(e)},className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"delete_outline"})})]})}];return g.jsxs(g.Fragment,{children:[g.jsx(nr,{onAddNew:()=>{y(null),x(!0)}}),g.jsx(or,{search:s.search,isActive:s.is_active,isFeatured:s.is_featured,rating:s.rating,sortBy:s.sort,sortOrder:s.order,onSearchChange:e=>{l(r=>o(n({},r),{search:e})),c(e=>o(n({},e),{currentPage:1}))},onActiveStatusChange:e=>{l(r=>o(n({},r),{is_active:e})),c(e=>o(n({},e),{currentPage:1}))},onFeaturedStatusChange:e=>{l(r=>o(n({},r),{is_featured:e})),c(e=>o(n({},e),{currentPage:1}))},onRatingChange:e=>{l(r=>o(n({},r),{rating:e})),c(e=>o(n({},e),{currentPage:1}))},onSort:(e,r)=>{l(t=>o(n({},t),{sort:e||t.sort,order:r||t.order})),c(e=>o(n({},e),{currentPage:1}))}}),t?g.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:g.jsx("p",{children:"Loading reviews..."})}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"bg-white dark:bg-card-dark rounded-xl shadow-soft border border-gray-100 dark:border-gray-700 overflow-hidden",children:g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left border-collapse",children:[g.jsx("thead",{children:g.jsx("tr",{className:"bg-gray-50 dark:bg-gray-800/50 border-b border-gray-100 dark:border-gray-700 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:_.map((e,r)=>g.jsx("th",{className:`px-6 py-4 ${e.width?`w-${e.width}`:""} ${"center"===e.align?"text-center":"right"===e.align?"text-right":""}`,children:e.header},e.key||r))})}),g.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:0===e.length?g.jsx("tr",{children:g.jsx("td",{colSpan:_.length,className:"px-6 py-12 text-center",children:g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No reviews found"})})}):e.map((t,a)=>g.jsx("tr",{draggable:!0,onDragStart:e=>{e.stopPropagation(),((e,r)=>{v(r),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",r.toString()),"TR"===e.currentTarget.tagName&&(e.currentTarget.style.opacity="0.5")})(e,a)},onDragOver:e=>{e.preventDefault(),e.stopPropagation(),((e,r)=>{e.preventDefault(),e.dataTransfer.dropEffect="move",null!==f&&f!==r&&k(r)})(e,a)},onDragLeave:e=>{e.stopPropagation(),k(null)},onDrop:t=>{t.preventDefault(),t.stopPropagation(),((t,a)=>{d(void 0,null,function*(){if(t.preventDefault(),k(null),null===f||f===a)return void v(null);const s=[...e],l=s[f];s.splice(f,1),s.splice(a,0,l);const i=s.map((e,r)=>({id:e.id,order:r}));r(s.map((e,r)=>o(n({},e),{order:r})));try{yield(e=>d(void 0,null,function*(){try{const r=localStorage.getItem("auth_token");return(yield N.post(`${B}/admin/reviews/update-order`,{reviews:e},{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw r}}))(i),yield w()}catch(c){w()}v(null)})})(t,a)},onDragEnd:e=>{e.stopPropagation(),(e=>{"TR"===e.currentTarget.tagName&&(e.currentTarget.style.opacity="1"),v(null),k(null)})(e)},onClick:e=>{null!==f&&(e.preventDefault(),e.stopPropagation())},className:`group transition-colors ${f===a?"opacity-50 cursor-move":""} ${j===a?"bg-primary/10 border-t-2 border-primary":"hover:bg-gray-50 dark:hover:bg-gray-800/50"} ${null!==f?"cursor-move":""}`,children:_.map((e,r)=>g.jsx("td",{className:"px-6 py-4 align-middle "+("center"===e.align?"text-center":"right"===e.align?"text-right":""),children:e.render?e.render(t,a):t[e.key]||"-"},e.key||r))},t.id||a))})]})})}),g.jsx(Fe,{currentPage:i.currentPage,totalPages:i.totalPages,totalItems:i.totalItems,itemsPerPage:i.itemsPerPage,itemName:"Reviews",onPageChange:e=>{c(r=>o(n({},r),{currentPage:e}))}})]}),g.jsx(dr,{isOpen:u,onClose:()=>{x(!1),y(null)},review:b,onSuccess:()=>{w()}}),g.jsx(cr,{isOpen:p,onClose:()=>{h(!1),y(null)},review:b,onSuccess:()=>{w()}})]})},gr=({className:e=""})=>g.jsx("header",{className:`mb-8 flex flex-col md:flex-row md:items-end justify-between gap-4 ${e}`,children:g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Contact Submissions"}),g.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"View and manage contact form submissions from your website."})]})}),ur=({search:e="",status:r="all",projectId:t="all",sortBy:a="created_at",sortOrder:s="desc",projects:l=[],onSearchChange:i,onStatusChange:n,onProjectChange:o,onSort:d,className:c=""})=>{const[u,x]=m.useState(!1),p=m.useRef(null);m.useEffect(()=>{const e=e=>{p.current&&!p.current.contains(e.target)&&x(!1)};return u&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[u]);const h=[{value:"created_at",label:"Date Submitted"},{value:"name",label:"Name"},{value:"email",label:"Email"},{value:"status",label:"Status"}];return g.jsxs("div",{className:`mb-6 flex flex-col md:flex-row gap-4 ${c}`,children:[g.jsx("div",{className:"flex-1",children:g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400",children:g.jsx("span",{className:"material-symbols-outlined text-lg",children:"search"})}),g.jsx("input",{type:"text",value:e,onChange:e=>i(e.target.value),placeholder:"Search submissions...",className:"w-full py-2 pl-10 pr-4 text-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-gray-700 dark:text-gray-200 placeholder-gray-400 dark:placeholder-gray-500"})]})}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("select",{value:r,onChange:e=>n(e.target.value),className:"px-4 py-2 text-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-gray-700 dark:text-gray-200",children:[g.jsx("option",{value:"all",children:"All Status"}),g.jsx("option",{value:"new",children:"New"}),g.jsx("option",{value:"read",children:"Read"}),g.jsx("option",{value:"replied",children:"Replied"}),g.jsx("option",{value:"archived",children:"Archived"})]}),g.jsxs("select",{value:t,onChange:e=>o(e.target.value),className:"px-4 py-2 text-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-gray-700 dark:text-gray-200",children:[g.jsx("option",{value:"all",children:"All Projects"}),l.map(e=>g.jsx("option",{value:e.id,children:e.title},e.id))]})]}),g.jsxs("div",{className:"relative",ref:p,children:[g.jsxs("button",{onClick:()=>x(!u),className:"px-4 py-2 text-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[g.jsx("span",{className:"material-symbols-outlined text-lg",children:"sort"}),g.jsx("span",{children:(()=>{const e=h.find(e=>e.value===a);return e?e.label:"Sort"})()}),g.jsx("span",{className:"material-symbols-outlined text-sm",children:"asc"===s?"arrow_upward":"arrow_downward"}),g.jsx("span",{className:"material-symbols-outlined text-sm",children:u?"expand_less":"expand_more"})]}),u&&g.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50",children:[g.jsxs("div",{className:"p-2 border-b border-gray-200 dark:border-gray-700",children:[g.jsx("div",{className:"px-3 py-1.5 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Sort By"}),h.map(e=>g.jsxs("button",{onClick:()=>{return r=e.value,d(r,s),void x(!1);var r},className:"w-full text-left px-3 py-2 text-sm rounded-md transition-colors flex items-center justify-between "+(a===e.value?"bg-primary/10 text-primary font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:[g.jsx("span",{children:e.label}),a===e.value&&g.jsx("span",{className:"material-symbols-outlined text-sm",children:"check"})]},e.value))]}),g.jsxs("div",{className:"p-2",children:[g.jsx("div",{className:"px-3 py-1.5 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Order"}),[{value:"asc",label:"Ascending",icon:"arrow_upward"},{value:"desc",label:"Descending",icon:"arrow_downward"}].map(e=>g.jsxs("button",{onClick:()=>{return r=e.value,void d(a,r);var r},className:"w-full text-left px-3 py-2 text-sm rounded-md transition-colors flex items-center justify-between "+(s===e.value?"bg-primary/10 text-primary font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"material-symbols-outlined text-sm",children:e.icon}),g.jsx("span",{children:e.label})]}),s===e.value&&g.jsx("span",{className:"material-symbols-outlined text-sm",children:"check"})]},e.value))]})]})]})]})},xr=({isOpen:e,onClose:r,submission:t=null,onUpdate:a})=>{const[s,l]=m.useState({status:"new",admin_notes:""}),[i,c]=m.useState({}),[u,x]=m.useState(!1);m.useEffect(()=>{t&&l({status:t.status||"new",admin_notes:t.adminNotes||t.admin_notes||""}),c({})},[t,e]);const p=(e,r)=>{l(t=>o(n({},t),{[e]:r})),i[e]&&c(r=>{const t=n({},r);return delete t[e],t})},h=e=>d(void 0,null,function*(){var l,i,n,o;e.preventDefault(),x(!0);try{yield R.updateContactSubmission(t.id,s),a&&a(),r()}catch(d){c({submit:(null==(i=null==(l=d.response)?void 0:l.data)?void 0:i.message)||(null==(o=null==(n=d.response)?void 0:n.data)?void 0:o.error)||d.message||"Failed to update submission. Please try again."})}finally{x(!1)}}),b=m.useCallback(()=>{l({status:"new",admin_notes:""}),c({}),r()},[r]);return m.useEffect(()=>{const r=r=>{"Escape"===r.key&&e&&b()};return e&&(document.addEventListener("keydown",r),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",r),document.body.style.overflow="unset"}},[e,b]),e&&t?g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",onClick:e=>e.target===e.currentTarget&&b(),children:g.jsxs("div",{className:"relative w-full max-w-3xl transform overflow-hidden rounded-2xl bg-white dark:bg-[#1a2e26] shadow-2xl transition-all border border-gray-100 dark:border-gray-800 max-h-[90vh] flex flex-col",onClick:e=>e.stopPropagation(),children:[g.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 dark:border-gray-800 px-6 py-5",children:[g.jsx("h3",{className:"text-xl font-bold text-[#111816] dark:text-white",children:"Contact Submission Details"}),g.jsx("button",{onClick:b,className:"flex h-8 w-8 items-center justify-center rounded-full text-gray-400 hover:bg-gray-100 hover:text-gray-500 dark:hover:bg-[#10221c] dark:hover:text-gray-300 focus:outline-none transition-colors",type:"button",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"close"})})]}),g.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar px-6 py-6",children:g.jsxs("form",{onSubmit:h,className:"space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Name"}),g.jsx("div",{className:"px-4 py-3 bg-gray-50 dark:bg-[#10221c] rounded-lg text-gray-900 dark:text-gray-100",children:t.name||"N/A"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email"}),g.jsx("div",{className:"px-4 py-3 bg-gray-50 dark:bg-[#10221c] rounded-lg text-gray-900 dark:text-gray-100",children:t.email||"N/A"})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Selected Project"}),g.jsx("div",{className:"px-4 py-3 bg-gray-50 dark:bg-[#10221c] rounded-lg text-gray-900 dark:text-gray-100",children:t.project?t.project.title:"No project selected"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Message"}),g.jsx("div",{className:"px-4 py-3 bg-gray-50 dark:bg-[#10221c] rounded-lg text-gray-900 dark:text-gray-100 min-h-[100px] whitespace-pre-wrap",children:t.message||"No message"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Submitted At"}),g.jsx("div",{className:"px-4 py-3 bg-gray-50 dark:bg-[#10221c] rounded-lg text-gray-900 dark:text-gray-100",children:t.createdAt?new Date(t.createdAt).toLocaleString():"N/A"})]}),g.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6 space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Status"}),g.jsxs("select",{className:"block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5",value:s.status,onChange:e=>p("status",e.target.value),children:[g.jsx("option",{value:"new",children:"New"}),g.jsx("option",{value:"read",children:"Read"}),g.jsx("option",{value:"replied",children:"Replied"}),g.jsx("option",{value:"archived",children:"Archived"})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Admin Notes"}),g.jsx("textarea",{className:"block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5 resize-none",rows:"4",value:s.admin_notes,onChange:e=>p("admin_notes",e.target.value),placeholder:"Add internal notes about this submission..."})]})]}),i.submit&&g.jsx("div",{className:"rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 p-3",children:g.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:i.submit})})]})}),g.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-gray-100 dark:border-gray-800 bg-gray-50 dark:bg-[#152721] px-6 py-4",children:[g.jsx("button",{onClick:b,disabled:u,className:"rounded-lg bg-white dark:bg-[#10221c] border border-gray-300 dark:border-gray-600 px-5 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-200 shadow-sm hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",type:"button",children:"Close"}),g.jsx("button",{onClick:h,disabled:u,className:"rounded-lg bg-primary px-5 py-2.5 text-sm font-bold text-[#111816] shadow-sm hover:bg-[#0eb37d] focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",type:"submit",children:u?g.jsxs("span",{className:"flex items-center",children:[g.jsx("span",{className:"material-symbols-outlined animate-spin mr-2",children:"refresh"}),"Updating..."]}):"Update Status"})]})]})}):null},pr=({isOpen:e,onClose:r,submission:t=null,onSuccess:a})=>{const[s,l]=m.useState(!1),[i,n]=m.useState(null);m.useEffect(()=>{e||(l(!1),n(null))},[e]),m.useEffect(()=>{const r=r=>{"Escape"===r.key&&e&&o()};return e&&(document.addEventListener("keydown",r),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",r),document.body.style.overflow="unset"}},[e]);const o=m.useCallback(()=>{n(null),l(!1),r()},[r]);if(!e||!t)return null;const c=t.name||"this submission";return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",onClick:e=>{e.target===e.currentTarget&&o()},children:g.jsxs("div",{className:"relative w-full max-w-md transform overflow-hidden rounded-2xl bg-white dark:bg-[#1a2e26] shadow-2xl transition-all border border-gray-100 dark:border-gray-800",onClick:e=>e.stopPropagation(),children:[g.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 dark:border-gray-800 px-6 py-5",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-red-100 dark:bg-red-900/20",children:g.jsx("span",{className:"material-symbols-outlined text-red-600 dark:text-red-400 text-xl",children:"warning"})}),g.jsx("h3",{className:"text-xl font-bold text-[#111816] dark:text-white",children:"Delete Submission"})]}),g.jsx("button",{onClick:o,disabled:s,className:"flex h-8 w-8 items-center justify-center rounded-full text-gray-400 hover:bg-gray-100 hover:text-gray-500 dark:hover:bg-[#10221c] dark:hover:text-gray-300 focus:outline-none transition-colors disabled:opacity-50 disabled:cursor-not-allowed",type:"button",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"close"})})]}),g.jsxs("div",{className:"px-6 py-6",children:[g.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:["Are you sure you want to delete the submission from ",g.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:['"',c,'"']}),"? This action cannot be undone."]}),i&&g.jsx("div",{className:"rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 p-3 mb-4",children:g.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:i})}),g.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/10 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("span",{className:"material-symbols-outlined text-yellow-600 dark:text-yellow-400 text-lg",children:"info"}),g.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-300",children:"This will permanently remove the contact submission from your system. All associated data will be deleted."})]})})]}),g.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-gray-100 dark:border-gray-800 bg-gray-50 dark:bg-[#152721] px-6 py-4",children:[g.jsx("button",{onClick:o,disabled:s,className:"rounded-lg bg-white dark:bg-[#10221c] border border-gray-300 dark:border-gray-600 px-5 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-200 shadow-sm hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",type:"button",children:"Cancel"}),g.jsx("button",{onClick:()=>d(void 0,null,function*(){var e,r;if(t&&t.id){l(!0),n(null);try{yield R.deleteContactSubmission(t.id),a&&a(),o()}catch(s){n((null==(r=null==(e=s.response)?void 0:e.data)?void 0:r.message)||"Failed to delete submission. Please try again.")}finally{l(!1)}}else n("Submission information is missing")}),disabled:s,className:"rounded-lg bg-red-600 px-5 py-2.5 text-sm font-bold text-white shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",type:"button",children:s?g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"material-symbols-outlined animate-spin text-sm",children:"refresh"}),"Deleting..."]}):g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"material-symbols-outlined text-sm",children:"delete_outline"}),"Delete Submission"]})})]})]})})},hr=()=>{const[e,r]=m.useState([]),[t,a]=m.useState([]),[s,l]=m.useState(!0),[i,c]=m.useState({search:"",status:"all",project_id:"all",sort:"created_at",order:"desc"}),[u,x]=m.useState({currentPage:1,totalPages:1,totalItems:0,itemsPerPage:10}),[p,h]=m.useState(!1),[b,y]=m.useState(!1),[f,v]=m.useState(null),j=()=>d(void 0,null,function*(){try{l(!0);const e=yield R.getContactSubmissions({page:u.currentPage,per_page:u.itemsPerPage,search:i.search,status:i.status,project_id:i.project_id,sort:i.sort,order:i.order});r(e.data||e.submissions||[]),x(r=>o(n({},r),{totalPages:e.total_pages||e.totalPages||1,totalItems:e.total||e.totalItems||0}))}catch(e){r([]),x(e=>o(n({},e),{totalPages:1,totalItems:0}))}finally{l(!1)}});m.useEffect(()=>{d(void 0,null,function*(){try{const e=yield O({per_page:100});a(e.data||e.projects||[])}catch(e){a([])}})},[]),m.useEffect(()=>{j()},[u.currentPage,i]);const k=e=>{v(e),h(!0)},N=[{key:"name",header:"Name",render:e=>g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:e.name||"N/A"}),g.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:e.email||"N/A"})]})},{key:"project",header:"Project",render:e=>g.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:e.project?e.project.title:"No project selected"})},{key:"message",header:"Message",render:e=>g.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300 max-w-md",children:g.jsx("span",{className:"block line-clamp-2",children:e.message||"No message"})})},{key:"status",header:"Status",align:"center",render:e=>{const r=e.status||"new",t={new:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300",read:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",replied:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300",archived:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300"};return g.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${t[r]||t.new}`,children:r.charAt(0).toUpperCase()+r.slice(1)})}},{key:"date",header:"Submitted",render:e=>g.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"})},{key:"actions",header:"Actions",align:"right",render:e=>g.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[g.jsx("button",{onClick:r=>{r.stopPropagation(),k(e)},className:"p-2 text-gray-400 hover:text-primary dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"View Details",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"visibility"})}),g.jsx("button",{onClick:r=>{r.stopPropagation(),(e=>{v(e),y(!0)})(e)},className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"delete_outline"})})]})}];return g.jsxs(g.Fragment,{children:[g.jsx(gr,{}),g.jsx(ur,{search:i.search,status:i.status,projectId:i.project_id,sortBy:i.sort,sortOrder:i.order,projects:t,onSearchChange:e=>{c(r=>o(n({},r),{search:e})),x(e=>o(n({},e),{currentPage:1}))},onStatusChange:e=>{c(r=>o(n({},r),{status:e})),x(e=>o(n({},e),{currentPage:1}))},onProjectChange:e=>{c(r=>o(n({},r),{project_id:e})),x(e=>o(n({},e),{currentPage:1}))},onSort:(e,r)=>{c(t=>o(n({},t),{sort:e||t.sort,order:r||t.order})),x(e=>o(n({},e),{currentPage:1}))}}),s?g.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:g.jsx("p",{children:"Loading submissions..."})}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"bg-white dark:bg-card-dark rounded-xl shadow-soft border border-gray-100 dark:border-gray-700 overflow-hidden",children:g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left border-collapse",children:[g.jsx("thead",{children:g.jsx("tr",{className:"bg-gray-50 dark:bg-gray-800/50 border-b border-gray-100 dark:border-gray-700 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:N.map((e,r)=>g.jsx("th",{className:`px-6 py-4 ${e.width?`w-${e.width}`:""} ${"center"===e.align?"text-center":"right"===e.align?"text-right":""}`,children:e.header},e.key||r))})}),g.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:0===e.length?g.jsx("tr",{children:g.jsx("td",{colSpan:N.length,className:"px-6 py-12 text-center",children:g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No submissions found"})})}):e.map((e,r)=>g.jsx("tr",{className:"group transition-colors hover:bg-gray-50 dark:hover:bg-gray-800/50 cursor-pointer",onClick:()=>k(e),children:N.map((t,a)=>g.jsx("td",{className:"px-6 py-4 align-middle "+("center"===t.align?"text-center":"right"===t.align?"text-right":""),children:t.render?t.render(e,r):e[t.key]||"-"},t.key||a))},e.id||r))})]})})}),g.jsx(Fe,{currentPage:u.currentPage,totalPages:u.totalPages,totalItems:u.totalItems,itemsPerPage:u.itemsPerPage,itemName:"Submissions",onPageChange:e=>{x(r=>o(n({},r),{currentPage:e}))}})]}),g.jsx(xr,{isOpen:p,onClose:()=>{h(!1),v(null)},submission:f,onUpdate:()=>{j()}}),g.jsx(pr,{isOpen:b,onClose:()=>{y(!1),v(null)},submission:f,onSuccess:()=>{j()}})]})},br=({className:e=""})=>g.jsx("header",{className:`mb-8 flex flex-col md:flex-row md:items-end justify-between gap-4 ${e}`,children:g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Newsletter Subscriptions"}),g.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Manage newsletter subscriptions and subscriber list."})]})}),yr=({search:e="",status:r="all",sortBy:t="subscribed_at",sortOrder:a="desc",onSearchChange:s,onStatusChange:l,onSort:i,className:n=""})=>{const[o,d]=m.useState(!1),c=m.useRef(null);m.useEffect(()=>{const e=e=>{c.current&&!c.current.contains(e.target)&&d(!1)};return o&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[o]);const u=[{value:"subscribed_at",label:"Subscription Date"},{value:"email",label:"Email"},{value:"status",label:"Status"},{value:"created_at",label:"Date Created"}];return g.jsxs("div",{className:`mb-6 flex flex-col md:flex-row gap-4 ${n}`,children:[g.jsx("div",{className:"flex-1",children:g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400",children:g.jsx("span",{className:"material-symbols-outlined text-lg",children:"search"})}),g.jsx("input",{type:"text",value:e,onChange:e=>s(e.target.value),placeholder:"Search by email...",className:"w-full py-2 pl-10 pr-4 text-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-gray-700 dark:text-gray-200 placeholder-gray-400 dark:placeholder-gray-500"})]})}),g.jsx("div",{className:"flex gap-2",children:g.jsxs("select",{value:r,onChange:e=>l(e.target.value),className:"px-4 py-2 text-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-gray-700 dark:text-gray-200",children:[g.jsx("option",{value:"all",children:"All Status"}),g.jsx("option",{value:"active",children:"Active"}),g.jsx("option",{value:"unsubscribed",children:"Unsubscribed"})]})}),g.jsxs("div",{className:"relative",ref:c,children:[g.jsxs("button",{onClick:()=>d(!o),className:"px-4 py-2 text-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[g.jsx("span",{className:"material-symbols-outlined text-lg",children:"sort"}),g.jsx("span",{children:(()=>{const e=u.find(e=>e.value===t);return e?e.label:"Sort"})()}),g.jsx("span",{className:"material-symbols-outlined text-sm",children:"asc"===a?"arrow_upward":"arrow_downward"}),g.jsx("span",{className:"material-symbols-outlined text-sm",children:o?"expand_less":"expand_more"})]}),o&&g.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50",children:[g.jsxs("div",{className:"p-2 border-b border-gray-200 dark:border-gray-700",children:[g.jsx("div",{className:"px-3 py-1.5 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Sort By"}),u.map(e=>g.jsxs("button",{onClick:()=>{return r=e.value,i(r,a),void d(!1);var r},className:"w-full text-left px-3 py-2 text-sm rounded-md transition-colors flex items-center justify-between "+(t===e.value?"bg-primary/10 text-primary font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:[g.jsx("span",{children:e.label}),t===e.value&&g.jsx("span",{className:"material-symbols-outlined text-sm",children:"check"})]},e.value))]}),g.jsxs("div",{className:"p-2",children:[g.jsx("div",{className:"px-3 py-1.5 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Order"}),[{value:"asc",label:"Ascending",icon:"arrow_upward"},{value:"desc",label:"Descending",icon:"arrow_downward"}].map(e=>g.jsxs("button",{onClick:()=>{return r=e.value,void i(t,r);var r},className:"w-full text-left px-3 py-2 text-sm rounded-md transition-colors flex items-center justify-between "+(a===e.value?"bg-primary/10 text-primary font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"material-symbols-outlined text-sm",children:e.icon}),g.jsx("span",{children:e.label})]}),a===e.value&&g.jsx("span",{className:"material-symbols-outlined text-sm",children:"check"})]},e.value))]})]})]})]})},fr="https://codelancelb.com/api/v1",vr={subscribe:e=>d(void 0,null,function*(){try{return(yield N.post(`${fr}/newsletter/subscribe`,{email:e})).data}catch(r){throw r}}),getSubscriptions:(...e)=>d(void 0,[...e],function*(e={}){try{const r=localStorage.getItem("auth_token");return(yield N.get(`${fr}/admin/newsletter-subscriptions`,{params:{page:e.page||1,per_page:e.per_page||10,search:e.search||"",status:e.status||"all",sort:e.sort||"subscribed_at",order:e.order||"desc"},headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw r}}),getSubscription:e=>d(void 0,null,function*(){try{const r=localStorage.getItem("auth_token");return(yield N.get(`${fr}/admin/newsletter-subscriptions/${e}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw r}}),updateSubscription:(e,r)=>d(void 0,null,function*(){try{const t=localStorage.getItem("auth_token");return(yield N.put(`${fr}/admin/newsletter-subscriptions/${e}`,r,{headers:{Authorization:`Bearer ${t}`}})).data}catch(t){throw t}}),deleteSubscription:e=>d(void 0,null,function*(){try{const r=localStorage.getItem("auth_token");return(yield N.delete(`${fr}/admin/newsletter-subscriptions/${e}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw r}})},jr=({isOpen:e,onClose:r,subscription:t=null,onUpdate:a})=>{const[s,l]=m.useState({status:"active",admin_notes:""}),[i,c]=m.useState({}),[u,x]=m.useState(!1);m.useEffect(()=>{t&&l({status:t.status||"active",admin_notes:t.adminNotes||t.admin_notes||""}),c({})},[t,e]);const p=(e,r)=>{l(t=>o(n({},t),{[e]:r})),i[e]&&c(r=>{const t=n({},r);return delete t[e],t})},h=e=>d(void 0,null,function*(){var l,i,n,o;e.preventDefault(),x(!0);try{yield vr.updateSubscription(t.id,s),a&&a(),r()}catch(d){c({submit:(null==(i=null==(l=d.response)?void 0:l.data)?void 0:i.message)||(null==(o=null==(n=d.response)?void 0:n.data)?void 0:o.error)||d.message||"Failed to update subscription. Please try again."})}finally{x(!1)}}),b=m.useCallback(()=>{l({status:"active",admin_notes:""}),c({}),r()},[r]);return m.useEffect(()=>{const r=r=>{"Escape"===r.key&&e&&b()};return e&&(document.addEventListener("keydown",r),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",r),document.body.style.overflow="unset"}},[e,b]),e&&t?g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",onClick:e=>e.target===e.currentTarget&&b(),children:g.jsxs("div",{className:"relative w-full max-w-2xl transform overflow-hidden rounded-2xl bg-white dark:bg-[#1a2e26] shadow-2xl transition-all border border-gray-100 dark:border-gray-800 max-h-[90vh] flex flex-col",onClick:e=>e.stopPropagation(),children:[g.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 dark:border-gray-800 px-6 py-5",children:[g.jsx("h3",{className:"text-xl font-bold text-[#111816] dark:text-white",children:"Newsletter Subscription Details"}),g.jsx("button",{onClick:b,className:"flex h-8 w-8 items-center justify-center rounded-full text-gray-400 hover:bg-gray-100 hover:text-gray-500 dark:hover:bg-[#10221c] dark:hover:text-gray-300 focus:outline-none transition-colors",type:"button",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"close"})})]}),g.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar px-6 py-6",children:g.jsxs("form",{onSubmit:h,className:"space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email Address"}),g.jsx("div",{className:"px-4 py-3 bg-gray-50 dark:bg-[#10221c] rounded-lg text-gray-900 dark:text-gray-100",children:t.email||"N/A"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Subscribed At"}),g.jsx("div",{className:"px-4 py-3 bg-gray-50 dark:bg-[#10221c] rounded-lg text-gray-900 dark:text-gray-100",children:t.subscribedAt||t.subscribed_at?new Date(t.subscribedAt||t.subscribed_at).toLocaleString():"N/A"})]}),t.unsubscribedAt||t.unsubscribed_at?g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Unsubscribed At"}),g.jsx("div",{className:"px-4 py-3 bg-gray-50 dark:bg-[#10221c] rounded-lg text-gray-900 dark:text-gray-100",children:new Date(t.unsubscribedAt||t.unsubscribed_at).toLocaleString()})]}):null]}),g.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6 space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Status"}),g.jsxs("select",{className:"block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5",value:s.status,onChange:e=>p("status",e.target.value),children:[g.jsx("option",{value:"active",children:"Active"}),g.jsx("option",{value:"unsubscribed",children:"Unsubscribed"})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Admin Notes"}),g.jsx("textarea",{className:"block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5 resize-none",rows:"4",value:s.admin_notes,onChange:e=>p("admin_notes",e.target.value),placeholder:"Add internal notes about this subscription..."})]})]}),i.submit&&g.jsx("div",{className:"rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 p-3",children:g.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:i.submit})})]})}),g.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-gray-100 dark:border-gray-800 bg-gray-50 dark:bg-[#152721] px-6 py-4",children:[g.jsx("button",{onClick:b,disabled:u,className:"rounded-lg bg-white dark:bg-[#10221c] border border-gray-300 dark:border-gray-600 px-5 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-200 shadow-sm hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",type:"button",children:"Close"}),g.jsx("button",{onClick:h,disabled:u,className:"rounded-lg bg-primary px-5 py-2.5 text-sm font-bold text-[#111816] shadow-sm hover:bg-[#0eb37d] focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",type:"submit",children:u?g.jsxs("span",{className:"flex items-center",children:[g.jsx("span",{className:"material-symbols-outlined animate-spin mr-2",children:"refresh"}),"Updating..."]}):"Update Status"})]})]})}):null},kr=({isOpen:e,onClose:r,subscription:t=null,onSuccess:a})=>{const[s,l]=m.useState(!1),[i,n]=m.useState(null);m.useEffect(()=>{e||(l(!1),n(null))},[e]),m.useEffect(()=>{const r=r=>{"Escape"===r.key&&e&&o()};return e&&(document.addEventListener("keydown",r),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",r),document.body.style.overflow="unset"}},[e]);const o=m.useCallback(()=>{n(null),l(!1),r()},[r]);if(!e||!t)return null;const c=t.email||"this subscription";return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",onClick:e=>{e.target===e.currentTarget&&o()},children:g.jsxs("div",{className:"relative w-full max-w-md transform overflow-hidden rounded-2xl bg-white dark:bg-[#1a2e26] shadow-2xl transition-all border border-gray-100 dark:border-gray-800",onClick:e=>e.stopPropagation(),children:[g.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 dark:border-gray-800 px-6 py-5",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-red-100 dark:bg-red-900/20",children:g.jsx("span",{className:"material-symbols-outlined text-red-600 dark:text-red-400 text-xl",children:"warning"})}),g.jsx("h3",{className:"text-xl font-bold text-[#111816] dark:text-white",children:"Delete Subscription"})]}),g.jsx("button",{onClick:o,disabled:s,className:"flex h-8 w-8 items-center justify-center rounded-full text-gray-400 hover:bg-gray-100 hover:text-gray-500 dark:hover:bg-[#10221c] dark:hover:text-gray-300 focus:outline-none transition-colors disabled:opacity-50 disabled:cursor-not-allowed",type:"button",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"close"})})]}),g.jsxs("div",{className:"px-6 py-6",children:[g.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:["Are you sure you want to delete the subscription for ",g.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:['"',c,'"']}),"? This action cannot be undone."]}),i&&g.jsx("div",{className:"rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 p-3 mb-4",children:g.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:i})}),g.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/10 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("span",{className:"material-symbols-outlined text-yellow-600 dark:text-yellow-400 text-lg",children:"info"}),g.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-300",children:"This will permanently remove the subscription from your newsletter list. All associated data will be deleted."})]})})]}),g.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-gray-100 dark:border-gray-800 bg-gray-50 dark:bg-[#152721] px-6 py-4",children:[g.jsx("button",{onClick:o,disabled:s,className:"rounded-lg bg-white dark:bg-[#10221c] border border-gray-300 dark:border-gray-600 px-5 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-200 shadow-sm hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",type:"button",children:"Cancel"}),g.jsx("button",{onClick:()=>d(void 0,null,function*(){var e,r;if(t&&t.id){l(!0),n(null);try{yield vr.deleteSubscription(t.id),a&&a(),o()}catch(s){n((null==(r=null==(e=s.response)?void 0:e.data)?void 0:r.message)||"Failed to delete subscription. Please try again.")}finally{l(!1)}}else n("Subscription information is missing")}),disabled:s,className:"rounded-lg bg-red-600 px-5 py-2.5 text-sm font-bold text-white shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",type:"button",children:s?g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"material-symbols-outlined animate-spin text-sm",children:"refresh"}),"Deleting..."]}):g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"material-symbols-outlined text-sm",children:"delete_outline"}),"Delete Subscription"]})})]})]})})},Nr=()=>{const[e,r]=m.useState([]),[t,a]=m.useState(!0),[s,l]=m.useState({search:"",status:"all",sort:"subscribed_at",order:"desc"}),[i,c]=m.useState({currentPage:1,totalPages:1,totalItems:0,itemsPerPage:10}),[u,x]=m.useState(!1),[p,h]=m.useState(!1),[b,y]=m.useState(null),f=()=>d(void 0,null,function*(){try{a(!0);const e=yield vr.getSubscriptions({page:i.currentPage,per_page:i.itemsPerPage,search:s.search,status:s.status,sort:s.sort,order:s.order});r(e.data||e.subscriptions||[]),c(r=>o(n({},r),{totalPages:e.total_pages||e.totalPages||1,totalItems:e.total||e.totalItems||0}))}catch(e){r([]),c(e=>o(n({},e),{totalPages:1,totalItems:0}))}finally{a(!1)}});m.useEffect(()=>{f()},[i.currentPage,s]);const v=e=>{y(e),x(!0)},j=[{key:"email",header:"Email",render:e=>g.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:e.email||"N/A"})},{key:"status",header:"Status",align:"center",render:e=>{const r=e.status||"active",t={active:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300",unsubscribed:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"};return g.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${t[r]||t.active}`,children:r.charAt(0).toUpperCase()+r.slice(1)})}},{key:"subscribed_at",header:"Subscribed",render:e=>g.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:e.subscribedAt||e.subscribed_at?new Date(e.subscribedAt||e.subscribed_at).toLocaleDateString():"N/A"})},{key:"actions",header:"Actions",align:"right",render:e=>g.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[g.jsx("button",{onClick:r=>{r.stopPropagation(),v(e)},className:"p-2 text-gray-400 hover:text-primary dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"View Details",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"visibility"})}),g.jsx("button",{onClick:r=>{r.stopPropagation(),(e=>{y(e),h(!0)})(e)},className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"delete_outline"})})]})}];return g.jsxs(g.Fragment,{children:[g.jsx(br,{}),g.jsx(yr,{search:s.search,status:s.status,sortBy:s.sort,sortOrder:s.order,onSearchChange:e=>{l(r=>o(n({},r),{search:e})),c(e=>o(n({},e),{currentPage:1}))},onStatusChange:e=>{l(r=>o(n({},r),{status:e})),c(e=>o(n({},e),{currentPage:1}))},onSort:(e,r)=>{l(t=>o(n({},t),{sort:e||t.sort,order:r||t.order})),c(e=>o(n({},e),{currentPage:1}))}}),t?g.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:g.jsx("p",{children:"Loading subscriptions..."})}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"bg-white dark:bg-card-dark rounded-xl shadow-soft border border-gray-100 dark:border-gray-700 overflow-hidden",children:g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left border-collapse",children:[g.jsx("thead",{children:g.jsx("tr",{className:"bg-gray-50 dark:bg-gray-800/50 border-b border-gray-100 dark:border-gray-700 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:j.map((e,r)=>g.jsx("th",{className:`px-6 py-4 ${e.width?`w-${e.width}`:""} ${"center"===e.align?"text-center":"right"===e.align?"text-right":""}`,children:e.header},e.key||r))})}),g.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:0===e.length?g.jsx("tr",{children:g.jsx("td",{colSpan:j.length,className:"px-6 py-12 text-center",children:g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No subscriptions found"})})}):e.map((e,r)=>g.jsx("tr",{className:"group transition-colors hover:bg-gray-50 dark:hover:bg-gray-800/50 cursor-pointer",onClick:()=>v(e),children:j.map((t,a)=>g.jsx("td",{className:"px-6 py-4 align-middle "+("center"===t.align?"text-center":"right"===t.align?"text-right":""),children:t.render?t.render(e,r):e[t.key]||"-"},t.key||a))},e.id||r))})]})})}),g.jsx(Fe,{currentPage:i.currentPage,totalPages:i.totalPages,totalItems:i.totalItems,itemsPerPage:i.itemsPerPage,itemName:"Subscriptions",onPageChange:e=>{c(r=>o(n({},r),{currentPage:e}))}})]}),g.jsx(jr,{isOpen:u,onClose:()=>{x(!1),y(null)},subscription:b,onUpdate:()=>{f()}}),g.jsx(kr,{isOpen:p,onClose:()=>{h(!1),y(null)},subscription:b,onSuccess:()=>{f()}})]})},wr=({onAddNew:e,className:r=""})=>g.jsxs("header",{className:`mb-8 flex flex-col md:flex-row md:items-end justify-between gap-4 ${r}`,children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"About Us Content"}),g.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:'Manage the "Who We Are" section content on the home page.'})]}),g.jsx("div",{className:"flex items-center gap-3",children:g.jsxs("button",{onClick:e,className:"bg-black hover:bg-gray-800 dark:bg-white dark:text-black dark:hover:bg-gray-200 text-white font-semibold rounded-xl text-sm px-6 py-3 shadow-lg shadow-gray-200 dark:shadow-none transition-all transform hover:-translate-y-0.5 flex items-center",children:[g.jsx("span",{className:"material-symbols-outlined mr-2",children:"add_circle"}),"Add New Content"]})})]}),_r=({search:e="",isActive:r=null,sortBy:t="order",sortOrder:a="asc",onSearchChange:s,onActiveStatusChange:l,onSort:i,className:n=""})=>{const[o,d]=m.useState(!1),c=m.useRef(null);m.useEffect(()=>{const e=e=>{c.current&&!c.current.contains(e.target)&&d(!1)};return o&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[o]);const u=[{value:"order",label:"Display Order"},{value:"title",label:"Title"},{value:"created_at",label:"Date Created"},{value:"updated_at",label:"Last Updated"}];return g.jsxs("div",{className:`mb-6 flex flex-col md:flex-row gap-4 ${n}`,children:[g.jsx("div",{className:"flex-1",children:g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400",children:g.jsx("span",{className:"material-symbols-outlined text-lg",children:"search"})}),g.jsx("input",{type:"text",value:e,onChange:e=>s(e.target.value),placeholder:"Search content...",className:"w-full py-2 pl-10 pr-4 text-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-gray-700 dark:text-gray-200 placeholder-gray-400 dark:placeholder-gray-500"})]})}),g.jsx("div",{className:"flex gap-2",children:g.jsxs("select",{value:null===r?"all":r?"active":"inactive",onChange:e=>{const r=e.target.value;l("all"===r?null:"active"===r)},className:"px-4 py-2 text-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-gray-700 dark:text-gray-200",children:[g.jsx("option",{value:"all",children:"All Status"}),g.jsx("option",{value:"active",children:"Active"}),g.jsx("option",{value:"inactive",children:"Inactive"})]})}),g.jsxs("div",{className:"relative",ref:c,children:[g.jsxs("button",{onClick:()=>d(!o),className:"px-4 py-2 text-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[g.jsx("span",{className:"material-symbols-outlined text-lg",children:"sort"}),g.jsx("span",{children:(()=>{const e=u.find(e=>e.value===t);return e?e.label:"Sort"})()}),g.jsx("span",{className:"material-symbols-outlined text-sm",children:"asc"===a?"arrow_upward":"arrow_downward"}),g.jsx("span",{className:"material-symbols-outlined text-sm",children:o?"expand_less":"expand_more"})]}),o&&g.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50",children:[g.jsxs("div",{className:"p-2 border-b border-gray-200 dark:border-gray-700",children:[g.jsx("div",{className:"px-3 py-1.5 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Sort By"}),u.map(e=>g.jsxs("button",{onClick:()=>{return r=e.value,i(r,a),void d(!1);var r},className:"w-full text-left px-3 py-2 text-sm rounded-md transition-colors flex items-center justify-between "+(t===e.value?"bg-primary/10 text-primary font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:[g.jsx("span",{children:e.label}),t===e.value&&g.jsx("span",{className:"material-symbols-outlined text-sm",children:"check"})]},e.value))]}),g.jsxs("div",{className:"p-2",children:[g.jsx("div",{className:"px-3 py-1.5 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Order"}),[{value:"asc",label:"Ascending",icon:"arrow_upward"},{value:"desc",label:"Descending",icon:"arrow_downward"}].map(e=>g.jsxs("button",{onClick:()=>{return r=e.value,void i(t,r);var r},className:"w-full text-left px-3 py-2 text-sm rounded-md transition-colors flex items-center justify-between "+(a===e.value?"bg-primary/10 text-primary font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"material-symbols-outlined text-sm",children:e.icon}),g.jsx("span",{children:e.label})]}),a===e.value&&g.jsx("span",{className:"material-symbols-outlined text-sm",children:"check"})]},e.value))]})]})]})]})},Pr=({isOpen:e,onClose:r,content:t=null,onSuccess:a})=>{const[s,l]=m.useState({title:"",description:"",stats:[{value:"",label:""},{value:"",label:""},{value:"",label:""}],primary_button_text:"",secondary_button_text:"",code_snippet:{mission:"Excellence",stack:["AI","Cloud"],deliver:!0},is_active:!0,order:0}),[i,c]=m.useState(""),[u,x]=m.useState({}),[p,h]=m.useState(!1);m.useEffect(()=>{t?(l({title:t.title||"",description:t.description||"",stats:Array.isArray(t.stats)&&t.stats.length>0?t.stats:[{value:"",label:""},{value:"",label:""},{value:"",label:""}],primary_button_text:t.primaryButtonText||t.primary_button_text||"",secondary_button_text:t.secondaryButtonText||t.secondary_button_text||"",code_snippet:t.codeSnippet||t.code_snippet||{mission:"Excellence",stack:["AI","Cloud"],deliver:!0},is_active:void 0!==t.isActive?t.isActive:void 0===t.is_active||t.is_active,order:t.order||0}),c("")):(l({title:"",description:"",stats:[{value:"",label:""},{value:"",label:""},{value:"",label:""}],primary_button_text:"",secondary_button_text:"",code_snippet:{mission:"Excellence",stack:["AI","Cloud"],deliver:!0},is_active:!0,order:0}),c("")),x({})},[t,e]);const b=(e,r)=>{l(t=>o(n({},t),{[e]:r})),u[e]&&x(r=>{const t=n({},r);return delete t[e],t})},y=(e,r,t)=>{l(a=>{const s=[...a.stats];return s[e]=o(n({},s[e]),{[r]:t}),o(n({},a),{stats:s})})},f=(e,r)=>{l(t=>o(n({},t),{code_snippet:o(n({},t.code_snippet),{[e]:r})}))},v=()=>{i.trim()&&(l(e=>o(n({},e),{code_snippet:o(n({},e.code_snippet),{stack:[...e.code_snippet.stack,i.trim()]})})),c(""))},j=e=>d(void 0,null,function*(){var l,i,c,m,g,u;if(e.preventDefault(),(()=>{const e={};return s.title.trim()||(e.title="Title is required"),s.description.trim()||(e.description="Description is required"),s.stats&&0!==s.stats.length?s.stats.forEach((r,t)=>{r.value.trim()||(e[`stat_${t}_value`]="Stat value is required"),r.label.trim()||(e[`stat_${t}_label`]="Stat label is required")}):e.stats="At least one stat is required",s.code_snippet.mission.trim()||(e.code_mission="Code snippet mission is required"),s.code_snippet.stack&&0!==s.code_snippet.stack.length||(e.code_stack="At least one stack item is required"),x(e),0===Object.keys(e).length})()){h(!0);try{const e=o(n({},s),{stats:s.stats.filter(e=>e.value.trim()&&e.label.trim())});t?yield(g=t.id,u=e,d(void 0,null,function*(){try{const e=localStorage.getItem("auth_token");return(yield N.put(`${U}/admin/about-us-content/${g}`,u,{headers:{Authorization:`Bearer ${e}`}})).data}catch(e){throw e}})):yield(e=>d(void 0,null,function*(){try{const r=localStorage.getItem("auth_token");return(yield N.post(`${U}/admin/about-us-content`,e,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw r}}))(e),a&&a(),r()}catch(p){x({submit:(null==(i=null==(l=p.response)?void 0:l.data)?void 0:i.message)||(null==(m=null==(c=p.response)?void 0:c.data)?void 0:m.error)||p.message||"Failed to save content. Please try again."})}finally{h(!1)}}}),k=m.useCallback(()=>{l({title:"",description:"",stats:[{value:"",label:""},{value:"",label:""},{value:"",label:""}],primary_button_text:"",secondary_button_text:"",code_snippet:{mission:"Excellence",stack:["AI","Cloud"],deliver:!0},is_active:!0,order:0}),c(""),x({}),r()},[r]);return m.useEffect(()=>{const r=r=>{"Escape"===r.key&&e&&k()};return e&&(document.addEventListener("keydown",r),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",r),document.body.style.overflow="unset"}},[e,k]),e?g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",onClick:e=>e.target===e.currentTarget&&k(),children:g.jsxs("div",{className:"relative w-full max-w-4xl transform overflow-hidden rounded-2xl bg-white dark:bg-[#1a2e26] shadow-2xl transition-all border border-gray-100 dark:border-gray-800 max-h-[90vh] flex flex-col",onClick:e=>e.stopPropagation(),children:[g.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 dark:border-gray-800 px-6 py-5",children:[g.jsx("h3",{className:"text-xl font-bold text-[#111816] dark:text-white",children:t?"Edit About Us Content":"Add New About Us Content"}),g.jsx("button",{onClick:k,className:"flex h-8 w-8 items-center justify-center rounded-full text-gray-400 hover:bg-gray-100 hover:text-gray-500 dark:hover:bg-[#10221c] dark:hover:text-gray-300 focus:outline-none transition-colors",type:"button",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"close"})})]}),g.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar px-6 py-6",children:g.jsxs("form",{onSubmit:j,className:"space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Title ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsx("input",{className:`block w-full rounded-lg border ${u.title?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5`,value:s.title,onChange:e=>b("title",e.target.value),placeholder:"e.g., Who We Are"}),u.title&&g.jsx("p",{className:"text-sm text-red-500",children:u.title})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Description ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsx("textarea",{className:`block w-full rounded-lg border ${u.description?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5 resize-none`,rows:"6",value:s.description,onChange:e=>b("description",e.target.value),placeholder:"Enter the description text..."}),u.description&&g.jsx("p",{className:"text-sm text-red-500",children:u.description})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Statistics ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsxs("div",{className:"space-y-3",children:[s.stats.map((e,r)=>g.jsxs("div",{className:"grid grid-cols-2 gap-3 items-end",children:[g.jsxs("div",{children:[g.jsx("input",{className:`block w-full rounded-lg border ${u[`stat_${r}_value`]?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5`,placeholder:"Value (e.g., 150+)",value:e.value,onChange:e=>y(r,"value",e.target.value)}),u[`stat_${r}_value`]&&g.jsx("p",{className:"text-xs text-red-500 mt-1",children:u[`stat_${r}_value`]})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{className:`block w-full rounded-lg border ${u[`stat_${r}_label`]?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5`,placeholder:"Label (e.g., Projects Delivered)",value:e.label,onChange:e=>y(r,"label",e.target.value)}),s.stats.length>1&&g.jsx("button",{type:"button",onClick:()=>(e=>{l(r=>o(n({},r),{stats:r.stats.filter((r,t)=>t!==e)}))})(r),className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"delete_outline"})})]})]},r)),g.jsxs("button",{type:"button",onClick:()=>{l(e=>o(n({},e),{stats:[...e.stats,{value:"",label:""}]}))},className:"text-sm text-primary hover:text-[#0eb37d] font-medium flex items-center gap-1",children:[g.jsx("span",{className:"material-symbols-outlined text-lg",children:"add_circle"}),"Add Stat"]})]}),u.stats&&g.jsx("p",{className:"text-sm text-red-500",children:u.stats})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Primary Button Text"}),g.jsx("input",{className:"block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5",value:s.primary_button_text,onChange:e=>b("primary_button_text",e.target.value),placeholder:"e.g., Our Mission"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Secondary Button Text"}),g.jsx("input",{className:"block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5",value:s.secondary_button_text,onChange:e=>b("secondary_button_text",e.target.value),placeholder:"e.g., View Team"})]})]}),g.jsxs("div",{className:"space-y-4 border-t border-gray-200 dark:border-gray-700 pt-6",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Code Snippet"}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsxs("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:["Mission ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsx("input",{className:`block w-full rounded-lg border ${u.code_mission?"border-red-500":"border-gray-300 dark:border-gray-600"} bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5`,value:s.code_snippet.mission,onChange:e=>f("mission",e.target.value),placeholder:"e.g., Excellence"}),u.code_mission&&g.jsx("p",{className:"text-xs text-red-500",children:u.code_mission})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400",children:["Stack ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsxs("div",{className:"flex gap-2 mb-2",children:[g.jsx("input",{className:"block flex-1 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5",placeholder:"Add stack item (e.g., AI)",value:i,onChange:e=>c(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),v())}}),g.jsx("button",{type:"button",onClick:v,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-[#0eb37d] transition-colors",children:g.jsx("span",{className:"material-symbols-outlined",children:"add"})})]}),g.jsx("div",{className:"flex flex-wrap gap-2",children:s.code_snippet.stack.map((e,r)=>g.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary/10 text-primary rounded-lg text-sm",children:[e,g.jsx("button",{type:"button",onClick:()=>(e=>{l(r=>o(n({},r),{code_snippet:o(n({},r.code_snippet),{stack:r.code_snippet.stack.filter((r,t)=>t!==e)})}))})(r),className:"text-primary hover:text-red-500",children:g.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})})]},r))}),u.code_stack&&g.jsx("p",{className:"text-xs text-red-500",children:u.code_stack})]}),g.jsxs("div",{className:"flex items-center",children:[g.jsx("input",{type:"checkbox",id:"code_deliver",checked:s.code_snippet.deliver,onChange:e=>f("deliver",e.target.checked),className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}),g.jsx("label",{htmlFor:"code_deliver",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Deliver (true/false)"})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 border-t border-gray-200 dark:border-gray-700 pt-6",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("input",{type:"checkbox",id:"is_active",checked:s.is_active,onChange:e=>b("is_active",e.target.checked),className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}),g.jsx("label",{htmlFor:"is_active",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Active"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Display Order"}),g.jsx("input",{className:"block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-[#10221c] text-gray-900 dark:text-gray-100 shadow-sm focus:border-primary focus:ring-primary sm:text-sm p-2.5",type:"number",min:"0",value:s.order,onChange:e=>b("order",parseInt(e.target.value)||0)})]})]}),u.submit&&g.jsx("div",{className:"rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 p-3",children:g.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:u.submit})})]})}),g.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-gray-100 dark:border-gray-800 bg-gray-50 dark:bg-[#152721] px-6 py-4",children:[g.jsx("button",{onClick:k,disabled:p,className:"rounded-lg bg-white dark:bg-[#10221c] border border-gray-300 dark:border-gray-600 px-5 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-200 shadow-sm hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",type:"button",children:"Cancel"}),g.jsx("button",{onClick:j,disabled:p,className:"rounded-lg bg-primary px-5 py-2.5 text-sm font-bold text-[#111816] shadow-sm hover:bg-[#0eb37d] focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",type:"submit",children:p?g.jsxs("span",{className:"flex items-center",children:[g.jsx("span",{className:"material-symbols-outlined animate-spin mr-2",children:"refresh"}),t?"Updating...":"Adding..."]}):t?"Update Content":"Add Content"})]})]})}):null},Sr=({isOpen:e,onClose:r,content:t=null,onSuccess:a})=>{const[s,l]=m.useState(!1),[i,n]=m.useState(null);m.useEffect(()=>{e||(l(!1),n(null))},[e]),m.useEffect(()=>{const r=r=>{"Escape"===r.key&&e&&o()};return e&&(document.addEventListener("keydown",r),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",r),document.body.style.overflow="unset"}},[e]);const o=m.useCallback(()=>{n(null),l(!1),r()},[r]);if(!e||!t)return null;const c=t.title||"this content";return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",onClick:e=>{e.target===e.currentTarget&&o()},children:g.jsxs("div",{className:"relative w-full max-w-md transform overflow-hidden rounded-2xl bg-white dark:bg-[#1a2e26] shadow-2xl transition-all border border-gray-100 dark:border-gray-800",onClick:e=>e.stopPropagation(),children:[g.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 dark:border-gray-800 px-6 py-5",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-red-100 dark:bg-red-900/20",children:g.jsx("span",{className:"material-symbols-outlined text-red-600 dark:text-red-400 text-xl",children:"warning"})}),g.jsx("h3",{className:"text-xl font-bold text-[#111816] dark:text-white",children:"Delete Content"})]}),g.jsx("button",{onClick:o,disabled:s,className:"flex h-8 w-8 items-center justify-center rounded-full text-gray-400 hover:bg-gray-100 hover:text-gray-500 dark:hover:bg-[#10221c] dark:hover:text-gray-300 focus:outline-none transition-colors disabled:opacity-50 disabled:cursor-not-allowed",type:"button",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"close"})})]}),g.jsxs("div",{className:"px-6 py-6",children:[g.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:["Are you sure you want to delete the content ",g.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:['"',c,'"']}),"? This action cannot be undone."]}),i&&g.jsx("div",{className:"rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 p-3 mb-4",children:g.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:i})}),g.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/10 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("span",{className:"material-symbols-outlined text-yellow-600 dark:text-yellow-400 text-lg",children:"info"}),g.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-300",children:"This will permanently remove the content from your website. All associated data will be deleted."})]})})]}),g.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-gray-100 dark:border-gray-800 bg-gray-50 dark:bg-[#152721] px-6 py-4",children:[g.jsx("button",{onClick:o,disabled:s,className:"rounded-lg bg-white dark:bg-[#10221c] border border-gray-300 dark:border-gray-600 px-5 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-200 shadow-sm hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",type:"button",children:"Cancel"}),g.jsx("button",{onClick:()=>d(void 0,null,function*(){var e,r,s;if(t&&t.id){l(!0),n(null);try{yield(s=t.id,d(void 0,null,function*(){try{const e=localStorage.getItem("auth_token");return(yield N.delete(`${U}/admin/about-us-content/${s}`,{headers:{Authorization:`Bearer ${e}`}})).data}catch(i){throw i}})),a&&a(),o()}catch(c){n((null==(r=null==(e=c.response)?void 0:e.data)?void 0:r.message)||"Failed to delete content. Please try again.")}finally{l(!1)}}else n("Content information is missing")}),disabled:s,className:"rounded-lg bg-red-600 px-5 py-2.5 text-sm font-bold text-white shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",type:"button",children:s?g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"material-symbols-outlined animate-spin text-sm",children:"refresh"}),"Deleting..."]}):g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"material-symbols-outlined text-sm",children:"delete_outline"}),"Delete Content"]})})]})]})})},Cr=()=>{const[e,r]=m.useState([]),[t,a]=m.useState(!0),[s,l]=m.useState({search:"",is_active:null,sort:"order",order:"asc"}),[i,c]=m.useState({currentPage:1,totalPages:1,totalItems:0,itemsPerPage:10}),[u,x]=m.useState(!1),[p,h]=m.useState(!1),[b,y]=m.useState(null),f=()=>d(void 0,null,function*(){try{a(!0);const e=yield((...e)=>d(void 0,[...e],function*(e={}){try{const r=localStorage.getItem("auth_token");return(yield N.get(`${U}/admin/about-us-content`,{params:{page:e.page||1,per_page:e.per_page||10,search:e.search||"",is_active:e.is_active,sort:e.sort||"order",order:e.order||"asc"},headers:{Authorization:`Bearer ${r}`}})).data}catch(r){throw r}}))({page:i.currentPage,per_page:i.itemsPerPage,search:s.search,is_active:s.is_active,sort:s.sort,order:s.order});r(e.data||e.contents||[]),c(r=>o(n({},r),{totalPages:e.total_pages||e.totalPages||1,totalItems:e.total||e.totalItems||0}))}catch(e){r([]),c(e=>o(n({},e),{totalPages:1,totalItems:0}))}finally{a(!1)}});m.useEffect(()=>{f()},[i.currentPage,s]);const v=[{key:"title",header:"Title",render:e=>g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:e.title||"N/A"}),g.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 line-clamp-2",children:e.description||"No description"})]})},{key:"stats",header:"Stats",render:e=>{const r=Array.isArray(e.stats)?e.stats:[];return g.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:r.length>0?g.jsxs("div",{className:"flex flex-col gap-1",children:[r.slice(0,3).map((e,r)=>g.jsxs("span",{className:"text-xs",children:[e.value," - ",e.label]},r)),r.length>3&&g.jsxs("span",{className:"text-xs text-gray-400",children:["+",r.length-3," more"]})]}):"No stats"})}},{key:"status",header:"Status",align:"center",render:e=>{const r=void 0!==e.isActive?e.isActive:e.is_active;return g.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+(r?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"),children:r?"Active":"Inactive"})}},{key:"actions",header:"Actions",align:"right",render:e=>g.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[g.jsx("button",{onClick:r=>{r.stopPropagation(),(e=>{y(e),x(!0)})(e)},className:"p-2 text-gray-400 hover:text-primary dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Edit",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"edit_note"})}),g.jsx("button",{onClick:r=>{r.stopPropagation(),(e=>{y(e),h(!0)})(e)},className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"delete_outline"})})]})}];return g.jsxs(g.Fragment,{children:[g.jsx(wr,{onAddNew:()=>{y(null),x(!0)}}),g.jsx(_r,{search:s.search,isActive:s.is_active,sortBy:s.sort,sortOrder:s.order,onSearchChange:e=>{l(r=>o(n({},r),{search:e})),c(e=>o(n({},e),{currentPage:1}))},onActiveStatusChange:e=>{l(r=>o(n({},r),{is_active:e})),c(e=>o(n({},e),{currentPage:1}))},onSort:(e,r)=>{l(t=>o(n({},t),{sort:e||t.sort,order:r||t.order})),c(e=>o(n({},e),{currentPage:1}))}}),t?g.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:g.jsx("p",{children:"Loading contents..."})}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"bg-white dark:bg-card-dark rounded-xl shadow-soft border border-gray-100 dark:border-gray-700 overflow-hidden",children:g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left border-collapse",children:[g.jsx("thead",{children:g.jsx("tr",{className:"bg-gray-50 dark:bg-gray-800/50 border-b border-gray-100 dark:border-gray-700 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:v.map((e,r)=>g.jsx("th",{className:`px-6 py-4 ${e.width?`w-${e.width}`:""} ${"center"===e.align?"text-center":"right"===e.align?"text-right":""}`,children:e.header},e.key||r))})}),g.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:0===e.length?g.jsx("tr",{children:g.jsx("td",{colSpan:v.length,className:"px-6 py-12 text-center",children:g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No contents found"})})}):e.map((e,r)=>g.jsx("tr",{className:"group transition-colors hover:bg-gray-50 dark:hover:bg-gray-800/50",children:v.map((t,a)=>g.jsx("td",{className:"px-6 py-4 align-middle "+("center"===t.align?"text-center":"right"===t.align?"text-right":""),children:t.render?t.render(e,r):e[t.key]||"-"},t.key||a))},e.id||r))})]})})}),g.jsx(Fe,{currentPage:i.currentPage,totalPages:i.totalPages,totalItems:i.totalItems,itemsPerPage:i.itemsPerPage,itemName:"Contents",onPageChange:e=>{c(r=>o(n({},r),{currentPage:e}))}})]}),g.jsx(Pr,{isOpen:u,onClose:()=>{x(!1),y(null)},content:b,onSuccess:()=>{f()}}),g.jsx(Sr,{isOpen:p,onClose:()=>{h(!1),y(null)},content:b,onSuccess:()=>{f()}})]})},Ar=({profile:e,onPhotoUpload:r,onPhotoRemove:t,isUploading:a=!1})=>{const s=m.useRef(null),l=()=>{var e;null==(e=s.current)||e.click()},i=e.firstName&&e.lastName?`${e.firstName} ${e.lastName}`:e.name||"Administrator",n=e.photo||`https://ui-avatars.com/api/?name=${encodeURIComponent(i)}&background=195de6&color=fff&size=128`;return g.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark rounded-xl shadow-sm border border-slate-100 dark:border-slate-800 p-6",children:[g.jsxs("div",{className:"flex flex-col items-center gap-6",children:[g.jsxs("div",{className:"relative group cursor-pointer",onClick:l,children:[g.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full h-32 w-32 ring-4 ring-slate-50 dark:ring-slate-700 shadow-lg",style:{backgroundImage:`url(${n})`}}),g.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:g.jsx("span",{className:"material-symbols-outlined text-white",children:"photo_camera"})})]}),g.jsxs("div",{className:"flex flex-col items-center text-center",children:[g.jsx("h2",{className:"text-[#0e121b] dark:text-white text-xl font-bold leading-tight",children:i}),g.jsx("p",{className:"text-[#4e6797] dark:text-slate-400 text-sm font-medium mt-1",children:e.role||"Super Admin"}),e.memberSince&&g.jsxs("div",{className:"flex items-center gap-1 mt-3 px-3 py-1 rounded-full bg-slate-100 dark:bg-slate-700",children:[g.jsx("span",{className:"material-symbols-outlined text-[16px] text-slate-500 dark:text-slate-400",children:"calendar_month"}),g.jsxs("span",{className:"text-slate-500 dark:text-slate-400 text-xs font-medium",children:["Member since ",e.memberSince]})]})]}),g.jsxs("div",{className:"flex flex-col w-full gap-3",children:[g.jsxs("button",{type:"button",onClick:l,disabled:a,className:"flex w-full cursor-pointer items-center justify-center rounded-lg h-10 px-4 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-[#0e121b] dark:text-white text-sm font-bold transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[g.jsx("span",{className:"mr-2 material-symbols-outlined text-[18px]",children:"upload"}),a?"Uploading...":"Upload New Photo"]}),e.photo&&g.jsx("button",{type:"button",onClick:()=>{window.confirm("Are you sure you want to remove your profile photo?")&&t&&t()},disabled:a,className:"flex w-full cursor-pointer items-center justify-center rounded-lg h-10 px-4 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 text-sm font-bold transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Remove Photo"})]})]}),g.jsx("input",{ref:s,type:"file",accept:"image/png,image/jpeg,image/jpg,image/webp",onChange:e=>{var t;const a=null==(t=e.target.files)?void 0:t[0];if(a){if(!a.type.startsWith("image/"))return void alert("Please select an image file");if(a.size>5242880)return void alert("Image size must be less than 5MB");r&&r(a)}},className:"hidden"})]})},$r=({label:e,type:r="text",name:t,value:a,onChange:s,placeholder:l,icon:i,required:n=!1,error:o,className:d="",helpText:c})=>g.jsxs("label",{className:`flex flex-col gap-2 ${d}`,children:[g.jsxs("span",{className:"text-[#0e121b] dark:text-slate-200 text-sm font-medium",children:[e,n&&g.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),g.jsxs("div",{className:"relative",children:[i&&g.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 material-symbols-outlined text-slate-400 text-[20px]",children:i}),g.jsx("input",{type:r,name:t,value:a||"",onChange:e=>{s&&s(e)},placeholder:l,required:n,className:`form-input w-full rounded-lg border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-900 text-[#0e121b] dark:text-white h-11 ${i?"pl-11":"px-4"} pr-4 text-sm focus:border-primary focus:ring-primary shadow-sm placeholder:text-slate-400 ${o?"border-red-500":""}`})]}),o&&g.jsx("p",{className:"text-xs text-red-500",children:o}),c&&!o&&g.jsx("p",{className:"text-xs text-[#4e6797] dark:text-slate-400",children:c})]}),Er=({label:e,name:r,value:t,onChange:a,placeholder:s="••••••••",required:l=!1,error:i,className:n="",helpText:o})=>{const[d,c]=m.useState(!1);return g.jsxs("label",{className:`flex flex-col gap-2 ${n}`,children:[g.jsxs("span",{className:"text-[#0e121b] dark:text-slate-200 text-sm font-medium",children:[e,l&&g.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:d?"text":"password",name:r,value:t||"",onChange:e=>{a&&a(e)},placeholder:s,required:l,className:"form-input w-full rounded-lg border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-900 text-[#0e121b] dark:text-white h-11 px-4 pr-11 text-sm focus:border-primary focus:ring-primary shadow-sm placeholder:text-slate-400 "+(i?"border-red-500":"")}),g.jsx("button",{type:"button",onClick:()=>{c(!d)},className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:g.jsx("span",{className:"material-symbols-outlined text-[20px]",children:d?"visibility_off":"visibility"})})]}),i&&g.jsx("p",{className:"text-xs text-red-500",children:i}),o&&!i&&g.jsx("p",{className:"text-xs text-[#4e6797] dark:text-slate-400",children:o})]})},Dr="https://codelancelb.com/api/v1",Ir=e=>d(void 0,null,function*(){try{const r=localStorage.getItem("auth_token"),t=new FormData;return e.first_name&&t.append("first_name",e.first_name),e.last_name&&t.append("last_name",e.last_name),e.email&&t.append("email",e.email),e.job_title&&t.append("job_title",e.job_title),e.photo&&t.append("photo",e.photo),void 0!==e.remove_photo&&t.append("remove_photo",e.remove_photo?"1":"0"),(yield N.put(`${Dr}/admin/profile`,t,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"multipart/form-data"}})).data}catch(r){throw r}}),Tr=({isOpen:e=!1,onClose:r,title:t="Success!",message:a="Operation completed successfully.",className:s=""})=>(m.useEffect(()=>{if(e){const e=setTimeout(()=>{r()},2e3);return()=>clearTimeout(e)}},[e,r]),g.jsx(ke,{isOpen:e,onClose:r,maxWidth:"max-w-md",className:s,children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"w-16 h-16 bg-green-50 dark:bg-green-900/20 text-green-500 rounded-full flex items-center justify-center mx-auto mb-4 shadow-sm border border-green-100 dark:border-green-800",children:g.jsx("span",{className:"material-symbols-outlined text-3xl",children:"check_circle"})}),g.jsx("h4",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:t}),g.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm leading-relaxed mb-6",children:a}),g.jsx("button",{onClick:r,className:"w-full py-3 px-6 bg-primary hover:bg-[#0fb37d] text-white font-semibold rounded-xl transition-colors shadow-lg shadow-primary/25",children:"OK"})]})})),Fr=()=>{const e=c(),{user:r,refreshUser:t}=ue(),[a,s]=m.useState(!0),[l,i]=m.useState(!1),[u,x]=m.useState(!1),[p,h]=m.useState(!1),[b,y]=m.useState(""),[f,v]=m.useState({firstName:"",lastName:"",email:"",jobTitle:"",currentPassword:"",newPassword:"",confirmPassword:""}),[j,k]=m.useState({}),[w,_]=m.useState(null),[P,S]=m.useState(null),[C,A]=m.useState({name:"",role:"",memberSince:""});m.useEffect(()=>{d(void 0,null,function*(){try{yield $()}catch(e){}finally{s(!1)}})},[]);const $=()=>d(void 0,null,function*(){try{const e=yield d(void 0,null,function*(){try{const e=localStorage.getItem("auth_token");return(yield N.get(`${Dr}/admin/profile`,{headers:{Authorization:`Bearer ${e}`}})).data}catch(e){throw e}}),r=e.data||e;v(e=>o(n({},e),{firstName:r.first_name||r.firstName||"",lastName:r.last_name||r.lastName||"",email:r.email||"",jobTitle:r.job_title||r.jobTitle||""})),S(r.profile_photo||r.profile_image||r.avatar||r.photo||null),A({name:r.name||`${r.first_name||""} ${r.last_name||""}`.trim()||"Admin",role:r.role||"Super Admin",memberSince:r.member_since||r.memberSince||(r.created_at?new Date(r.created_at).toLocaleDateString("en-US",{month:"short",year:"numeric"}):"")})}catch(e){v(e=>o(n({},e),{firstName:"",lastName:"",email:"",jobTitle:""})),A({name:(null==r?void 0:r.name)||"Admin",role:(null==r?void 0:r.role)||"Super Admin",memberSince:""})}}),E=e=>{const{name:r,value:t}=e.target;v(e=>o(n({},e),{[r]:t})),j[r]&&k(e=>o(n({},e),{[r]:""}))};if(a)return g.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),g.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading settings..."})]})});const D={firstName:f.firstName,lastName:f.lastName,name:(null==C?void 0:C.name)||`${f.firstName} ${f.lastName}`.trim()||"Admin",role:(null==C?void 0:C.role)||"Super Admin",photo:P,memberSince:(null==C?void 0:C.memberSince)||""};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"max-w-[1200px] mx-auto",children:[g.jsxs("nav",{className:"flex flex-wrap gap-2 py-4 mb-2",children:[g.jsx("a",{href:"#",onClick:r=>{r.preventDefault(),e("/admin")},className:"text-[#4e6797] dark:text-slate-400 text-sm font-medium leading-normal hover:text-primary transition-colors",children:"Home"}),g.jsx("span",{className:"text-[#4e6797] dark:text-slate-500 text-sm font-medium leading-normal",children:"/"}),g.jsx("a",{href:"#",onClick:r=>{r.preventDefault(),e("/admin")},className:"text-[#4e6797] dark:text-slate-400 text-sm font-medium leading-normal hover:text-primary transition-colors",children:"Users"}),g.jsx("span",{className:"text-[#4e6797] dark:text-slate-500 text-sm font-medium leading-normal",children:"/"}),g.jsx("span",{className:"text-[#0e121b] dark:text-white text-sm font-medium leading-normal",children:"Profile"})]}),g.jsx("div",{className:"flex flex-wrap justify-between gap-3 mb-8",children:g.jsxs("div",{className:"flex min-w-72 flex-col gap-2",children:[g.jsx("h1",{className:"text-[#0e121b] dark:text-white text-3xl sm:text-4xl font-black leading-tight tracking-[-0.033em]",children:"Profile Settings"}),g.jsx("p",{className:"text-[#4e6797] dark:text-slate-400 text-base font-normal leading-normal",children:"Manage your personal information, security, and preferences."})]})}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 items-start",children:[g.jsxs("div",{className:"lg:col-span-4 flex flex-col gap-6",children:[g.jsx(Ar,{profile:D,onPhotoUpload:e=>d(void 0,null,function*(){var r,a;try{x(!0),_(e);const r=new FileReader;r.onloadend=()=>{S(r.result)},r.readAsDataURL(e),yield Ir({photo:e,remove_photo:!1}),yield $(),t&&(yield t()),y("Profile photo updated successfully!"),h(!0),_(null)}catch(s){const e=(null==(a=null==(r=s.response)?void 0:r.data)?void 0:a.message)||s.message||"Failed to upload photo. Please try again.";alert(e)}finally{x(!1)}}),onPhotoRemove:()=>d(void 0,null,function*(){try{x(!0),yield d(void 0,null,function*(){try{const e=localStorage.getItem("auth_token");return(yield N.put(`${Dr}/admin/profile`,{remove_photo:!0},{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}})).data}catch(e){throw e}}),S(null),_(null),yield $()}catch(e){S(null),_(null)}finally{x(!1)}}),isUploading:u}),g.jsxs("div",{className:"bg-primary/5 dark:bg-primary/10 rounded-xl p-6 border border-primary/10",children:[g.jsxs("h3",{className:"text-primary dark:text-blue-400 font-bold mb-2 flex items-center gap-2",children:[g.jsx("span",{className:"material-symbols-outlined",children:"shield_person"}),"Admin Status"]}),g.jsx("p",{className:"text-sm text-[#4e6797] dark:text-slate-400",children:"You have full access permissions to manage users, settings, and system configurations."})]})]}),g.jsxs("div",{className:"lg:col-span-8 flex flex-col gap-6",children:[g.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark rounded-xl shadow-sm border border-slate-100 dark:border-slate-800 p-6 sm:p-8",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-slate-100 dark:border-slate-800",children:[g.jsx("span",{className:"material-symbols-outlined text-primary",children:"person"}),g.jsx("h2",{className:"text-[#0e121b] dark:text-white text-xl font-bold",children:"Personal Information"})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[g.jsx($r,{label:"First Name",name:"firstName",value:f.firstName,onChange:E,required:!0,error:j.firstName}),g.jsx($r,{label:"Last Name",name:"lastName",value:f.lastName,onChange:E,required:!0,error:j.lastName}),g.jsx($r,{label:"Email Address",name:"email",type:"email",value:f.email,onChange:E,icon:"mail",required:!0,error:j.email,className:"sm:col-span-2"}),g.jsx($r,{label:"Job Title",name:"jobTitle",value:f.jobTitle,onChange:E,error:j.jobTitle,className:"sm:col-span-2"})]})]}),g.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark rounded-xl shadow-sm border border-slate-100 dark:border-slate-800 p-6 sm:p-8",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-slate-100 dark:border-slate-800",children:[g.jsx("span",{className:"material-symbols-outlined text-primary",children:"lock"}),g.jsx("h2",{className:"text-[#0e121b] dark:text-white text-xl font-bold",children:"Change Password"})]}),g.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[g.jsx(Er,{label:"Current Password",name:"currentPassword",value:f.currentPassword,onChange:E,placeholder:"••••••••",error:j.currentPassword}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[g.jsx(Er,{label:"New Password",name:"newPassword",value:f.newPassword,onChange:E,placeholder:"••••••••",error:j.newPassword}),g.jsx(Er,{label:"Confirm New Password",name:"confirmPassword",value:f.confirmPassword,onChange:E,placeholder:"••••••••",error:j.confirmPassword})]}),g.jsxs("div",{className:"flex items-start gap-2 mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[g.jsx("span",{className:"material-symbols-outlined text-blue-600 dark:text-blue-400 text-[20px] mt-0.5",children:"info"}),g.jsx("p",{className:"text-xs text-blue-800 dark:text-blue-200 leading-tight",children:"Password must be at least 8 characters long and include a mix of letters, numbers, and symbols."})]})]})]}),g.jsxs("div",{className:"flex flex-col-reverse sm:flex-row items-center justify-end gap-4 pt-4",children:[g.jsx("button",{type:"button",onClick:()=>{window.confirm("Are you sure you want to cancel? All unsaved changes will be lost.")&&($(),v(e=>o(n({},e),{currentPassword:"",newPassword:"",confirmPassword:""})),k({}))},disabled:l,className:"w-full sm:w-auto h-12 sm:h-11 px-8 rounded-lg border border-transparent text-slate-600 dark:text-slate-300 font-bold text-sm hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),g.jsx("button",{type:"button",onClick:()=>d(void 0,null,function*(){var e,r,t;if((()=>{const e={};return f.firstName.trim()||(e.firstName="First name is required"),f.lastName.trim()||(e.lastName="Last name is required"),f.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f.email)||(e.email="Please enter a valid email address"):e.email="Email is required",(f.currentPassword||f.newPassword||f.confirmPassword)&&(f.currentPassword||(e.currentPassword="Current password is required"),f.newPassword?f.newPassword.length<8?e.newPassword="Password must be at least 8 characters long":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(f.newPassword)||(e.newPassword="Password must include letters, numbers, and symbols"):e.newPassword="New password is required",f.confirmPassword?f.newPassword!==f.confirmPassword&&(e.confirmPassword="Passwords do not match"):e.confirmPassword="Please confirm your new password"),k(e),0===Object.keys(e).length})())try{i(!0),yield Ir({first_name:f.firstName,last_name:f.lastName,email:f.email,job_title:f.jobTitle,photo:w,remove_photo:!1}),(f.currentPassword||f.newPassword||f.confirmPassword)&&(yield(t={current_password:f.currentPassword,new_password:f.newPassword,new_password_confirmation:f.confirmPassword},d(void 0,null,function*(){try{const e=localStorage.getItem("auth_token");return(yield N.put(`${Dr}/admin/password`,t,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}})).data}catch(e){throw e}})),v(e=>o(n({},e),{currentPassword:"",newPassword:"",confirmPassword:""}))),yield $(),y("Settings saved successfully!"),h(!0)}catch(a){const t=(null==(r=null==(e=a.response)?void 0:e.data)?void 0:r.message)||a.message||"Failed to save settings. Please try again.";alert(t)}finally{i(!1)}}),disabled:l,className:"w-full sm:w-auto h-12 sm:h-11 px-8 rounded-lg bg-primary hover:bg-blue-700 text-white font-bold text-sm shadow-md hover:shadow-lg transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:l?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Saving..."]}):g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"save"}),"Save Changes"]})})]})]})]})]}),g.jsx(Tr,{isOpen:p,onClose:()=>h(!1),title:"Settings Saved!",message:b})]})},Lr=({logoIcon:e="bolt",logoText:r="Codelance",logoSubtext:t="Admin Panel",navigationItems:a=[],user:s={name:"Sadek",role:"Administrator",avatar:null},onLogout:l,className:i=""})=>{const n=p(),[o,d]=m.useState(""),c=(a.length>0?a:[{id:"dashboard",label:"Dashboard",icon:"dashboard",href:"/admin/dashboard",active:!0},{type:"divider",label:"CMS Modules"},{id:"services",label:"Services",icon:"handyman",href:"/admin/services"},{id:"packages",label:"Packages",icon:"inventory_2",href:"/admin/packages"},{id:"process-steps",label:"How We Work",icon:"timeline",href:"/admin/process-steps"},{id:"project-categories",label:"Project Categories",icon:"category",href:"/admin/project-categories"},{id:"projects",label:"Projects",icon:"folder",href:"/admin/projects"},{id:"team",label:"Team",icon:"groups",href:"/admin/team"},{id:"reviews",label:"Reviews",icon:"star",href:"/admin/reviews"},{id:"contact-submissions",label:"Contact Submissions",icon:"mail",href:"/admin/contact-submissions"},{id:"newsletter-subscriptions",label:"Newsletter",icon:"campaign",href:"/admin/newsletter-subscriptions"},{id:"about-us-content",label:"About Us Content",icon:"info",href:"/admin/about-us-content"},{type:"divider",label:"System"},{id:"settings",label:"Settings",icon:"settings",href:"/admin/settings"}]).filter(e=>{var r;return"divider"===e.type||!o||(null==(r=e.label)?void 0:r.toLowerCase().includes(o.toLowerCase()))});return g.jsxs("aside",{className:`w-64 flex-shrink-0 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col transition-colors duration-200 h-screen ${i}`,children:[g.jsxs("div",{className:"p-6",children:[g.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[g.jsx("div",{className:"w-10 h-10 bg-gray-900 dark:bg-primary rounded-lg flex items-center justify-center text-white",children:g.jsx("span",{className:"material-symbols-outlined text-2xl",children:e})}),g.jsxs("div",{children:[g.jsx("h1",{className:"font-bold text-lg leading-tight dark:text-white",children:r}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:t})]})]}),g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400",children:g.jsx("span",{className:"material-symbols-outlined text-lg",children:"search"})}),g.jsx("input",{type:"text",value:o,onChange:e=>d(e.target.value),placeholder:"Search navigation...",className:"w-full py-2 pl-10 pr-4 text-sm bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary text-gray-700 dark:text-gray-200 placeholder-gray-400 dark:placeholder-gray-500 transition-colors"})]})]}),g.jsx("nav",{className:"flex-1 px-4 space-y-1 overflow-y-auto min-h-0",children:c.map((e,r)=>{if("divider"===e.type)return g.jsx("div",{className:"pt-4 pb-2",children:g.jsx("p",{className:"px-3 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:e.label})},`divider-${r}`);const t=!!(a=e.href)&&(n.pathname===a||n.pathname.startsWith(a+"/"));var a;return g.jsxs(h,{to:e.href||"#",className:"flex items-center px-3 py-2 rounded-lg group transition-colors font-medium "+(t?"text-gray-900 dark:text-blue-400 bg-blue-50 dark:bg-gray-700/50":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:[g.jsx("span",{className:"material-symbols-outlined text-xl mr-3 "+(t?"text-gray-900 dark:text-blue-400":"text-gray-400 group-hover:text-gray-500 dark:text-gray-400"),children:e.icon}),e.label,e.badge&&g.jsx("span",{className:"ml-auto bg-yellow-100 dark:bg-yellow-900 text-yellow-600 dark:text-yellow-300 py-0.5 px-2 rounded-full text-xs",children:e.badge})]},e.id||r)})}),g.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[s.avatar?g.jsx("img",{src:s.avatar,alt:s.name,className:"w-10 h-10 rounded-lg object-cover"}):g.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-800 text-white flex items-center justify-center",children:g.jsx("span",{className:"material-symbols-outlined",children:"person"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:s.name}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:s.role})]})]}),g.jsx("button",{onClick:l,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 bg-red-50 dark:bg-red-900/20 p-2 rounded-lg transition-colors",children:g.jsx("span",{className:"material-symbols-outlined text-red-500 text-lg",children:"logout"})})]})})]})},Or=()=>{const{user:e,handleLogout:r,isLoadingUser:t}=ue();return t?g.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background-light dark:bg-background-dark text-[#111816] dark:text-gray-100",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),g.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading user data..."})]})}):g.jsxs("div",{className:"flex h-screen overflow-hidden bg-background-light dark:bg-background-dark",children:[g.jsx(Lr,{user:{name:(null==e?void 0:e.name)||"Admin",role:(null==e?void 0:e.role)||"Administrator",avatar:(null==e?void 0:e.avatar)||(null==e?void 0:e.profile_photo)||null},onLogout:r}),g.jsx("main",{className:"flex-1 overflow-y-auto bg-background-light dark:bg-background-dark p-6 lg:p-10",children:g.jsx(b,{})})]})};let Br={isAuthenticated:!1,userRole:null,timestamp:0,cacheDuration:3e5};const zr=({children:e,requiredRole:r=null,redirectTo:t="/admin/login"})=>{const[a,s]=m.useState(!1),[l,i]=m.useState(null),[n,o]=m.useState(!0),c=p(),u=m.useRef(!1);return m.useEffect(()=>{d(void 0,null,function*(){try{if(!localStorage.getItem("auth_token"))return Br.isAuthenticated=!1,Br.userRole=null,s(!1),void o(!1);const e=Date.now();if(Br.isAuthenticated&&Br.userRole===r&&e-Br.timestamp<Br.cacheDuration&&u.current)return s(!0),i(Br.userRole),void o(!1);const t=yield oe(),a=t.user||t;if(a){const t=a.role;if(i(t),r&&t!==r)return Br.isAuthenticated=!1,Br.userRole=t,Br.timestamp=e,s(!1),void o(!1);Br.isAuthenticated=!0,Br.userRole=t,Br.timestamp=e,s(!0),u.current=!0}else Br.isAuthenticated=!1,Br.userRole=null,s(!1)}catch(e){localStorage.removeItem("auth_token"),Br.isAuthenticated=!1,Br.userRole=null,s(!1)}finally{o(!1)}})},[r]),n?g.jsx("div",{className:"flex items-center justify-center min-h-screen",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):a?e:"barber"===l&&"admin"===r?g.jsx(y,{to:"/barber/dashboard",replace:!0}):"admin"===l&&"barber"===r?g.jsx(y,{to:"/admin/dashboard",replace:!0}):"client"!==l||"admin"!==r&&"barber"!==r?"admin"!==l&&"barber"!==l||"client"!==r?g.jsx(y,{to:t,state:{from:c},replace:!0}):"barber"===l?g.jsx(y,{to:"/barber/dashboard",replace:!0}):g.jsx(y,{to:"/admin/dashboard",replace:!0}):g.jsx(y,{to:"/",replace:!0})},Rr=()=>g.jsx(f,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:g.jsxs(v,{children:[g.jsx(j,{path:"/",element:g.jsx(te,{})}),g.jsx(j,{path:"/admin/login",element:g.jsx(de,{})}),g.jsxs(j,{path:"/admin",element:g.jsx(zr,{requiredRole:"admin",children:g.jsx(ge,{children:g.jsx(Or,{children:g.jsx(b,{})})})}),children:[g.jsx(j,{path:"dashboard",element:g.jsx(he,{})}),g.jsx(j,{path:"team",element:g.jsx(Ee,{})}),g.jsx(j,{path:"services",element:g.jsx(Be,{})}),g.jsx(j,{path:"packages",element:g.jsx(qe,{})}),g.jsx(j,{path:"process-steps",element:g.jsx(Je,{})}),g.jsx(j,{path:"project-categories",element:g.jsx(rr,{})}),g.jsx(j,{path:"projects",element:g.jsx(ir,{})}),g.jsx(j,{path:"reviews",element:g.jsx(mr,{})}),g.jsx(j,{path:"contact-submissions",element:g.jsx(hr,{})}),g.jsx(j,{path:"newsletter-subscriptions",element:g.jsx(Nr,{})}),g.jsx(j,{path:"about-us-content",element:g.jsx(Cr,{})}),g.jsx(j,{path:"settings",element:g.jsx(Fr,{})})]}),g.jsx(j,{path:"*",element:g.jsx(y,{to:"/",replace:!0})})]})});class Ur extends u.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){}render(){return this.state.hasError?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background-light dark:bg-background-dark p-4",children:g.jsxs("div",{className:"text-center max-w-md",children:[g.jsx("h1",{className:"text-2xl font-bold text-[#111816] dark:text-white mb-4",children:"Something went wrong"}),g.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),g.jsx("button",{onClick:()=>{this.setState({hasError:!1,error:null}),window.location.href="/"},className:"px-6 py-3 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition-colors",children:"Go to Home"})]})}):this.props.children}}function Mr(){return g.jsx(Ur,{children:g.jsx("div",{className:"bg-background-light dark:bg-background-dark font-display antialiased text-slate-900 dark:text-white transition-colors duration-300",children:g.jsx(Rr,{})})})}k.createRoot(document.getElementById("root")).render(g.jsx(u.StrictMode,{children:g.jsx(Mr,{})}));export{R as c,vr as n,S as u};
