var yn=Object.defineProperty,Pn=Object.defineProperties;var Sn=Object.getOwnPropertyDescriptors;var Oe=Object.getOwnPropertySymbols;var _t=Object.prototype.hasOwnProperty,yt=Object.prototype.propertyIsEnumerable;var Pe=Math.pow,Ct=(e,t,r)=>t in e?yn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,v=(e,t)=>{for(var r in t||(t={}))_t.call(t,r)&&Ct(e,r,t[r]);if(Oe)for(var r of Oe(t))yt.call(t,r)&&Ct(e,r,t[r]);return e},Q=(e,t)=>Pn(e,Sn(t));var J=(e,t)=>{var r={};for(var n in e)_t.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Oe)for(var n of Oe(e))t.indexOf(n)<0&&yt.call(e,n)&&(r[n]=e[n]);return r};import{r as o,b as Mn,u as Nn,j as Y}from"./index-BhAcUHGs.js";const Vt="carousel",Ut="controller",In="navigation",Ln="no-scroll",tt="portal",On="root",Xt="toolbar",Pt="zoom",ze="loading",Be="error",He="complete",Rn="placeholder",kn=e=>`active-slide-${e}`,Tn="fullsize",nt="flex_center",Dn="no_scroll",Yt="no_scroll_padding",ot="slide",zt="slide_wrapper",An="slide_wrapper_interactive",me="prev",pe="next",St="swipe",be="close",Bt="onPointerDown",Ht="onPointerMove",Kt="onPointerUp",jt="onPointerLeave",Gt="onPointerCancel",rt="onKeyDown",Zn="onKeyUp",it="onWheel",Wn="Escape",$n="ArrowLeft",Fn="ArrowRight",Vn="button",qe="icon",qt="contain",Mt="cover",Qt="Unknown action type",Jt="yarl__";function ie(...e){return e.filter(Boolean).join(" ")}function k(e){return`${Jt}${e}`}function q(e){return`--${Jt}${e}`}function Se(e,t){return`${e}${t?`_${t}`:""}`}function st(e){return t=>Se(e,t)}function Ee(e,t){var r;return(r=e==null?void 0:e[t])!==null&&r!==void 0?r:t}function Un(e,t,r){return Ee(e,"{index} of {total}").replace(/\{index}/g,`${dt(r,t.length)+1}`).replace(/\{total}/g,`${t.length}`)}function lt(...e){return()=>{e.forEach(t=>{t()})}}function le(e,t,r){return()=>{const n=o.useContext(r);if(!n)throw new Error(`${e} must be used within a ${t}.Provider`);return n}}function ct(){return typeof window!="undefined"}function at(e,t=0){const r=Pe(10,t);return Math.round((e+Number.EPSILON)*r)/r}function we(e){return e.type===void 0||e.type==="image"}function ut(e,t){return e.imageFit===Mt||e.imageFit!==qt&&t===Mt}function De(e){return typeof e=="string"?Number.parseInt(e,10):e}function ke(e){if(typeof e=="number")return{pixel:e};if(typeof e=="string"){const t=De(e);return e.endsWith("%")?{percent:t}:{pixel:t}}return{pixel:0}}function Xn(e,t){const r=ke(t),n=r.percent!==void 0?e.width/100*r.percent:r.pixel;return{width:Math.max(e.width-2*n,0),height:Math.max(e.height-2*n,0)}}function Yn(){return(ct()?window==null?void 0:window.devicePixelRatio:void 0)||1}function dt(e,t){return t>0?(e%t+t)%t:0}function en(e){return e.length>0}function tn(e,t){return e[dt(t,e.length)]}function Qe(e,t){return en(e)?tn(e,t):void 0}function zn(e){return we(e)?e.src:void 0}function Bn(e,t,r){if(!r)return e;const c=e,{buttons:n}=c,i=J(c,["buttons"]),l=n.findIndex(a=>a===t),s=o.isValidElement(r)?o.cloneElement(r,{key:t},null):r;if(l>=0){const a=[...n];return a.splice(l,1,s),v({buttons:a},i)}return v({buttons:[s,...n]},i)}function Hn(e,t,r=0){return Math.min(e.preload,Math.max(e.finite?t.length-1:Math.floor(t.length/2),r))}const Kn=Number(o.version.split(".")[0])>=19;function jn(e){return{inert:Kn?e:e?"":void 0}}function Gn(e){e.scrollTop}const Je={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[be]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:qt,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1,disableSwipeNavigation:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function de(e,t){return{name:e,component:t}}function B(e,t){return{module:e,children:t}}function nn(e,t,r){return e.module.name===t?r(e):e.children?[B(e.module,e.children.flatMap(n=>{var i;return(i=nn(n,t,r))!==null&&i!==void 0?i:[]}))]:[e]}function xe(e,t,r){return e.flatMap(n=>{var i;return(i=nn(n,t,r))!==null&&i!==void 0?i:[]})}function qn(e,t=[],r=[]){let n=e;const i=f=>{const p=[...n];for(;p.length>0;){const g=p.pop();if((g==null?void 0:g.module.name)===f)return!0;g!=null&&g.children&&p.push(...g.children)}return!1},l=(f,p)=>{if(f===""){n=[B(p,n)];return}n=xe(n,f,g=>[B(p,[g])])},s=(f,p)=>{n=xe(n,f,g=>[B(g.module,[B(p,g.children)])])},c=(f,p,g)=>{n=xe(n,f,_=>{var b;return[B(_.module,[...g?[B(p)]:[],...(b=_.children)!==null&&b!==void 0?b:[],...g?[]:[B(p)]])]})},a=(f,p,g)=>{n=xe(n,f,_=>[...g?[B(p)]:[],_,...g?[]:[B(p)]])},h=f=>{s(Ut,f)},m=(f,p)=>{n=xe(n,f,g=>[B(p,g.children)])},u=f=>{n=xe(n,f,p=>p.children)},d=f=>{r.push(f)};return t.forEach(f=>{f({contains:i,addParent:l,append:s,addChild:c,addSibling:a,addModule:h,replace:m,remove:u,augment:d})}),{config:n,augmentation:f=>r.reduce((p,g)=>g(p),f)}}const on=o.createContext(null),rn=le("useA11yContext","A11yContext",on);function Qn({children:e}){const[t,r]=o.useState(!1),[n,i]=o.useState(!1),l=o.useMemo(()=>({focusWithin:t,trackFocusWithin:(c,a)=>{const h=m=>u=>{var d;u.currentTarget.contains(u.relatedTarget)||r(m),(d=m?c:a)===null||d===void 0||d(u)};return{onFocus:h(!0),onBlur:h(!1)}},autoPlaying:n,setAutoPlaying:i}),[t,n]);return o.createElement(on.Provider,{value:l},e)}const sn=o.createContext(null),Ae=le("useDocument","DocumentContext",sn);function Jn({nodeRef:e,children:t}){const r=o.useMemo(()=>{const n=l=>{var s;return((s=l||e.current)===null||s===void 0?void 0:s.ownerDocument)||document};return{getOwnerDocument:n,getOwnerWindow:l=>{var s;return((s=n(l))===null||s===void 0?void 0:s.defaultView)||window}}},[e]);return o.createElement(sn.Provider,{value:r},t)}const ln=o.createContext(null),Ze=le("useEvents","EventsContext",ln);function eo({children:e}){const[t]=o.useState({});o.useEffect(()=>()=>{Object.keys(t).forEach(n=>delete t[n])},[t]);const r=o.useMemo(()=>{const n=(s,c)=>{var a;(a=t[s])===null||a===void 0||a.splice(0,t[s].length,...t[s].filter(h=>h!==c))};return{publish:(...[s,c])=>{var a;(a=t[s])===null||a===void 0||a.forEach(h=>h(c))},subscribe:(s,c)=>(t[s]||(t[s]=[]),t[s].push(c),()=>n(s,c)),unsubscribe:n}},[t]);return o.createElement(ln.Provider,{value:r},e)}const cn=o.createContext(null),te=le("useLightboxProps","LightboxPropsContext",cn);function to(r){var n=r,{children:e}=n,t=J(n,["children"]);return o.createElement(cn.Provider,{value:t},e)}const an=o.createContext(null),fe=le("useLightboxState","LightboxStateContext",an),un=o.createContext(null),no=le("useLightboxDispatch","LightboxDispatchContext",un);function oo(e,t){switch(t.type){case"swipe":{const{slides:r}=e,n=(t==null?void 0:t.increment)||0,i=e.globalIndex+n,l=dt(i,r.length),s=Qe(r,l),c=n||t.duration!==void 0?{increment:n,duration:t.duration,easing:t.easing}:void 0;return{slides:r,currentIndex:l,globalIndex:i,currentSlide:s,animation:c}}case"update":return t.slides!==e.slides||t.index!==e.currentIndex?{slides:t.slides,currentIndex:t.index,globalIndex:t.index,currentSlide:Qe(t.slides,t.index)}:e;default:throw new Error(Qt)}}function ro({slides:e,index:t,children:r}){const[n,i]=o.useReducer(oo,{slides:e,currentIndex:t,globalIndex:t,currentSlide:Qe(e,t)});o.useEffect(()=>{i({type:"update",slides:e,index:t})},[e,t]);const l=o.useMemo(()=>Q(v({},n),{state:n,dispatch:i}),[n,i]);return o.createElement(un.Provider,{value:i},o.createElement(an.Provider,{value:l},r))}const dn=o.createContext(null),We=le("useTimeouts","TimeoutsContext",dn);function io({children:e}){const[t]=o.useState([]);o.useEffect(()=>()=>{t.forEach(n=>window.clearTimeout(n)),t.splice(0,t.length)},[t]);const r=o.useMemo(()=>{const n=s=>{t.splice(0,t.length,...t.filter(c=>c!==s))};return{setTimeout:(s,c)=>{const a=window.setTimeout(()=>{n(a),s()},c);return t.push(a),a},clearTimeout:s=>{s!==void 0&&(n(s),window.clearTimeout(s))}}},[t]);return o.createElement(dn.Provider,{value:r},e)}const ft=o.forwardRef(function(h,a){var m=h,{label:t,className:r,icon:n,renderIcon:i,onClick:l,style:s}=m,c=J(m,["label","className","icon","renderIcon","onClick","style"]);const{styles:u,labels:d}=te(),f=Ee(d,t);return o.createElement("button",v({ref:a,type:"button",title:f,"aria-label":f,className:ie(k(Vn),r),onClick:l,style:v(v({},s),u.button)},c),i?i():o.createElement(n,{className:k(qe),style:u.icon}))});function so(e,t){const r=n=>o.createElement("svg",v({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false"},n),t);return r.displayName=e,r}function ge(e,t){return so(e,o.createElement("g",{fill:"currentColor"},o.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t))}const lo=ge("Close",o.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),co=ge("Previous",o.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),ao=ge("Next",o.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),uo=ge("Loading",o.createElement(o.Fragment,null,Array.from({length:8}).map((e,t,r)=>o.createElement("line",{key:t,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/r.length*(t+1),transform:`rotate(${360/r.length*t}, 12, 12)`})))),fo=ge("Error",o.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),se=ct()?o.useLayoutEffect:o.useEffect;function ht(){const[e,t]=o.useState(!1);return o.useEffect(()=>{var r,n;const i=(r=window.matchMedia)===null||r===void 0?void 0:r.call(window,"(prefers-reduced-motion: reduce)");t(i==null?void 0:i.matches);const l=s=>t(s.matches);return(n=i==null?void 0:i.addEventListener)===null||n===void 0||n.call(i,"change",l),()=>{var s;return(s=i==null?void 0:i.removeEventListener)===null||s===void 0?void 0:s.call(i,"change",l)}},[]),e}function ho(e){let t=0,r=0,n=0;const l=window.getComputedStyle(e).transform.match(/matrix.*\((.+)\)/);if(l){const s=l[1].split(",").map(De);s.length===6?(t=s[4],r=s[5]):s.length===16&&(t=s[12],r=s[13],n=s[14])}return{x:t,y:r,z:n}}function Nt(e,t){const r=o.useRef(void 0),n=o.useRef(void 0),i=ht();return se(()=>{var l,s,c;if(e.current&&r.current!==void 0&&!i){const{keyframes:a,duration:h,easing:m,onfinish:u}=t(r.current,e.current.getBoundingClientRect(),ho(e.current))||{};if(a&&h){(l=n.current)===null||l===void 0||l.cancel(),n.current=void 0;try{n.current=(c=(s=e.current).animate)===null||c===void 0?void 0:c.call(s,a,{duration:h,easing:m})}catch(d){console.error(d)}n.current&&(n.current.onfinish=()=>{n.current=void 0,u==null||u()})}}r.current=void 0}),{prepareAnimation:l=>{r.current=l},isAnimationPlaying:()=>{var l;return((l=n.current)===null||l===void 0?void 0:l.playState)==="running"}}}function fn(){const e=o.useRef(null),t=o.useRef(void 0),[r,n]=o.useState();return{setContainerRef:o.useCallback(l=>{e.current=l,t.current&&(t.current.disconnect(),t.current=void 0);const s=()=>{if(l){const c=window.getComputedStyle(l),a=h=>parseFloat(h)||0;n({width:Math.round(l.clientWidth-a(c.paddingLeft)-a(c.paddingRight)),height:Math.round(l.clientHeight-a(c.paddingTop)-a(c.paddingBottom))})}else n(void 0)};s(),l&&typeof ResizeObserver!="undefined"&&(t.current=new ResizeObserver(s),t.current.observe(l))},[]),containerRef:e,containerRect:r}}function Re(){const e=o.useRef(void 0),{setTimeout:t,clearTimeout:r}=We();return o.useCallback((n,i)=>{r(e.current),e.current=t(n,i>0?i:0)},[t,r])}function T(e){const t=o.useRef(e);return se(()=>{t.current=e}),o.useCallback((...r)=>{var n;return(n=t.current)===null||n===void 0?void 0:n.call(t,...r)},[])}function It(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function et(e,t){return o.useMemo(()=>e==null&&t==null?null:r=>{It(e,r),It(t,r)},[e,t])}function mo(e,t=!1){const r=o.useRef(!1);se(()=>{t&&r.current&&(r.current=!1,e())},[t,e]);const n=o.useCallback(()=>{r.current=!0},[]),i=o.useCallback(()=>{r.current=!1},[]);return{onFocus:n,onBlur:i}}function mt(){const[e,t]=o.useState(!1);return se(()=>{t(window.getComputedStyle(window.document.documentElement).direction==="rtl")},[]),e}function po(){const[e]=o.useState({}),t=o.useCallback((i,l)=>{var s;(s=e[i])===null||s===void 0||s.forEach(c=>{l.isPropagationStopped()||c(l)})},[e]),r=o.useMemo(()=>({onPointerDown:i=>t(Bt,i),onPointerMove:i=>t(Ht,i),onPointerUp:i=>t(Kt,i),onPointerLeave:i=>t(jt,i),onPointerCancel:i=>t(Gt,i),onKeyDown:i=>t(rt,i),onKeyUp:i=>t(Zn,i),onWheel:i=>t(it,i)}),[t]),n=o.useCallback((i,l)=>(e[i]||(e[i]=[]),e[i].unshift(l),()=>{const s=e[i];s&&s.splice(0,s.length,...s.filter(c=>c!==l))}),[e]);return{registerSensors:r,subscribeSensors:n}}function Lt(e,t){const r=o.useRef(0),n=Re(),i=T((...l)=>{r.current=Date.now(),e(l)});return o.useCallback((...l)=>{n(()=>{i(l)},t-(Date.now()-r.current))},[t,i,n])}const Ke=st("slide"),je=st("slide_image");function Te({slide:e,offset:t,render:r,rect:n,imageFit:i,imageProps:l,onClick:s,onLoad:c,onError:a,style:h}){var m,u,d,f,p,g,_,b;const[C,y]=o.useState(ze),{publish:O}=Ze(),{setTimeout:R}=We(),M=o.useRef(null);o.useEffect(()=>{t===0&&O(kn(C))},[t,C,O]);const E=T(S=>{("decode"in S?S.decode():Promise.resolve()).catch(()=>{}).then(()=>{S.parentNode&&(y(He),R(()=>{c==null||c(S)},0))})}),V=o.useCallback(S=>{M.current=S,S!=null&&S.complete&&E(S)},[E]),L=o.useCallback(S=>{E(S.currentTarget)},[E]),A=T(()=>{y(Be),a==null||a()}),N=ut(e,i),W=(S,z)=>Number.isFinite(S)?S:z,I=W(Math.max(...((u=(m=e.srcSet)===null||m===void 0?void 0:m.map(S=>S.width))!==null&&u!==void 0?u:[]).concat(e.width?[e.width]:[]).filter(Boolean)),((d=M.current)===null||d===void 0?void 0:d.naturalWidth)||0),Z=W(Math.max(...((p=(f=e.srcSet)===null||f===void 0?void 0:f.map(S=>S.height))!==null&&p!==void 0?p:[]).concat(e.height?[e.height]:[]).filter(Boolean)),((g=M.current)===null||g===void 0?void 0:g.naturalHeight)||0),$=I&&Z?{maxWidth:`min(${I}px, 100%)`,maxHeight:`min(${Z}px, 100%)`}:{maxWidth:"100%",maxHeight:"100%"},U=(_=e.srcSet)===null||_===void 0?void 0:_.slice().sort((S,z)=>S.width-z.width).map(S=>`${S.src} ${S.width}w`).join(", "),D=()=>n&&!N&&e.width&&e.height?n.height/e.height*e.width:Number.MAX_VALUE,w=U&&n&&ct()?`${Math.round(Math.min(D(),n.width))}px`:void 0,H=(typeof l=="function"?l(e):l)||{},{style:P,className:X}=H,K=J(H,["style","className"]);return o.createElement(o.Fragment,null,o.createElement("img",Q(v({ref:V,onLoad:L,onError:A,onClick:s,draggable:!1,className:ie(k(je()),N&&k(je("cover")),C!==He&&k(je("loading")),X),style:v(v(v({},$),h),P)},K),{alt:(b=e.alt)!==null&&b!==void 0?b:"",sizes:w,srcSet:U,src:e.src})),C!==He&&o.createElement("div",{className:k(Ke(Rn))},C===ze&&(r!=null&&r.iconLoading?r.iconLoading():o.createElement(uo,{className:ie(k(qe),k(Ke(ze)))})),C===Be&&(r!=null&&r.iconError?r.iconError():o.createElement(fo,{className:ie(k(qe),k(Ke(Be)))}))))}const go=o.forwardRef(function(c,s){var a=c,{className:t,children:r,onFocus:n,onBlur:i}=a,l=J(a,["className","children","onFocus","onBlur"]);const h=o.useRef(null),{trackFocusWithin:m}=rn();return o.createElement(Jn,{nodeRef:h},o.createElement("div",v(v({ref:et(s,h),className:ie(k("root"),t)},m(n,i)),l),r))});var j;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL",e[e.ANIMATION=3]="ANIMATION"})(j||(j={}));function hn(e,t,r,n,i){o.useEffect(()=>i?()=>{}:lt(e(Bt,t),e(Ht,r),e(Kt,n),e(jt,n),e(Gt,n)),[e,t,r,n,i])}var ne;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL"})(ne||(ne={}));const Ge=30;function vo({disableSwipeNavigation:e,closeOnBackdropClick:t},r,n,i,l,s,c,a,h,m,u,d,f,p,g,_){const b=o.useRef(0),C=o.useRef([]),y=o.useRef(void 0),O=o.useRef(0),R=o.useRef(ne.NONE),M=o.useCallback(I=>{y.current===I.pointerId&&(y.current=void 0,R.current=ne.NONE);const Z=C.current;Z.splice(0,Z.length,...Z.filter($=>$.pointerId!==I.pointerId))},[]),E=o.useCallback(I=>{M(I),I.persist(),C.current.push(I)},[M]),V=o.useCallback(I=>C.current.find(({pointerId:Z})=>I.pointerId===Z),[]),L=T(I=>{E(I)}),A=(I,Z)=>u&&I>Z||m&&I<-Z,N=T(I=>{const Z=V(I);if(Z)if(y.current===I.pointerId){const $=Date.now()-O.current,U=b.current;R.current===ne.SWIPE?Math.abs(U)>.3*i||Math.abs(U)>5&&$<l?a(U,$):h(U):R.current===ne.PULL&&(A(U,2*Ge)?p(U,$):g(U)),b.current=0,R.current=ne.NONE}else{const{target:$}=I;t&&$ instanceof HTMLElement&&$===Z.target&&($.classList.contains(k(ot))||$.classList.contains(k(zt)))&&_()}M(I)}),W=T(I=>{const Z=V(I);if(Z){const $=y.current===I.pointerId;if(I.buttons===0){$&&b.current!==0?N(I):M(Z);return}const U=I.clientX-Z.clientX,D=I.clientY-Z.clientY;if(y.current===void 0){const w=P=>{E(I),y.current=I.pointerId,O.current=Date.now(),R.current=P};Math.abs(U)>Math.abs(D)&&Math.abs(U)>Ge&&n(U)?e||(w(ne.SWIPE),s()):Math.abs(D)>Math.abs(U)&&A(D,Ge)&&(w(ne.PULL),d())}else $&&(R.current===ne.SWIPE?(b.current=U,c(U)):R.current===ne.PULL&&(b.current=D,f(D)))}});hn(r,L,W,N)}function xo({preventDefaultWheelX:e,preventDefaultWheelY:t}){const r=o.useRef(null),n=T(i=>{const l=Math.abs(i.deltaX)>Math.abs(i.deltaY);(l&&e||!l&&t||i.ctrlKey)&&i.preventDefault()});return o.useCallback(i=>{var l;i?i.addEventListener("wheel",n,{passive:!1}):(l=r.current)===null||l===void 0||l.removeEventListener("wheel",n),r.current=i},[n])}function bo(e,t,r,n,i,l,s,c,a){const h=o.useRef(0),m=o.useRef(0),u=o.useRef(void 0),d=o.useRef(void 0),f=o.useRef(0),p=o.useRef(void 0),g=o.useRef(0),{setTimeout:_,clearTimeout:b}=We(),C=o.useCallback(()=>{u.current&&(b(u.current),u.current=void 0)},[b]),y=o.useCallback(()=>{d.current&&(b(d.current),d.current=void 0)},[b]),O=T(()=>{e!==j.SWIPE&&(h.current=0,g.current=0,C(),y())});o.useEffect(O,[e,O]);const R=T(E=>{d.current=void 0,h.current===E&&a(h.current)}),M=T(E=>{if(E.ctrlKey||Math.abs(E.deltaY)>Math.abs(E.deltaX))return;const V=L=>{f.current=L,b(p.current),p.current=L>0?_(()=>{f.current=0,p.current=void 0},300):void 0};if(e===j.NONE){if(Math.abs(E.deltaX)<=1.2*Math.abs(f.current)){V(E.deltaX);return}if(!r(-E.deltaX))return;if(m.current+=E.deltaX,C(),Math.abs(m.current)>30)m.current=0,V(0),g.current=Date.now(),l();else{const L=m.current;u.current=_(()=>{u.current=void 0,L===m.current&&(m.current=0)},i)}}else if(e===j.SWIPE){let L=h.current-E.deltaX;if(L=Math.min(Math.abs(L),n)*Math.sign(L),h.current=L,s(L),y(),Math.abs(L)>.2*n){V(E.deltaX),c(L,Date.now()-g.current);return}d.current=_(()=>R(L),2*i)}else V(E.deltaX)});o.useEffect(()=>t(it,M),[t,M])}const Ot=st("container"),mn=o.createContext(null),ce=le("useController","ControllerContext",mn);function Eo(r){var n=r,{children:e}=n,t=J(n,["children"]);var i;const{carousel:l,animation:s,controller:c,on:a,styles:h,render:m}=t,{closeOnPullUp:u,closeOnPullDown:d,preventDefaultWheelX:f,preventDefaultWheelY:p}=c,[g,_]=o.useState(),b=fe(),C=no(),[y,O]=o.useState(j.NONE),R=o.useRef(0),M=o.useRef(0),E=o.useRef(1),{registerSensors:V,subscribeSensors:L}=po(),{subscribe:A,publish:N}=Ze(),W=Re(),I=Re(),Z=Re(),{containerRef:$,setContainerRef:U,containerRect:D}=fn(),w=et(xo({preventDefaultWheelX:f,preventDefaultWheelY:p}),U),P=o.useRef(null),X=et(P,void 0),{getOwnerDocument:K}=Ae(),H=mt(),S=x=>(H?-1:1)*(typeof x=="number"?x:1),z=T(()=>{var x;return(x=$.current)===null||x===void 0?void 0:x.focus()}),ae=T(()=>t),ue=T(()=>b),Me=o.useCallback(x=>N(me,x),[N]),Ne=o.useCallback(x=>N(pe,x),[N]),ve=o.useCallback(()=>N(be),[N]),Fe=x=>!(l.finite&&(S(x)>0&&b.currentIndex===0||S(x)<0&&b.currentIndex===b.slides.length-1)),gt=x=>{var F;R.current=x,(F=$.current)===null||F===void 0||F.style.setProperty(q("swipe_offset"),`${Math.round(x)}px`)},Ve=x=>{var F,G;M.current=x,E.current=(()=>{const _e=d&&x>0?x:u&&x<0?-x:0;return Math.min(Math.max(at(1-_e/60*(1-.5),2),.5),1)})(),(F=$.current)===null||F===void 0||F.style.setProperty(q("pull_offset"),`${Math.round(x)}px`),(G=$.current)===null||G===void 0||G.style.setProperty(q("pull_opacity"),`${E.current}`)},{prepareAnimation:bn}=Nt(P,(x,F,G)=>{if(P.current&&D)return{keyframes:[{transform:`translate(0, ${x.rect.y-F.y+G.y}px)`,opacity:x.opacity},{transform:"translate(0, 0)",opacity:1}],duration:x.duration,easing:s.easing.fade}}),vt=(x,F)=>{if(u||d){Ve(x);let G=0;P.current&&(G=s.fade*(F?2:1),bn({rect:P.current.getBoundingClientRect(),opacity:E.current,duration:G})),Z(()=>{Ve(0),O(j.NONE)},G),O(j.ANIMATION),F||ve()}},{prepareAnimation:En,isAnimationPlaying:wn}=Nt(P,(x,F,G)=>{var oe;if(P.current&&D&&(!((oe=b.animation)===null||oe===void 0)&&oe.duration)){const ee=ke(l.spacing),_e=(ee.percent?ee.percent*D.width/100:ee.pixel)||0;return{keyframes:[{transform:`translate(${S(b.globalIndex-x.index)*(D.width+_e)+x.rect.x-F.x+G.x}px, 0)`},{transform:"translate(0, 0)"}],duration:b.animation.duration,easing:b.animation.easing}}}),Ce=T(x=>{var F,G;const oe=x.offset||0,ee=oe?s.swipe:(F=s.navigation)!==null&&F!==void 0?F:s.swipe,_e=!oe&&!wn()?s.easing.navigation:s.easing.swipe;let{direction:Ie}=x;const Le=(G=x.count)!==null&&G!==void 0?G:1;let Ue=j.ANIMATION,re=ee*Le;if(!Ie){const ye=D==null?void 0:D.width,wt=x.duration||0,Ye=ye?ee/ye*Math.abs(oe):ee;Le!==0?(wt<Ye?re=re/Ye*Math.max(wt,Ye/5):ye&&(re=ee/ye*(ye-Math.abs(oe))),Ie=S(oe)>0?me:pe):re=ee/2}let Xe=0;Ie===me?Fe(S(1))?Xe=-Le:(Ue=j.NONE,re=ee):Ie===pe&&(Fe(S(-1))?Xe=Le:(Ue=j.NONE,re=ee)),re=Math.round(re),I(()=>{gt(0),O(j.NONE)},re),P.current&&En({rect:P.current.getBoundingClientRect(),index:b.globalIndex}),O(Ue),N(St,{type:"swipe",increment:Xe,duration:re,easing:_e})});o.useEffect(()=>{var x,F;!((x=b.animation)===null||x===void 0)&&x.increment&&(!((F=b.animation)===null||F===void 0)&&F.duration)&&W(()=>C({type:"swipe",increment:0}),b.animation.duration)},[b.animation,C,W]);const xt=[L,Fe,(D==null?void 0:D.width)||0,s.swipe,()=>O(j.SWIPE),x=>gt(x),(x,F)=>Ce({offset:x,duration:F,count:1}),x=>Ce({offset:x,count:0})],Cn=[()=>{d&&O(j.PULL)},x=>Ve(x),x=>vt(x),x=>vt(x,!0)];vo(c,...xt,u,d,...Cn,ve),bo(y,...xt);const bt=T(()=>{c.focus&&K().querySelector(`.${k(tt)} .${k(Ot())}`)&&z()});o.useEffect(bt,[bt]);const Et=T(()=>{var x;(x=a.view)===null||x===void 0||x.call(a,{index:b.currentIndex})});o.useEffect(Et,[b.globalIndex,Et]),o.useEffect(()=>lt(A(me,x=>Ce(v({direction:me},x))),A(pe,x=>Ce(v({direction:pe},x))),A(St,x=>C(x))),[A,Ce,C]);const _n=o.useMemo(()=>({prev:Me,next:Ne,close:ve,focus:z,slideRect:D?Xn(D,l.padding):{width:0,height:0},containerRect:D||{width:0,height:0},subscribeSensors:L,containerRef:$,setCarouselRef:X,toolbarWidth:g,setToolbarWidth:_}),[Me,Ne,ve,z,L,D,$,X,g,_,l.padding]);return o.useImperativeHandle(c.ref,()=>({prev:Me,next:Ne,close:ve,focus:z,getLightboxProps:ae,getLightboxState:ue}),[Me,Ne,ve,z,ae,ue]),o.createElement("div",v({ref:w,className:ie(k(Ot()),k(nt)),style:v(v(v(v({},y===j.SWIPE?{[q("swipe_offset")]:`${Math.round(R.current)}px`}:null),y===j.PULL?{[q("pull_offset")]:`${Math.round(M.current)}px`,[q("pull_opacity")]:`${E.current}`}:null),c.touchAction!=="none"?{[q("controller_touch_action")]:c.touchAction}:null),h.container),tabIndex:-1},V),D&&o.createElement(mn.Provider,{value:_n},e,(i=m.controls)===null||i===void 0?void 0:i.call(m)))}const wo=de(Ut,Eo);function he(e){return Se(Vt,e)}function Rt(e){return Se(ot,e)}function Co({slide:e,offset:t}){const r=o.useRef(null),{currentIndex:n,slides:i}=fe(),{slideRect:l,focus:s}=ce(),{render:c,carousel:{imageFit:a,imageProps:h},on:{click:m},styles:{slide:u},labels:d}=te(),{getOwnerDocument:f}=Ae(),p=t!==0;o.useEffect(()=>{var _;p&&(!((_=r.current)===null||_===void 0)&&_.contains(f().activeElement))&&s()},[p,s,f]);const g=()=>{var _,b,C,y;let O=(_=c.slide)===null||_===void 0?void 0:_.call(c,{slide:e,offset:t,rect:l});return!O&&we(e)&&(O=o.createElement(Te,{slide:e,offset:t,render:c,rect:l,imageFit:a,imageProps:h,onClick:p?void 0:()=>m==null?void 0:m({index:n})})),O?o.createElement(o.Fragment,null,(b=c.slideHeader)===null||b===void 0?void 0:b.call(c,{slide:e}),((C=c.slideContainer)!==null&&C!==void 0?C:({children:R})=>R)({slide:e,children:O}),(y=c.slideFooter)===null||y===void 0?void 0:y.call(c,{slide:e})):null};return o.createElement("div",Q(v({ref:r,className:ie(k(Rt()),!p&&k(Rt("current")),k(nt))},jn(p)),{style:u,role:"group","aria-roledescription":Ee(d,"Slide"),"aria-label":Un(d,i,n+t)}),g())}function _o(){const e=te().styles.slide;return o.createElement("div",{className:k(ot),style:e})}function yo({carousel:e,labels:t}){const{slides:r,currentIndex:n,globalIndex:i}=fe(),{setCarouselRef:l}=ce(),{autoPlaying:s,focusWithin:c}=rn(),a=ke(e.spacing),h=ke(e.padding),m=Hn(e,r,1),u=[];if(en(r))for(let d=n-m;d<=n+m;d+=1){const f=tn(r,d),p=i-n+d,g=e.finite&&(d<0||d>r.length-1);u.push(g?{key:p}:{key:[`${p}`,zn(f)].filter(Boolean).join("|"),offset:d-n,slide:f})}return o.createElement("div",{ref:l,className:ie(k(he()),u.length>0&&k(he("with_slides"))),style:{[`${q(he("slides_count"))}`]:u.length,[`${q(he("spacing_px"))}`]:a.pixel||0,[`${q(he("spacing_percent"))}`]:a.percent||0,[`${q(he("padding_px"))}`]:h.pixel||0,[`${q(he("padding_percent"))}`]:h.percent||0},role:"region","aria-live":s&&!c?"off":"polite","aria-roledescription":Ee(t,"Carousel"),"aria-label":Ee(t,"Photo gallery")},u.map(({key:d,slide:f,offset:p})=>f?o.createElement(Co,{key:d,slide:f,offset:p}):o.createElement(_o,{key:d})))}const Po=de(Vt,yo);function pn(){const{carousel:e}=te(),{slides:t,currentIndex:r}=fe(),n=t.length===0||e.finite&&r===0,i=t.length===0||e.finite&&r===t.length-1;return{prevDisabled:n,nextDisabled:i}}function So(e){var t;const r=mt(),{publish:n}=Ze(),{animation:i}=te(),{prevDisabled:l,nextDisabled:s}=pn(),c=((t=i.navigation)!==null&&t!==void 0?t:i.swipe)/2,a=Lt(()=>n(me),c),h=Lt(()=>n(pe),c),m=T(u=>{switch(u.key){case Wn:n(be);break;case $n:(r?s:l)||(r?h:a)();break;case Fn:(r?l:s)||(r?a:h)();break}});o.useEffect(()=>e(rt,m),[e,m])}function kt({label:e,icon:t,renderIcon:r,action:n,onClick:i,disabled:l,style:s}){return o.createElement(ft,v({label:e,icon:t,renderIcon:r,className:k(`navigation_${n}`),disabled:l,onClick:i,style:s},mo(ce().focus,l)))}function Mo({render:{buttonPrev:e,buttonNext:t,iconPrev:r,iconNext:n},styles:i}){const{prev:l,next:s,subscribeSensors:c}=ce(),{prevDisabled:a,nextDisabled:h}=pn();return So(c),o.createElement(o.Fragment,null,e?e():o.createElement(kt,{label:"Previous",action:me,icon:co,renderIcon:r,style:i.navigationPrev,disabled:a,onClick:l}),t?t():o.createElement(kt,{label:"Next",action:pe,icon:ao,renderIcon:n,style:i.navigationNext,disabled:h,onClick:s}))}const No=de(In,Mo),Tt=k(Dn),Io=k(Yt);function Lo(e){return"style"in e}function Dt(e,t,r){const n=window.getComputedStyle(e),i=r?"padding-left":"padding-right",l=r?n.paddingLeft:n.paddingRight,s=e.style.getPropertyValue(i);return e.style.setProperty(i,`${(De(l)||0)+t}px`),()=>{s?e.style.setProperty(i,s):e.style.removeProperty(i)}}function Oo({noScroll:{disabled:e},children:t}){const r=mt(),{getOwnerDocument:n,getOwnerWindow:i}=Ae();return o.useEffect(()=>{if(e)return()=>{};const l=[],s=i(),{body:c,documentElement:a}=n(),h=Math.round(s.innerWidth-a.clientWidth);if(h>0){l.push(Dt(c,h,r));const m=c.getElementsByTagName("*");for(let u=0;u<m.length;u+=1){const d=m[u];Lo(d)&&s.getComputedStyle(d).getPropertyValue("position")==="fixed"&&!d.classList.contains(Io)&&l.push(Dt(d,h,r))}}return c.classList.add(Tt),()=>{c.classList.remove(Tt),l.forEach(m=>m())}},[r,e,n,i]),o.createElement(o.Fragment,null,t)}const Ro=de(Ln,Oo);function At(e){return Se(tt,e)}function Zt(e,t,r){const n=e.getAttribute(t);return e.setAttribute(t,r),()=>{n?e.setAttribute(t,n):e.removeAttribute(t)}}function ko({children:e,animation:t,styles:r,className:n,on:i,portal:l,close:s,labels:c}){const[a,h]=o.useState(!1),[m,u]=o.useState(!1),d=o.useRef([]),f=o.useRef(null),{setTimeout:p}=We(),{subscribe:g}=Ze(),b=ht()?0:t.fade;o.useEffect(()=>(h(!0),()=>{h(!1),u(!1)}),[]);const C=T(()=>{d.current.forEach(M=>M()),d.current=[]}),y=T(()=>{var M;u(!1),C(),(M=i.exiting)===null||M===void 0||M.call(i),p(()=>{var E;(E=i.exited)===null||E===void 0||E.call(i),s()},b)});o.useEffect(()=>g(be,y),[g,y]);const O=T(M=>{var E,V,L;Gn(M),u(!0),(E=i.entering)===null||E===void 0||E.call(i);const A=(L=(V=M.parentNode)===null||V===void 0?void 0:V.children)!==null&&L!==void 0?L:[];for(let N=0;N<A.length;N+=1){const W=A[N];["TEMPLATE","SCRIPT","STYLE"].indexOf(W.tagName)===-1&&W!==M&&(d.current.push(Zt(W,"inert","")),d.current.push(Zt(W,"aria-hidden","true")))}d.current.push(()=>{var N,W;(W=(N=f.current)===null||N===void 0?void 0:N.focus)===null||W===void 0||W.call(N)}),p(()=>{var N;(N=i.entered)===null||N===void 0||N.call(i)},b)}),R=o.useCallback(M=>{M?O(M):C()},[O,C]);return a?Mn.createPortal(o.createElement(go,{ref:R,className:ie(n,k(At()),k(Yt),m&&k(At("open"))),"aria-modal":!0,role:"dialog","aria-label":Ee(c,"Lightbox"),style:v(v(v({},t.fade!==Je.animation.fade?{[q("fade_animation_duration")]:`${b}ms`}:null),t.easing.fade!==Je.animation.easing.fade?{[q("fade_animation_timing_function")]:t.easing.fade}:null),r.root),onFocus:M=>{f.current||(f.current=M.relatedTarget)}},e),l.root||document.body):null}const To=de(tt,ko);function Do({children:e}){return o.createElement(o.Fragment,null,e)}const Ao=de(On,Do);function Zo(e){return Se(Xt,e)}function Wo({toolbar:{buttons:e},render:{buttonClose:t,iconClose:r},styles:n}){const{close:i,setToolbarWidth:l}=ce(),{setContainerRef:s,containerRect:c}=fn();se(()=>{l(c==null?void 0:c.width)},[l,c==null?void 0:c.width]);const a=()=>t?t():o.createElement(ft,{key:be,label:"Close",icon:lo,renderIcon:r,onClick:i});return o.createElement("div",{ref:s,style:n.toolbar,className:k(Zo())},e==null?void 0:e.map(h=>h===be?a():h))}const $o=de(Xt,Wo);function gn(e,t){var r;return o.createElement(e.module.component,v({key:e.module.name},t),(r=e.children)===null||r===void 0?void 0:r.map(n=>gn(n,t)))}function Fo(e,t={}){const s=e,{easing:r}=s,n=J(s,["easing"]),c=t,{easing:i}=c,l=J(c,["easing"]);return v(v({easing:v(v({},r),i)},n),l)}function Vo(u){var d=u,{carousel:e,animation:t,render:r,toolbar:n,controller:i,noScroll:l,on:s,plugins:c,slides:a,index:h}=d,m=J(d,["carousel","animation","render","toolbar","controller","noScroll","on","plugins","slides","index"]);const N=Je,{animation:f,carousel:p,render:g,toolbar:_,controller:b,noScroll:C,on:y,slides:O,index:R,plugins:M}=N,E=J(N,["animation","carousel","render","toolbar","controller","noScroll","on","slides","index","plugins"]),{config:V,augmentation:L}=qn([B(To,[B(Ro,[B(wo,[B(Po),B($o),B(No)])])])],c||M),A=L(v(v({animation:Fo(f,t),carousel:v(v({},p),e),render:v(v({},g),r),toolbar:v(v({},_),n),controller:v(v({},b),i),noScroll:v(v({},C),l),on:v(v({},y),s)},E),m));return A.open?o.createElement(to,v({},A),o.createElement(ro,{slides:a||O,index:De(h||R)},o.createElement(io,null,o.createElement(eo,null,o.createElement(Qn,null,gn(B(Ao,V),A)))))):null}const Uo={minZoom:1,maxZoomPixelRatio:1,zoomInMultiplier:2,doubleTapDelay:300,doubleClickDelay:500,doubleClickMaxStops:2,keyboardMoveDistance:50,wheelZoomDistanceFactor:100,pinchZoomDistanceFactor:100,pinchZoomV4:!1,scrollToZoom:!1};function Xo(e){return Math.min(Math.max(e,Number.EPSILON),1)}function vn(e){const n=v(v({},Uo),e),{minZoom:t}=n,r=J(n,["minZoom"]);return v({minZoom:Xo(t)},r)}function Yo(e,t,r,n){const i=o.useRef(void 0),l=o.useRef(void 0),{zoom:s}=te().animation,c=ht(),a=T(()=>{var h,m,u;if((h=i.current)===null||h===void 0||h.cancel(),i.current=void 0,l.current&&(n!=null&&n.current)){try{i.current=(u=(m=n.current).animate)===null||u===void 0?void 0:u.call(m,[{transform:l.current},{transform:`scale(${e}) translateX(${t}px) translateY(${r}px)`}],{duration:c?0:s!=null?s:500,easing:i.current?"ease-out":"ease-in-out"})}catch(d){console.error(d)}l.current=void 0,i.current&&(i.current.onfinish=()=>{i.current=void 0})}});return se(a,[e,t,r,a]),o.useCallback(()=>{l.current=n!=null&&n.current?window.getComputedStyle(n.current).transform:void 0},[n])}function zo(e,t){const{on:r}=te(),n=T(()=>{var i;t||(i=r.zoom)===null||i===void 0||i.call(r,{zoom:e})});o.useEffect(n,[e,n])}function $e(){const{zoom:e}=te();return vn(e)}function Bo(e,t){var r,n;let i={width:0,height:0},l={width:0,height:0};const{currentSlide:s}=fe(),{imageFit:c}=te().carousel,{maxZoomPixelRatio:a}=$e();if(e&&s){const m=v(v({},s),t);if(we(m)){const u=ut(m,c),d=Math.max(...(((r=m.srcSet)===null||r===void 0?void 0:r.map(p=>p.width))||[]).concat(m.width?[m.width]:[])),f=Math.max(...(((n=m.srcSet)===null||n===void 0?void 0:n.map(p=>p.height))||[]).concat(m.height?[m.height]:[]));d>0&&f>0&&e.width>0&&e.height>0&&(l=u?{width:Math.round(Math.min(d,e.width/e.height*f)),height:Math.round(Math.min(f,e.height/e.width*d))}:{width:d,height:f},l={width:l.width*a,height:l.height*a},i=u?{width:Math.min(e.width,l.width,d),height:Math.min(e.height,l.height,f)}:{width:Math.round(Math.min(e.width,e.height/f*d,d)),height:Math.round(Math.min(e.height,e.width/d*f,f))})}}const h=i.width?Math.max(at(l.width/i.width,5),1):1;return{imageRect:i,maxZoom:h}}function Wt(e,t){return Math.hypot(e.clientX-t.clientX,e.clientY-t.clientY)}function $t(e,t,r=100,n=2){return e*Pe(Math.min(1+Math.abs(t/r),n),Math.sign(t))}function Ho(e,t,r,n,i,l,s,c,a){const h=o.useRef([]),m=o.useRef(0),u=o.useRef(void 0),{globalIndex:d}=fe(),{getOwnerWindow:f}=Ae(),{containerRef:p,subscribeSensors:g}=ce(),{keyboardMoveDistance:_,zoomInMultiplier:b,wheelZoomDistanceFactor:C,scrollToZoom:y,doubleTapDelay:O,doubleClickDelay:R,doubleClickMaxStops:M,pinchZoomDistanceFactor:E,pinchZoomV4:V}=$e(),L=o.useCallback(w=>{if(p.current){const{pageX:P,pageY:X}=w,{scrollX:K,scrollY:H}=f(),{left:S,top:z,width:ae,height:ue}=p.current.getBoundingClientRect();return[P-S-K-ae/2,X-z-H-ue/2]}return[]},[p,f]),A=T(w=>{const{key:P,metaKey:X,ctrlKey:K}=w,H=X||K,S=()=>{w.preventDefault(),w.stopPropagation()};if(e>1){const z=(ae,ue)=>{S(),c(ae,ue)};P==="ArrowDown"?z(0,_):P==="ArrowUp"?z(0,-_):P==="ArrowLeft"?z(-_,0):P==="ArrowRight"&&z(_,0)}P==="+"||H&&P==="="?(S(),i()):P==="-"||H&&P==="_"?(S(),l()):H&&P==="0"&&(S(),s(1))}),N=T(w=>{if((w.ctrlKey||y)&&Math.abs(w.deltaY)>Math.abs(w.deltaX)){w.stopPropagation(),s($t(e,-w.deltaY,C),!0,...L(w));return}e>1&&(w.stopPropagation(),y||c(w.deltaX,w.deltaY))}),W=o.useCallback(w=>{const P=h.current;P.splice(0,P.length,...P.filter(X=>X.pointerId!==w.pointerId))},[]),I=o.useCallback(w=>{W(w),w.persist(),h.current.push(w)},[W]),Z=T(w=>{var P;const X=h.current;if(w.pointerType==="mouse"&&w.buttons>1||!(!((P=a==null?void 0:a.current)===null||P===void 0)&&P.contains(w.target)))return;e>1&&w.stopPropagation();const{timeStamp:K}=w;if(X.length===0&&K-m.current<(w.pointerType==="touch"?O:R)){m.current=0;const H=e>=1?e!==r?e*Math.max(Pe(r,1/M),b):1:e!==t?e/Math.max(Pe(t,-1/M),b):1;s(H,!1,...L(w))}else m.current=K;if(I(w),X.length===2){const H=Wt(X[0],X[1]);u.current={previousDistance:H,initialDistance:Math.max(H,1),initialZoom:e}}}),$=T(w=>{const P=h.current,X=P.find(K=>K.pointerId===w.pointerId);if(P.length===2&&u.current){w.stopPropagation(),I(w);const K=Wt(P[0],P[1]),H=V?u.current.initialZoom/u.current.initialDistance*K:$t(e,K-u.current.previousDistance,E);s(H,!0,...P.map(S=>L(S)).reduce((S,z)=>z.map((ae,ue)=>S[ue]+ae/2))),u.current.previousDistance=K;return}e>1&&(w.stopPropagation(),X&&(P.length===1&&c((X.clientX-w.clientX)/e,(X.clientY-w.clientY)/e),I(w)))}),U=o.useCallback(w=>{const P=h.current;P.length===2&&P.find(X=>X.pointerId===w.pointerId)&&(u.current=void 0),W(w)},[W]),D=o.useCallback(()=>{const w=h.current;w.splice(0,w.length),m.current=0,u.current=void 0},[]);hn(g,Z,$,U,n),o.useEffect(D,[d,D]),o.useEffect(()=>n?()=>{}:lt(D,g(rt,A),g(it,N)),[n,g,D,A,N])}function Ko(e,t,r){const[n,i]=o.useState(1),[l,s]=o.useState(0),[c,a]=o.useState(0),h=Yo(n,l,c,r),{currentSlide:m,globalIndex:u}=fe(),{containerRect:d,slideRect:f}=ce(),{minZoom:p,zoomInMultiplier:g}=$e(),_=m&&we(m)?m.src:void 0,b=!_||!(r!=null&&r.current);se(()=>{i(1),s(0),a(0)},[u,_]);const C=o.useCallback((E,V,L)=>{const A=L||n,N=l-(E||0),W=c-(V||0),I=(e.width*A-f.width)/2/A,Z=(e.height*A-f.height)/2/A;s(Math.min(Math.abs(N),Math.max(I,0))*Math.sign(N)),a(Math.min(Math.abs(W),Math.max(Z,0))*Math.sign(W))},[n,l,c,f,e.width,e.height]),y=o.useCallback((E,V,L,A)=>{const N=at(E+.01<t?E-.01>p?E:p:t,5);V||h(),C(L?L*(1/n-1/N):0,A?A*(1/n-1/N):0,N),i(N)},[n,p,t,C,h]),O=T(()=>{n>1&&(n>t&&y(t,!0),C())});se(O,[d.width,d.height,O]);const R=o.useCallback(()=>{const E=n*g;y(n<1&&E>1?1:E)},[n,g,y]),M=o.useCallback(()=>{const E=n/g;y(n>1&&E<1?1:E)},[n,g,y]);return{zoom:n,offsetX:l,offsetY:c,disabled:b,changeOffsets:C,changeZoom:y,zoomIn:R,zoomOut:M}}const xn=o.createContext(null),pt=le("useZoom","ZoomControllerContext",xn);function jo({children:e}){const[t,r]=o.useState(),{slideRect:n}=ce(),{ref:i,minZoom:l}=$e(),{imageRect:s,maxZoom:c}=Bo(n,t==null?void 0:t.imageDimensions),{zoom:a,offsetX:h,offsetY:m,disabled:u,changeZoom:d,changeOffsets:f,zoomIn:p,zoomOut:g}=Ko(s,c,t==null?void 0:t.zoomWrapperRef);zo(a,u),Ho(a,l,c,u,p,g,d,f,t==null?void 0:t.zoomWrapperRef);const _=o.useMemo(()=>({zoom:a,minZoom:l,maxZoom:c,offsetX:h,offsetY:m,disabled:u,zoomIn:p,zoomOut:g,changeZoom:d}),[a,l,c,h,m,u,p,g,d]);o.useImperativeHandle(i,()=>_,[_]);const b=o.useMemo(()=>Q(v({},_),{setZoomWrapper:r}),[_,r]);return o.createElement(xn.Provider,{value:b},e)}const Go=ge("ZoomIn",o.createElement(o.Fragment,null,o.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),o.createElement("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"}))),qo=ge("ZoomOut",o.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"})),Ft=o.forwardRef(function({zoomIn:t,onLoseFocus:r},n){const i=o.useRef(!1),l=o.useRef(!1),{zoom:s,minZoom:c,maxZoom:a,zoomIn:h,zoomOut:m,disabled:u}=pt(),{render:d}=te(),f=u||(t?s>=a:s<=c);return o.useEffect(()=>{f&&i.current&&l.current&&r(),f||(i.current=!0)},[f,r]),o.createElement(ft,{ref:n,disabled:f,label:t?"Zoom in":"Zoom out",icon:t?Go:qo,renderIcon:t?d.iconZoomIn:d.iconZoomOut,onClick:t?h:m,onFocus:()=>{l.current=!0},onBlur:()=>{l.current=!1}})});function Qo(){const e=o.useRef(null),t=o.useRef(null),{focus:r}=ce(),n=o.useCallback(s=>{var c,a;!((c=s.current)===null||c===void 0)&&c.disabled?r():(a=s.current)===null||a===void 0||a.focus()},[r]),i=o.useCallback(()=>n(e),[n]),l=o.useCallback(()=>n(t),[n]);return o.createElement(o.Fragment,null,o.createElement(Ft,{zoomIn:!0,ref:e,onLoseFocus:l}),o.createElement(Ft,{ref:t,onLoseFocus:i}))}function Jo(){const{render:e}=te(),t=pt();return e.buttonZoom?o.createElement(o.Fragment,null,e.buttonZoom(t)):o.createElement(Qo,null)}function er(e){var t;return(((t=e.srcSet)===null||t===void 0?void 0:t.length)||0)>0}function tr({current:e,preload:t},{type:r,source:n}){switch(r){case"fetch":return e?{current:e,preload:n}:{current:n};case"done":return n===t?{current:n}:{current:e,preload:t};default:throw new Error(Qt)}}function nr(e){var t,r;const[{current:n,preload:i},l]=o.useReducer(tr,{}),{slide:s,rect:c,imageFit:a,render:h,interactive:m}=e,u=s.srcSet.sort((R,M)=>R.width-M.width),d=(t=s.width)!==null&&t!==void 0?t:u[u.length-1].width,f=(r=s.height)!==null&&r!==void 0?r:u[u.length-1].height,p=ut(s,a),g=Math.max(...u.map(R=>R.width)),_=Math.min((p?Math.max:Math.min)(c.width,d*(c.height/f)),g),b=Yn(),C=T(()=>{var R;const M=(R=u.find(E=>E.width>=_*b))!==null&&R!==void 0?R:u[u.length-1];(!n||u.findIndex(E=>E.src===n)<u.findIndex(E=>E===M))&&l({type:"fetch",source:M.src})});se(C,[c.width,c.height,b,C]);const y=T(R=>l({type:"done",source:R})),O={WebkitTransform:m?"initial":"translateZ(0)"};return p||Object.assign(O,c.width/c.height<d/f?{width:"100%",height:"auto"}:{width:"auto",height:"100%"}),o.createElement(o.Fragment,null,i&&i!==n&&o.createElement(Te,Q(v({key:"preload"},e),{offset:void 0,slide:Q(v({},s),{src:i,srcSet:void 0}),style:v({position:"absolute",visibility:"hidden"},O),onLoad:()=>y(i),render:Q(v({},h),{iconLoading:()=>null,iconError:()=>null})})),n&&o.createElement(Te,Q(v({key:"current"},e),{slide:Q(v({},s),{src:n,srcSet:void 0}),style:O})))}function or({render:e,slide:t,offset:r,rect:n}){var i;const[l,s]=o.useState(),c=o.useRef(null),{zoom:a,maxZoom:h,offsetX:m,offsetY:u,setZoomWrapper:d}=pt(),f=a>1,{carousel:p,on:g}=te(),{currentIndex:_}=fe();se(()=>r===0?(d({zoomWrapperRef:c,imageDimensions:l}),()=>d(void 0)):()=>{},[r,l,d]);let b=(i=e.slide)===null||i===void 0?void 0:i.call(e,{slide:t,offset:r,rect:n,zoom:a,maxZoom:h});if(!b&&we(t)){const C={slide:t,offset:r,rect:n,render:e,imageFit:p.imageFit,imageProps:p.imageProps,onClick:r===0?()=>{var y;return(y=g.click)===null||y===void 0?void 0:y.call(g,{index:_})}:void 0};b=er(t)?o.createElement(nr,Q(v({},C),{slide:t,interactive:f,rect:r===0?{width:n.width*a,height:n.height*a}:n})):o.createElement(Te,v({onLoad:y=>s({width:y.naturalWidth,height:y.naturalHeight})},C))}return b?o.createElement("div",{ref:c,className:ie(k(Tn),k(nt),k(zt),f&&k(An)),style:r===0?{transform:`scale(${a}) translateX(${m}px) translateY(${u}px)`}:void 0},b):null}const rr=({augment:e,addModule:t})=>{e(c=>{var a=c,{zoom:r,toolbar:n,render:i,controller:l}=a,s=J(a,["zoom","toolbar","render","controller"]);const h=vn(r);return v({zoom:h,toolbar:Bn(n,Pt,o.createElement(Jo,null)),render:Q(v({},i),{slide:m=>{var u;return we(m.slide)?o.createElement(or,v({render:i},m)):(u=i.slide)===null||u===void 0?void 0:u.call(i,m)}}),controller:Q(v({},l),{preventDefaultWheelY:h.scrollToZoom})},s)}),t(de(Pt,jo))},ir=({id:e,title:t,imageUrl:r,imageUrls:n=[],imageAlt:i="",tags:l=[],category:s=null,projectUrl:c=null,onClick:a=null,className:h=""})=>{const[m,u]=Nn({threshold:.1}),[d,f]=o.useState(!1),p=Array.isArray(n)&&n.length>0?n:r?[r]:[],g=()=>{a&&a({id:e,title:t,imageUrl:r,imageUrls:p,tags:l,category:s})},_=C=>{C.stopPropagation(),f(!0)},b=()=>{f(!1)};return Y.jsxs("article",{ref:u,className:`relative overflow-visible bg-white dark:bg-gray-900 rounded-xl transition-all duration-500 ease-out group ${c?"hover:-translate-y-2 hover:shadow-[0_25px_50px_-12px_rgba(0,43,73,0.15)] dark:hover:shadow-[0_25px_50px_-12px_rgba(0,176,240,0.15)]":""} ${m?"opacity-100 translate-y-0":"opacity-0 translate-y-8"} ${h}`,onClick:g,children:[Y.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden bg-gradient-to-br from-gray-50 to-gray-200 dark:from-gray-800 dark:to-gray-900 flex items-center justify-center transition-all duration-700",children:[r?Y.jsx("img",{alt:i||t,className:`w-full h-full object-cover rounded-lg shadow-2xl transition-transform duration-700 ${s==="mobile"?"w-[60%] rounded-[2.5rem]":""} group-hover:scale-110`,src:r,loading:"lazy"}):Y.jsx("div",{className:"w-full h-full bg-primary/10 rounded-lg flex items-center justify-center",children:Y.jsx("span",{className:"material-symbols-outlined text-6xl text-primary/30",children:"image"})}),r&&Y.jsx("button",{type:"button","aria-label":`Expand preview for ${t}`,onClick:_,className:"absolute bottom-3 right-3 w-11 h-11 rounded-full bg-white/85 dark:bg-slate-900/85 text-navy-deep dark:text-white backdrop-blur-md border border-white/40 dark:border-white/20 shadow-lg transition-all duration-300 hover:scale-110 hover:bg-white dark:hover:bg-slate-800",children:Y.jsx("span",{className:"material-symbols-outlined text-[22px] leading-none",children:"open_in_full"})})]}),Y.jsx("div",{className:"p-6",children:Y.jsxs("div",{className:"flex items-end justify-between gap-4",children:[Y.jsxs("div",{className:"min-w-0",children:[t&&Y.jsx("h3",{className:"text-xl font-bold text-navy-deep dark:text-white mb-3 truncate",children:t}),l&&l.length>0&&Y.jsx("div",{className:"flex flex-wrap gap-2",children:l.map((C,y)=>Y.jsx("span",{className:"px-3 py-1 text-[10px] font-bold border border-navy-deep/20 dark:border-white/20 rounded-full text-navy-deep/70 dark:text-white/70 uppercase",children:C},y))})]}),c&&Y.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer",onClick:C=>C.stopPropagation(),"aria-label":`Open project: ${t}`,className:"group/link shrink-0 w-11 h-11 rounded-full bg-navy-deep dark:bg-white text-white dark:text-navy-deep flex items-center justify-center shadow-lg transition-all duration-300 hover:scale-110 hover:bg-primary dark:hover:bg-primary dark:hover:text-white",children:Y.jsx("span",{className:"material-symbols-outlined text-[22px] transition-transform duration-300 group-hover/link:translate-x-0.5",children:"arrow_forward"})})]})}),p.length>0&&Y.jsx(Vo,{open:d,close:b,slides:p.map(C=>({src:C,alt:i||t||"Portfolio preview"})),plugins:[rr],carousel:{finite:p.length<=1},controller:{closeOnBackdropClick:!0},zoom:{maxZoomPixelRatio:3,zoomInMultiplier:2,wheelZoomDistanceFactor:140},render:p.length<=1?{buttonPrev:()=>null,buttonNext:()=>null}:void 0,styles:{container:{backgroundColor:"rgba(2, 8, 23, 0.90)"}}})]})},cr=({projects:e=[],activeFilter:t="all",onProjectClick:r=null,columns:n=3,className:i=""})=>{const l={1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-4"},s=o.useMemo(()=>t==="all"?e:e.filter(c=>{const a=(c.category||c.type||"").toLowerCase();return a===t||a.includes(t)||c.tags&&c.tags.some(h=>h.toLowerCase().includes(t))}),[e,t]);return Y.jsx("div",{className:`grid ${l[n]||l[3]} gap-8 lg:gap-10 ${i}`,children:s.length===0?Y.jsx("div",{className:"col-span-full text-center py-12 text-[#5e808d] dark:text-gray-400",children:Y.jsx("p",{children:"No projects found in this category."})}):s.map((c,a)=>Y.jsx(ir,{id:c.id,title:c.title||c.name||"Project",imageUrl:c.imageUrl||c.image||c.thumbnail||c.thumbnail_url,imageUrls:Array.isArray(c.images)?c.images:[],imageAlt:c.imageAlt||c.title||"Project image",tags:c.tags||c.technologies||c.tech_stack||[],category:c.category||c.type||null,projectUrl:c.projectUrl||c.project_url||null,onClick:r,className:""},c.id||a))})};export{cr as default};
